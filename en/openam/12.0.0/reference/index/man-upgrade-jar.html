<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>upgrade.jar</title><link rel="stylesheet" type="text/css" href="coredoc.css"><link rel="stylesheet" type="text/css" href="css/coredoc.css"><link rel="stylesheet" type="text/css" href="sh/shCore.css"><link rel="stylesheet" type="text/css" href="sh/shCoreEclipse.css"><link rel="stylesheet" type="text/css" href="sh/shThemeEclipse.css"><script src="http://code.jquery.com/jquery-1.11.0.min.js" type="text/javascript"></script><script src="uses-jquery.js" type="text/javascript"></script><script src="sh/shCore.js" type="text/javascript"></script><script src="sh/shBrushAci.js" type="text/javascript"></script><script src="sh/shBrushBash.js" type="text/javascript"></script><script src="sh/shBrushCsv.js" type="text/javascript"></script><script src="sh/shBrushHttp.js" type="text/javascript"></script><script src="sh/shBrushJava.js" type="text/javascript"></script><script src="sh/shBrushJScript.js" type="text/javascript"></script><script src="sh/shBrushLDIF.js" type="text/javascript"></script><script src="sh/shBrushPlain.js" type="text/javascript"></script><script src="sh/shBrushProperties.js" type="text/javascript"></script><script src="sh/shBrushXml.js" type="text/javascript"></script><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="OpenAM Reference"><link rel="up" href="rn01.html" title="OpenAM Command Line Tools"><link rel="prev" href="man-configurator-jar-1.html" title="configurator.jar"><link rel="next" href="ssoadm-1.html" title="ssoadm"><link rel="copyright" href="legalnotice.html" title="Legal Notice"><script type="text/javascript">SyntaxHighlighter.all();</script>
<link rel="shortcut icon" href="http://forgerock.org/favicon.ico">
</head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">upgrade.jar</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="man-configurator-jar-1.html">Prev</a>&nbsp;</td><th width="60%" align="center">OpenAM Command Line Tools</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ssoadm-1.html">Next</a></td></tr></table><hr></div><div lang="en" class="refentry"><a name="man-upgrade-jar"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>upgrade.jar &#8212; upgrade OpenAM using a configuration file</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">upgrade.jar</code>  {options}</p></div></div><div class="refsect1"><a name="d0e1340"></a><h2>Description</h2><p>This executable jar file, openam-upgrade-tool-12.0.0.jar, lets you
            perform a silent upgrade on a deployed OpenAM server by applying
            settings from a configuration file or using arguments. This capability allows you to
            include the <code class="literal">upgrade.jar</code> from a command line or in an upgrade script.</p></div><div class="refsect1"><a name="d0e1348"></a><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-f | --file <em class="replaceable"><code>configuration-file</code></em></code></span></dt><dd><p>Upgrade a deployed OpenAM web application archive using the
          specified configuration file. Upgrade configuration
          files are described in the sections below.
          Also, you can specify the system properties on the command line,
          instead of using the configuration file.
          See Example 2 below.</p></dd><dt><span class="term"><code class="option">--acceptLicense</code></span></dt><dd><p>Auto-accept the software license agreement and suppress the display
           of the licence acceptance screen to the user. If the configuration file
           contains the <code class="literal">ACCEPT_LICENSES</code> property,
           it will have precedence over the command-line option.</p></dd><dt><span class="term"><code class="option">-? | --help</code></span></dt><dd><p>Display the usage message.</p></dd></dl></div></div><div class="refsect1"><a name="d0e1380"></a><h2>Upgrade Configuration File</h2><p>Base your configuration on the <code class="filename">sampleupgrade</code>
         file delivered with OpenAM, and using the hints in this section, or the
         comments included in the file.</p><div class="variablelist"><div class="variablelist-title">Upgrade Properties</div><dl class="variablelist"><dt><span class="term">SERVER_URL</span></dt><dd><p>URL to the web container where OpenAM runs, such as
             <code class="literal">http://openam.example.com:8080</code>.</p></dd><dt><span class="term">DEPLOYMENT_URI</span></dt><dd><p>URI where OpenAM is deployed on the web container, such as
               <code class="literal">/openam</code>.</p></dd><dt><span class="term">ACCEPT_LICENSES</span></dt><dd><p>Optional boolean property that can be set to always auto-accept
              the software license agreement and suppress displaying the
              license acceptance screen to the user.
              A value of <code class="literal">true</code> auto-accepts the license;
              any other value will be assumed to equal <code class="literal">false</code>,
              resulting in the presentation of the license.
              Default value is <code class="literal">false</code>.
              This property takes precedence over the <code class="literal">--acceptLicense</code>
              option, which can also be passed in to the application with the
              openam-upgrade-tool-12.0.0.jar file.
             </p></dd></dl></div></div><div class="refsect1"><a name="d0e1427"></a><h2>Examples</h2><p>The following example shows a configuration file and the commands to upgrade a server
        using the <code class="literal">upgrade.jar</code>.
        The configuration file is saved as <code class="literal">/tmp/upgrade.txt</code>.</p><pre class="brush: plain;">SERVER_URL=http://openam.example.com:8080
DEPLOYMENT_URI=/openam
ACCEPT_LICENSES=true</pre><pre class="literallayout">$JAVA_HOME/bin/java -jar ~/openam/tools/openam-upgrade-tool-12.0.0.jar \
 -f /tmp/upgrade.txt</pre><p>The following example shows how to specify system properties with the <code class="literal">upgrade.jar</code>.</p><pre class="brush: plain;">SERVER_URL=http://openam.example.com:8080
DEPLOYMENT_URI=/openam
ACCEPT_LICENSES=true</pre><pre class="literallayout">$JAVA_HOME/bin/java -jar ~/openam/tools/openam-upgrade-tool-12.0.0.jar \
 -DSERVER_URL=http://openam.example.com:8080 -DDEPLOYMENT_URI=/openam</pre><p>The following example shows the use of the <code class="literal">--acceptLicense</code>
         option with the <code class="literal">upgrade.jar</code>.</p><pre class="brush: plain;">SERVER_URL=http://openam.example.com:8080
DEPLOYMENT_URI=/openam</pre><pre class="literallayout">$JAVA_HOME/bin/java -jar ~/openam/tools/openam-upgrade-tool-12.0.0.jar \
 -DSERVER_URL=http://openam.example.com:8080 -DDEPLOYMENT_URI=/openam \
 --acceptLicense</pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="man-configurator-jar-1.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="rn01.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ssoadm-1.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">configurator.jar&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;ssoadm</td></tr></table></div><p>&nbsp;</p><div id="footer"><p>Something wrong on this page? <a href="https://bugster.forgerock.org/jira/secure/CreateIssueDetails!init.jspa?pid=10000&components=10007&issuetype=1">Log a documentation bug.</a></p></div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-23412190-14']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body></html>