<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_31) on Sat Apr 14 19:18:31 CEST 2012 -->
<TITLE>
AMLoginModule (OpenAM Public API)
</TITLE>

<META NAME="date" CONTENT="2012-04-14">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AMLoginModule (OpenAM Public API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../com/sun/identity/authentication/spi/AMAuthCallBackException.html" title="class in com.sun.identity.authentication.spi"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../com/sun/identity/authentication/spi/AMPostAuthProcessInterface.html" title="interface in com.sun.identity.authentication.spi"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/sun/identity/authentication/spi/AMLoginModule.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AMLoginModule.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.sun.identity.authentication.spi</FONT>
<BR>
Class AMLoginModule</H2>
<PRE>
<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>com.sun.identity.authentication.spi.AMLoginModule</B>
</PRE>
<HR>
<DL>
<DT><PRE>public abstract class <B>AMLoginModule</B><DT>extends <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
An abstract class which implements JAAS LoginModule, it provides
 methods to access OpenSSO services and the module
 xml configuration.
 <p>
 Because it is an abstract class, Login Module writers must subclass
 and implement init(), process(), getPrincipal() methods.
 <p>
 The Callback[] for the Login Module is dynamically generated based
 on the xml module configuration. The module configuration file name
 must be the same as the name of the class (no package name) and have the
 extension .xml.
 <p>
 Here is a sample module configuration file:
 <pre>
 &lt;ModuleProperties moduleClass="LDAP" version="1.0" &gt;
     &lt;Callbacks length="2" order="1" timeout="60" header="LDAP
     Authentication" &gt;
         &lt;NameCallback&gt;
             &lt;Prompt&gt; Enter UserId &lt;/Prompt&gt;
         &lt;/NameCallback&gt;
         &lt;PasswordCallback echoPassword="false" &gt;
             &lt;Prompt&gt; Enter Password &lt;/Prompt&gt;
         &lt;/PasswordCallback&gt;
     &lt;/Callbacks&gt;
     &lt;Callbacks length="3" order="2" timeout="120" header="Password
     Expiring Please Change" &gt;
         &lt;PasswordCallback echoPassword="false" &gt;
             &lt;Prompt&gt; Enter Current Password &lt;/Prompt&gt;
         &lt;/PasswordCallback&gt;
         &lt;PasswordCallback echoPassword="false" &gt;
             &lt;Prompt&gt; Enter New Password &lt;/Prompt&gt;
         &lt;/PasswordCallback&gt;
         &lt;PasswordCallback echoPassword="false" &gt;
             &lt;Prompt&gt; Confirm New Password &lt;/Prompt&gt;
         &lt;/PasswordCallback&gt;
     &lt;/Callbacks&gt;
 &lt;/ModuleProperties&gt;
 </pre>
 Each Callbacks Element corresponds to one login state.
 When an authentication process is invoked, there will be Callback[]
 generated from user's Login Module for each state. All login state
 starts with 1, then module controls the login process, and decides what's
 the next state to go in the process() method.
 <p>
 In the sample module configuration shown above, state one has
 three Callbacks, Callback[0] is for module information, Callback[1] is
 for user ID, Callback[2] is for user password. When the user fills in the
 Callbacks, those Callback[] will be sent to the process() method, where
 the module writer gets the submitted Callbacks, validates them and returns.
 If user's password is expiring, the module writer will set the next
 state to 2. State two has four Callbacks to request user to change
 password. The process() routine is again
 called after user submits the Callback[]. If the module writer throws an
 LoginException, an 'authentication failed' page will be sent to the user.
 If no exception is thrown, the user will be redirected to their default
 page.
 <p>
 The optional 'timeout' attribute in each state is used to ensure that the
 user responds in a timely manner. If the time between sending the Callbacks
 and getting response is greater than the timeout, a timeout page will be
 sent.
 <p>
 There are also optional 'html' and 'image' attribute in each state. The
 'html' attribute allows the module writer to use a custom HTML
 page for the Login UI. The 'image' attribute allows the writer to display
 a custom background image on each page.
 <p>
 When multiple states are available to the user, the Callback array from a
 previous state may be retrieved by using the <code>getCallbak(int)</code>
 methods. The underlying login module keeps the Callback[] from the previous
 states until the login process is completed.
 <p>
 If a module writer need to substitute dynamic text in next state, the writer
 could use the <code>getCallback()</code> method to get the Callback[] for the
 next state, modify the output text or prompt, then call
 <code>replaceCallback()</code> to update the Callback array. This allows a
 module writer to dynamically generate challenges, passwords or user IDs.
 <p>
 Each authentication session will create a new instance of your
 Login Module Java class. The reference to the class will be
 released once the authentication session has either succeeded
 or failed. It is important to note that any static data or
 reference to any static data in your Login module
 must be thread-safe.
 <p>

 For a complete sample, please refer to
 &lt;install_root&gt;/SUNWam/samples/authentication/providers
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#clearInfoText(int)">clearInfoText</A></B>(int&nbsp;state)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clears the info text for a given callback state</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#destroyModuleState()">destroyModuleState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method should be overridden by each login module
 to destroy dispensable state fields.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getAttribute(int, int)">getAttribute</A></B>(int&nbsp;state,
             int&nbsp;index)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the attribute name for the specified callback in the
 specified login state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getAuthLevel()">getAuthLevel</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns authentication level that has been set for the module</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/javax/security/auth/callback/Callback.html?is-external=true" title="class or interface in javax.security.auth.callback">Callback</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getCallback(int)">getCallback</A></B>(int&nbsp;index)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a Callback array for a specific state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/javax/security/auth/callback/Callback.html?is-external=true" title="class or interface in javax.security.auth.callback">Callback</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getCallback(int, boolean)">getCallback</A></B>(int&nbsp;index,
            boolean&nbsp;fetchOrig)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a Callback array for a specific state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getCurrentState()">getCurrentState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the current state in the authentication process.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getFailCount(com.sun.identity.idm.AMIdentity)">getFailCount</A></B>(<A HREF="../../../../../com/sun/identity/idm/AMIdentity.html" title="class in com.sun.identity.idm">AMIdentity</A>&nbsp;amIdUser)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the number of failed login attempts for a user when account locking
 is enabled.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javaee/1.3/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getHttpServletRequest()">getHttpServletRequest</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the <code>HttpServletRequest</code> object that
 initiated the call to this module.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javaee/1.3/api/javax/servlet/http/HttpServletResponse.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletResponse</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getHttpServletResponse()">getHttpServletResponse</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the <code>HttpServletResponse</code> object for the servlet
 request that initiated the call to this module.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getInfoText(int, int)">getInfoText</A></B>(int&nbsp;state,
            int&nbsp;index)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the info text associated with a specific callback</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getLocale()">getLocale</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the locale for this authentication session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getMaximumFailCount()">getMaximumFailCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the maximum number failed login attempts permitted for a user
 before when their account is locked out.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getNewUserIDs(java.util.Map, int)">getNewUserIDs</A></B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&nbsp;attributes,
              int&nbsp;num)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a set of user IDs generated from the class defined
 in the Core Authentication Service.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getNumberOfStates()">getNumberOfStates</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number of authentication states for this
 login module.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getOrgProfile(java.lang.String)">getOrgProfile</A></B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;orgDN)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the organization attributes for specified organization.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getOrgServiceTemplate(java.lang.String, java.lang.String)">getOrgServiceTemplate</A></B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;orgDN,
                      <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serviceName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns service template attributes defined for the specified
 organization.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getPersistentCookieOn()">getPersistentCookieOn</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks if persistent cookie is on.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getPrincipal()">getPrincipal</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Abstract method must be implemeted by each login module to
 get the user Principal</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getRequestOrg()">getRequestOrg</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the organization DN for this authentication session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getServiceConfig(java.lang.String)">getServiceConfig</A></B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns service configuration attributes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getSessionId()">getSessionId</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a unique key for this authentication session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/iplanet/sso/SSOToken.html" title="interface in com.iplanet.sso">SSOToken</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getSSOSession()">getSSOSession</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an administration SSOToken for use the OpenAM APIs.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/iplanet/am/sdk/AMUser.html" title="interface in com.iplanet.am.sdk">AMUser</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getUserProfile(java.lang.String)">getUserProfile</A></B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;userDN)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>This method has been deprecated. Please use the
             IdRepo API's to get the AMIdentity object for the user. More
             information on how to use the Identity Repository APIs is
             available in the OpenSSO Developer's Guide.</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getUserSessionProperty(java.lang.String)">getUserSessionProperty</A></B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the property from the user session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#incrementFailCount(java.lang.String)">incrementFailCount</A></B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;userName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Increments the fail count for the given user.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#init(javax.security.auth.Subject, java.util.Map, java.util.Map)">init</A></B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/javax/security/auth/Subject.html?is-external=true" title="class or interface in javax.security.auth">Subject</A>&nbsp;subject,
     <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&nbsp;sharedState,
     <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&nbsp;options)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize this LoginModule.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#isAccountLocked(java.lang.String)">isAccountLocked</A></B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;userName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the named account is locked out, false otherwise.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#isRequired(int, int)">isRequired</A></B>(int&nbsp;state,
           int&nbsp;index)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks if a Callback is required to have input.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#process(javax.security.auth.callback.Callback[], int)">process</A></B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/javax/security/auth/callback/Callback.html?is-external=true" title="class or interface in javax.security.auth.callback">Callback</A>[]&nbsp;callbacks,
        int&nbsp;state)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Abstract method must be implemented by each login module to
 control the flow of the login process.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#replaceCallback(int, int, javax.security.auth.callback.Callback)">replaceCallback</A></B>(int&nbsp;state,
                int&nbsp;index,
                <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/javax/security/auth/callback/Callback.html?is-external=true" title="class or interface in javax.security.auth.callback">Callback</A>&nbsp;callback)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Replace Callback object for a specific state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#resetCallback(int, int)">resetCallback</A></B>(int&nbsp;state,
              int&nbsp;index)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reset a Callback instance to the original Callback for the specified
 state and the specified index.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#setAuthLevel(int)">setAuthLevel</A></B>(int&nbsp;auth_level)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the <code>AuthLevel</code> for this session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#setFailureID(java.lang.String)">setFailureID</A></B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;userID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the <code>userID</code> of user who failed authentication.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#setLoginFailureURL(java.lang.String)">setLoginFailureURL</A></B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;url)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the the login failure URL for the user.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#setLoginSuccessURL(java.lang.String)">setLoginSuccessURL</A></B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;url)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the the login successful URL for the user.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#setPersistentCookieOn()">setPersistentCookieOn</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Attempts to set the Persistent Cookie for this session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#setUserAttributes(java.util.Map)">setUserAttributes</A></B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&nbsp;attributeValuePairs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets a Map of attribute value pairs to be used when the authentication
 service is configured to dynamically create a user.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#setUserSessionProperty(java.lang.String, java.lang.String)">setUserSessionProperty</A></B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name,
                       <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets a property in the user session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#substituteHeader(int, java.lang.String)">substituteHeader</A></B>(int&nbsp;state,
                 <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;header)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use this method to replace the header text from the XML file with new
 text.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#substituteInfoText(int, int, java.lang.String)">substituteInfoText</A></B>(int&nbsp;state,
                   int&nbsp;callback,
                   <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;infoText)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allows you to set the info text for a specific callback.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#validatePassword(java.lang.String)">validatePassword</A></B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;userPassword)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Validate password for the distinguished user, this will use validation 
 plugin if exists to validate password</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#validateUserName(java.lang.String, java.lang.String)">validateUserName</A></B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;userName,
                 <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;regEx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Validates the given user name by using validation plugin if exists
 else it checks invalid characters in the source string.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getSSOSession()"><!-- --></A><H3>
getSSOSession</H3>
<PRE>
public <A HREF="../../../../../com/iplanet/sso/SSOToken.html" title="interface in com.iplanet.sso">SSOToken</A> <B>getSSOSession</B>()</PRE>
<DL>
<DD>Returns an administration SSOToken for use the OpenAM APIs.

 <I>NB:</I>This is not the SSOToken that represents the user, if you wish
 to set/get user session properties use the <code>setUserSessionProperty</code>
 and <code>getUserSessionProperty</code> method respectively.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>An administrative <code>SSOToken</code>.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if the authentication SSO session
         is null.</DL>
</DD>
</DL>
<HR>

<A NAME="getCallback(int)"><!-- --></A><H3>
getCallback</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/javax/security/auth/callback/Callback.html?is-external=true" title="class or interface in javax.security.auth.callback">Callback</A>[] <B>getCallback</B>(int&nbsp;index)</PRE>
<DL>
<DD>Returns a Callback array for a specific state.
 <p>
 This method can be used to retrieve Callback[] for any state. All
 previous submitted Callback[] information are kept until the login
 process is completed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>index</CODE> - order of state
<DT><B>Returns:</B><DD>Callback array for this state, return 0-length Callback array
     if there is no Callback defined for this state
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if unable to read the callbacks</DL>
</DD>
</DL>
<HR>

<A NAME="getCallback(int, boolean)"><!-- --></A><H3>
getCallback</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/javax/security/auth/callback/Callback.html?is-external=true" title="class or interface in javax.security.auth.callback">Callback</A>[] <B>getCallback</B>(int&nbsp;index,
                              boolean&nbsp;fetchOrig)</PRE>
<DL>
<DD>Return a Callback array for a specific state.
 <p>
 This method can be used to retrieve Callback[] for any state. All
 previous submitted Callback[] information are kept until the login
 process is completed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>index</CODE> - order of state<DD><CODE>fetchOrig</CODE> - boolean indicating even if the callbacks for this
        state have been previously retrieved, get the original callbacks
        from AMModuleProperties, if set to "true".
<DT><B>Returns:</B><DD>Callback array for this state, return 0-length Callback array
     if there is no Callback defined for this state
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if unable to read the callbacks</DL>
</DD>
</DL>
<HR>

<A NAME="replaceCallback(int, int, javax.security.auth.callback.Callback)"><!-- --></A><H3>
replaceCallback</H3>
<PRE>
public void <B>replaceCallback</B>(int&nbsp;state,
                            int&nbsp;index,
                            <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/javax/security/auth/callback/Callback.html?is-external=true" title="class or interface in javax.security.auth.callback">Callback</A>&nbsp;callback)</PRE>
<DL>
<DD>Replace Callback object for a specific state.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>state</CODE> - Order of login state<DD><CODE>index</CODE> - Index of Callback in the Callback array to be replaced
      for the specified state. Here index starts with 0, i.e. 0 means the
      first Callback in the Callback[], 1 means the second callback.<DD><CODE>callback</CODE> - Callback instance to be replaced
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if state or index is out of 
         bound, or callback instance is null.</DL>
</DD>
</DL>
<HR>

<A NAME="substituteInfoText(int, int, java.lang.String)"><!-- --></A><H3>
substituteInfoText</H3>
<PRE>
public void <B>substituteInfoText</B>(int&nbsp;state,
                               int&nbsp;callback,
                               <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;infoText)</PRE>
<DL>
<DD>Allows you to set the info text for a specific callback. Info Text is shown
 under the element in the Login page. It is used in the membership module to
 implement in-line feedback.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>state</CODE> - state in which the Callback[] to be reset<DD><CODE>callback</CODE> - the callback to associate the info text<DD><CODE>infoText</CODE> - the infotext for the callback
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if state/callback is out of bounds</DL>
</DD>
</DL>
<HR>

<A NAME="clearInfoText(int)"><!-- --></A><H3>
clearInfoText</H3>
<PRE>
public void <B>clearInfoText</B>(int&nbsp;state)</PRE>
<DL>
<DD>Clears the info text for a given callback state
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>state</CODE> - The state to clear all infotexts
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - Invalid state</DL>
</DD>
</DL>
<HR>

<A NAME="substituteHeader(int, java.lang.String)"><!-- --></A><H3>
substituteHeader</H3>
<PRE>
public void <B>substituteHeader</B>(int&nbsp;state,
                             <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;header)</PRE>
<DL>
<DD>Use this method to replace the header text from the XML file with new
 text. This method can be used multiple times on the same state replacing
 text with new text each time. Useful for modules that control their own
 error handling.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>state</CODE> - state state in which the Callback[] to be reset<DD><CODE>header</CODE> - The text of the header to be replaced
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if state is out of bounds</DL>
</DD>
</DL>
<HR>

<A NAME="resetCallback(int, int)"><!-- --></A><H3>
resetCallback</H3>
<PRE>
public void <B>resetCallback</B>(int&nbsp;state,
                          int&nbsp;index)</PRE>
<DL>
<DD>Reset a Callback instance to the original Callback for the specified
 state and the specified index. This will override change to the Callback
 instance by the <code>replaceCallback()</code> method.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>state</CODE> - state in which the Callback[] to be reset<DD><CODE>index</CODE> - index order of the Callback in the Callback[], index starts
        with 0, i.e. 0 means first callback instance, 1 means
        the second callback instance.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if state or index is out of bound.</DL>
</DD>
</DL>
<HR>

<A NAME="init(javax.security.auth.Subject, java.util.Map, java.util.Map)"><!-- --></A><H3>
init</H3>
<PRE>
public abstract void <B>init</B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/javax/security/auth/Subject.html?is-external=true" title="class or interface in javax.security.auth">Subject</A>&nbsp;subject,
                          <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&nbsp;sharedState,
                          <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&nbsp;options)</PRE>
<DL>
<DD>Initialize this LoginModule.
 <p>
 This is an abstract method, must be implemented by user's Login Module
 to initialize this LoginModule with the relevant information. If this
 LoginModule does not understand any of the data stored in sharedState
 or options parameters, they can be ignored.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>subject</CODE> - - the Subject to be authenticated.<DD><CODE>sharedState</CODE> - - state shared with other configured LoginModules.<DD><CODE>options</CODE> - - options specified in the login Configuration for this
     particular LoginModule. It contains all the global and organization
     attribute configuration for this module. The key of the map is the
     attribute name (e.g. <code>iplanet-am-auth-ldap-server</code>) as
     String, the value is the value of the corresponding attribute as Set.</DL>
</DD>
</DL>
<HR>

<A NAME="process(javax.security.auth.callback.Callback[], int)"><!-- --></A><H3>
process</H3>
<PRE>
public abstract int <B>process</B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/javax/security/auth/callback/Callback.html?is-external=true" title="class or interface in javax.security.auth.callback">Callback</A>[]&nbsp;callbacks,
                            int&nbsp;state)</PRE>
<DL>
<DD>Abstract method must be implemented by each login module to
 control the flow of the login process.
 <p>
 This method takes an array of sbumitted
 Callback, process them and decide the order of next state to go.
 Return -1 if the login is successful, return 0 if the
 LoginModule should be ignored.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>callbacks</CODE> - Callback[] for this Login state<DD><CODE>state</CODE> - Order of state. State order starts with 1.
<DT><B>Returns:</B><DD>order of next state.  return -1 if authentication
     is successful, return 0 if the LoginModule should be ignored.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/1.5.0/docs/api/javax/security/auth/login/LoginException.html?is-external=true" title="class or interface in javax.security.auth.login">LoginException</A></CODE> - if login fails.</DL>
</DD>
</DL>
<HR>

<A NAME="getPrincipal()"><!-- --></A><H3>
getPrincipal</H3>
<PRE>
public abstract <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</A> <B>getPrincipal</B>()</PRE>
<DL>
<DD>Abstract method must be implemeted by each login module to
 get the user Principal
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Principal</DL>
</DD>
</DL>
<HR>

<A NAME="destroyModuleState()"><!-- --></A><H3>
destroyModuleState</H3>
<PRE>
public void <B>destroyModuleState</B>()</PRE>
<DL>
<DD>This method should be overridden by each login module
 to destroy dispensable state fields.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getAuthLevel()"><!-- --></A><H3>
getAuthLevel</H3>
<PRE>
public int <B>getAuthLevel</B>()</PRE>
<DL>
<DD>Returns authentication level that has been set for the module
<P>
<DD><DL>

<DT><B>Returns:</B><DD>authentication level of this authentication session</DL>
</DD>
</DL>
<HR>

<A NAME="setAuthLevel(int)"><!-- --></A><H3>
setAuthLevel</H3>
<PRE>
public boolean <B>setAuthLevel</B>(int&nbsp;auth_level)</PRE>
<DL>
<DD>Sets the <code>AuthLevel</code> for this session.
 The authentication level being set cannot be downgraded
 below that set by the module configuration.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>auth_level</CODE> - authentication level string to be set
<DT><B>Returns:</B><DD><code>true</code> if setting is successful,<code>false</code> 
         otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentState()"><!-- --></A><H3>
getCurrentState</H3>
<PRE>
public int <B>getCurrentState</B>()</PRE>
<DL>
<DD>Returns the current state in the authentication process.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the current state in the authentication process.</DL>
</DD>
</DL>
<HR>

<A NAME="getHttpServletRequest()"><!-- --></A><H3>
getHttpServletRequest</H3>
<PRE>
public <A HREF="http://download.oracle.com/javaee/1.3/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletRequest</A> <B>getHttpServletRequest</B>()</PRE>
<DL>
<DD>Returns the <code>HttpServletRequest</code> object that
 initiated the call to this module.
<P>
<DD><DL>

<DT><B>Returns:</B><DD><code>HttpServletRequest</code> for this request, returns null
         if the <code>HttpServletRequest</code> object could not be
         obtained.</DL>
</DD>
</DL>
<HR>

<A NAME="getHttpServletResponse()"><!-- --></A><H3>
getHttpServletResponse</H3>
<PRE>
public <A HREF="http://download.oracle.com/javaee/1.3/api/javax/servlet/http/HttpServletResponse.html?is-external=true" title="class or interface in javax.servlet.http">HttpServletResponse</A> <B>getHttpServletResponse</B>()</PRE>
<DL>
<DD>Returns the <code>HttpServletResponse</code> object for the servlet
 request that initiated the call to this module. The servlet response
 object will be the response to the <code>HttpServletRequest</code>
 received by the authentication module.
<P>
<DD><DL>

<DT><B>Returns:</B><DD><code>HttpServletResponse</code> for this request, returns null
 if the <code>HttpServletResponse</code> object could not be obtained.</DL>
</DD>
</DL>
<HR>

<A NAME="getLocale()"><!-- --></A><H3>
getLocale</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getLocale</B>()</PRE>
<DL>
<DD>Returns the locale for this authentication session.
<P>
<DD><DL>

<DT><B>Returns:</B><DD><code>java.util.Locale</code> locale for this authentication
         session.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if problem in accessing the 
               locale.</DL>
</DD>
</DL>
<HR>

<A NAME="getNumberOfStates()"><!-- --></A><H3>
getNumberOfStates</H3>
<PRE>
public int <B>getNumberOfStates</B>()</PRE>
<DL>
<DD>Returns the number of authentication states for this
 login module.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the number of authentication states for this login module.</DL>
</DD>
</DL>
<HR>

<A NAME="getRequestOrg()"><!-- --></A><H3>
getRequestOrg</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getRequestOrg</B>()</PRE>
<DL>
<DD>Returns the organization DN for this authentication session.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>organization DN.</DL>
</DD>
</DL>
<HR>

<A NAME="getSessionId()"><!-- --></A><H3>
getSessionId</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getSessionId</B>()</PRE>
<DL>
<DD>Returns a unique key for this authentication session.
 This key will be unique throughout an entire Web browser session.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>null is unable to get the key,</DL>
</DD>
</DL>
<HR>

<A NAME="getOrgProfile(java.lang.String)"><!-- --></A><H3>
getOrgProfile</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A> <B>getOrgProfile</B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;orgDN)</PRE>
<DL>
<DD>Returns the organization attributes for specified organization.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>orgDN</CODE> - Requested organization DN.
<DT><B>Returns:</B><DD>Map that contains all attribute key/value pairs defined
         in the organization.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if cannot get organization profile.</DL>
</DD>
</DL>
<HR>

<A NAME="getOrgServiceTemplate(java.lang.String, java.lang.String)"><!-- --></A><H3>
getOrgServiceTemplate</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A> <B>getOrgServiceTemplate</B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;orgDN,
                                 <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;serviceName)</PRE>
<DL>
<DD>Returns service template attributes defined for the specified
 organization.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>orgDN</CODE> - Organization DN.<DD><CODE>serviceName</CODE> - Requested service name.
<DT><B>Returns:</B><DD>Map that contains all attribute key/value pairs defined in the
         organization service template.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if cannot get organization service
         template.</DL>
</DD>
</DL>
<HR>

<A NAME="getPersistentCookieOn()"><!-- --></A><H3>
getPersistentCookieOn</H3>
<PRE>
public boolean <B>getPersistentCookieOn</B>()</PRE>
<DL>
<DD>Checks if persistent cookie is on.
<P>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if persistent cookie is set.</DL>
</DD>
</DL>
<HR>

<A NAME="setPersistentCookieOn()"><!-- --></A><H3>
setPersistentCookieOn</H3>
<PRE>
public boolean <B>setPersistentCookieOn</B>()</PRE>
<DL>
<DD>Attempts to set the Persistent Cookie for this session.  Can be called
 from any state in the authentication module.  It will return whether
 "Core Authentication" will add the persistent cookie (name is specified
 in the <code>/etc/opt/SUNWam/config/AMConfig.properties</code>:
 <code>com.iplanet.am.pcookie.name</code> property)
<P>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> when setting is successful, <code>false</code>
         if the persistent cookie mode attribute is not set for the
         organization.</DL>
</DD>
</DL>
<HR>

<A NAME="getServiceConfig(java.lang.String)"><!-- --></A><H3>
getServiceConfig</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A> <B>getServiceConfig</B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name)</PRE>
<DL>
<DD>Returns service configuration attributes.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - Requested service name.
<DT><B>Returns:</B><DD>Map that contains all attribute key/value pairs defined in
         the service configuration.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if error in accessing the service schema.</DL>
</DD>
</DL>
<HR>

<A NAME="getUserProfile(java.lang.String)"><!-- --></A><H3>
getUserProfile</H3>
<PRE>
public <A HREF="../../../../../com/iplanet/am/sdk/AMUser.html" title="interface in com.iplanet.am.sdk">AMUser</A> <B>getUserProfile</B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;userDN)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>This method has been deprecated. Please use the
             IdRepo API's to get the AMIdentity object for the user. More
             information on how to use the Identity Repository APIs is
             available in the OpenSSO Developer's Guide.</I>
<P>
<DD>Returns the user profile for the user specified. This
 method may only be called in the validate() method.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userDN</CODE> - distinguished name os user.
<DT><B>Returns:</B><DD><code>AMUser</code> object for the user's distinguished name.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if it fails to get the user profile for
         <code>userDN</code>.</DL>
</DD>
</DL>
<HR>

<A NAME="getUserSessionProperty(java.lang.String)"><!-- --></A><H3>
getUserSessionProperty</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getUserSessionProperty</B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name)</PRE>
<DL>
<DD>Returns the property from the user session. If the session is being force
 upgraded then set on the old session otherwise set on the current session.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - The property name.
<DT><B>Returns:</B><DD>The property value.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if the user session is invalid.</DL>
</DD>
</DL>
<HR>

<A NAME="setUserSessionProperty(java.lang.String, java.lang.String)"><!-- --></A><H3>
setUserSessionProperty</H3>
<PRE>
public void <B>setUserSessionProperty</B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name,
                                   <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;value)</PRE>
<DL>
<DD>Sets a property in the user session. If the session is being force
 upgraded then set on the old session otherwise set on the current session.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - The property name.<DD><CODE>value</CODE> - The property value.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if the user session is invalid.</DL>
</DD>
</DL>
<HR>

<A NAME="getNewUserIDs(java.util.Map, int)"><!-- --></A><H3>
getNewUserIDs</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A> <B>getNewUserIDs</B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&nbsp;attributes,
                         int&nbsp;num)</PRE>
<DL>
<DD>Returns a set of user IDs generated from the class defined
 in the Core Authentication Service. Returns null if the
 attribute <code>iplanet-am-auth-username-generator-enabled</code> is
 set to false.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>attributes</CODE> - the keys in the <code>Map</code> contains the
        attribute names and their corresponding values in
        the <code>Map</code> is a <code>Set</code> that
        contains the values for the attribute<DD><CODE>num</CODE> - the maximum number of returned user IDs; 0 means there
        is no limit
<DT><B>Returns:</B><DD>a set of auto-generated user IDs
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if the class instantiation failed</DL>
</DD>
</DL>
<HR>

<A NAME="setLoginFailureURL(java.lang.String)"><!-- --></A><H3>
setLoginFailureURL</H3>
<PRE>
public void <B>setLoginFailureURL</B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;url)</PRE>
<DL>
<DD>Sets the the login failure URL for the user. This method does not
 change the URL in the user's profile. When the user authenticates
 failed, this URL will be used by the authentication for the
 redirect.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>url</CODE> - URL to go when authentication failed.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if unable to set the URL.</DL>
</DD>
</DL>
<HR>

<A NAME="setLoginSuccessURL(java.lang.String)"><!-- --></A><H3>
setLoginSuccessURL</H3>
<PRE>
public void <B>setLoginSuccessURL</B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;url)</PRE>
<DL>
<DD>Sets the the login successful URL for the user. This method does not
 change the URL in the user's profile. When the user authenticates
 successfully, this URL will be used by the authentication for the
 redirect.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>url</CODE> - <code>URL</code> to go when authentication is successful.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if unable to set the URL.</DL>
</DD>
</DL>
<HR>

<A NAME="isRequired(int, int)"><!-- --></A><H3>
isRequired</H3>
<PRE>
public boolean <B>isRequired</B>(int&nbsp;state,
                          int&nbsp;index)</PRE>
<DL>
<DD>Checks if a Callback is required to have input.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>state</CODE> - Order of state.<DD><CODE>index</CODE> - Order of the Callback in the Callback[], the index.
        starts with 0.
<DT><B>Returns:</B><DD><code>true</code> if the callback corresponding to the number
         in the specified state is required to have value,
         <code>false</code> otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="getInfoText(int, int)"><!-- --></A><H3>
getInfoText</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getInfoText</B>(int&nbsp;state,
                          int&nbsp;index)</PRE>
<DL>
<DD>Returns the info text associated with a specific callback
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>state</CODE> - The state to fetch the info text<DD><CODE>index</CODE> - The callback to fetch the info text
<DT><B>Returns:</B><DD>The info text</DL>
</DD>
</DL>
<HR>

<A NAME="getAttribute(int, int)"><!-- --></A><H3>
getAttribute</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getAttribute</B>(int&nbsp;state,
                           int&nbsp;index)</PRE>
<DL>
<DD>Returns the attribute name for the specified callback in the
 specified login state.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>state</CODE> - Order of state<DD><CODE>index</CODE> - Order of the Callback in the Callback[], the index
        starts with 0.
<DT><B>Returns:</B><DD>Name of the attribute, empty string will be returned
         if the attribute is not defined.</DL>
</DD>
</DL>
<HR>

<A NAME="setFailureID(java.lang.String)"><!-- --></A><H3>
setFailureID</H3>
<PRE>
public void <B>setFailureID</B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;userID)</PRE>
<DL>
<DD>Sets the <code>userID</code> of user who failed authentication.
 This <code>userID</code> will be used to log failed authentication in
 the OpenSSO error logs.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userID</CODE> - user name of user who failed authentication.</DL>
</DD>
</DL>
<HR>

<A NAME="setUserAttributes(java.util.Map)"><!-- --></A><H3>
setUserAttributes</H3>
<PRE>
public void <B>setUserAttributes</B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</A>&nbsp;attributeValuePairs)</PRE>
<DL>
<DD>Sets a Map of attribute value pairs to be used when the authentication
 service is configured to dynamically create a user.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>attributeValuePairs</CODE> - A map containing the attributes
 and its values. The key is the attribute name and the value
 is a Set of values.</DL>
</DD>
</DL>
<HR>

<A NAME="validateUserName(java.lang.String, java.lang.String)"><!-- --></A><H3>
validateUserName</H3>
<PRE>
public void <B>validateUserName</B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;userName,
                             <A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;regEx)
                      throws <A HREF="../../../../../com/sun/identity/authentication/spi/UserNamePasswordValidationException.html" title="class in com.sun.identity.authentication.spi">UserNamePasswordValidationException</A></PRE>
<DL>
<DD>Validates the given user name by using validation plugin if exists
 else it checks invalid characters in the source string.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userName</CODE> - source string which should be validated.<DD><CODE>regEx</CODE> - the pattern for which to search.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/UserNamePasswordValidationException.html" title="class in com.sun.identity.authentication.spi">UserNamePasswordValidationException</A></CODE> - if user name is invalid.</DL>
</DD>
</DL>
<HR>

<A NAME="validatePassword(java.lang.String)"><!-- --></A><H3>
validatePassword</H3>
<PRE>
public void <B>validatePassword</B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;userPassword)
                      throws <A HREF="../../../../../com/sun/identity/authentication/spi/UserNamePasswordValidationException.html" title="class in com.sun.identity.authentication.spi">UserNamePasswordValidationException</A></PRE>
<DL>
<DD>Validate password for the distinguished user, this will use validation 
 plugin if exists to validate password
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userPassword</CODE> - source string which should be validated.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/UserNamePasswordValidationException.html" title="class in com.sun.identity.authentication.spi">UserNamePasswordValidationException</A></CODE> - if user password is invalid.</DL>
</DD>
</DL>
<HR>

<A NAME="getFailCount(com.sun.identity.idm.AMIdentity)"><!-- --></A><H3>
getFailCount</H3>
<PRE>
public int <B>getFailCount</B>(<A HREF="../../../../../com/sun/identity/idm/AMIdentity.html" title="class in com.sun.identity.idm">AMIdentity</A>&nbsp;amIdUser)
                 throws <A HREF="../../../../../com/sun/identity/authentication/spi/AuthenticationException.html" title="class in com.sun.identity.authentication.spi">AuthenticationException</A></PRE>
<DL>
<DD>Get the number of failed login attempts for a user when account locking
 is enabled.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>number of failed attempts, -1 id account locking is not enabled.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthenticationException.html" title="class in com.sun.identity.authentication.spi">AuthenticationException</A></CODE> - if the user name passed in is not valid 
 or  null, or for any other error condition.</DL>
</DD>
</DL>
<HR>

<A NAME="getMaximumFailCount()"><!-- --></A><H3>
getMaximumFailCount</H3>
<PRE>
public int <B>getMaximumFailCount</B>()
                        throws <A HREF="../../../../../com/sun/identity/authentication/spi/AuthenticationException.html" title="class in com.sun.identity.authentication.spi">AuthenticationException</A></PRE>
<DL>
<DD>Get the maximum number failed login attempts permitted for a user
 before when their account is locked out.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the maximum number of failed attempts
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthenticationException.html" title="class in com.sun.identity.authentication.spi">AuthenticationException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="incrementFailCount(java.lang.String)"><!-- --></A><H3>
incrementFailCount</H3>
<PRE>
public void <B>incrementFailCount</B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;userName)
                        throws <A HREF="../../../../../com/sun/identity/authentication/spi/AuthenticationException.html" title="class in com.sun.identity.authentication.spi">AuthenticationException</A></PRE>
<DL>
<DD>Increments the fail count for the given user.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthenticationException.html" title="class in com.sun.identity.authentication.spi">AuthenticationException</A></CODE> - if the user name passed in is not valid
 or null, or for any other error condition.</DL>
</DD>
</DL>
<HR>

<A NAME="isAccountLocked(java.lang.String)"><!-- --></A><H3>
isAccountLocked</H3>
<PRE>
public boolean <B>isAccountLocked</B>(<A HREF="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;userName)
                        throws <A HREF="../../../../../com/sun/identity/authentication/spi/AuthenticationException.html" title="class in com.sun.identity.authentication.spi">AuthenticationException</A></PRE>
<DL>
<DD>Returns true if the named account is locked out, false otherwise.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthenticationException.html" title="class in com.sun.identity.authentication.spi">AuthenticationException</A></CODE> - if the user name passed in is not valid
 or null, or for any other error condition.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../com/sun/identity/authentication/spi/AMAuthCallBackException.html" title="class in com.sun.identity.authentication.spi"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../com/sun/identity/authentication/spi/AMPostAuthProcessInterface.html" title="interface in com.sun.identity.authentication.spi"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/sun/identity/authentication/spi/AMLoginModule.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AMLoginModule.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
