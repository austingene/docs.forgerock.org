<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Fri Nov 08 08:09:10 CET 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="utf-8">
<title>DataLayer (OpenAM Project 11.0.0 Documentation)</title>
<meta name="date" content="2013-11-08">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DataLayer (OpenAM Project 11.0.0 Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataLayer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><b>OpenAM Project 11.0.0 Documentation</b></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/iplanet/ums/CreationTemplate.html" title="class in com.iplanet.ums"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/iplanet/ums/DynamicGroup.html" title="class in com.iplanet.ums"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/iplanet/ums/DataLayer.html" target="_top">Frames</a></li>
<li><a href="DataLayer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.iplanet.ums</div>
<h2 title="Class DataLayer" class="title">Class DataLayer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.iplanet.ums.DataLayer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.95">DataLayer</a>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">DataLayer (A PACKAGE SCOPE CLASS) to access LDAP or other database
 
 TODO: 1. Needs to subclass and isolate the current implementation of
 DataLayer as DSLayer for ldap specific operations 2. Improvements needed for
 _ldapPool: destroy(), initial bind user, tunning for MIN and MAX initial
 settings etc 3. May choose to extend implementation of _ldapPool from
 LDAPConnectionPool so that there is load balance between connections. Also
 _ldapPool may be implemented with a HashTable of (host,port) for mulitple
 pools of connections for mulitple (host,port) to DS servers instead of single
 host and port.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../serialized-form.html#com.iplanet.ums.DataLayer">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#addAttributeValue(java.security.Principal, com.iplanet.ums.Guid, java.lang.String, java.lang.String)">addAttributeValue</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
                                  <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
                                  <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                                  <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;value)</code>
<div class="block">Adds value for an attribute and saves the change in the database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#addEntry(java.security.Principal, com.iplanet.ums.Guid, com.iplanet.services.ldap.AttrSet)">addEntry</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
                <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
                <a href="../../../com/iplanet/services/ldap/AttrSet.html" title="class in com.iplanet.services.ldap">AttrSet</a>&nbsp;attrSet)</code>
<div class="block">Adds entry to the server.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#addSchema(java.security.Principal, com.sun.identity.shared.ldap.LDAPSchemaElement)">addSchema</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
                  com.sun.identity.shared.ldap.LDAPSchemaElement&nbsp;schemaElement)</code>
<div class="block">Adds schema element to the schema at the root DSE</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#changePassword(com.iplanet.ums.Guid, java.lang.String, java.lang.String, java.lang.String)">changePassword</a></strong>(<a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
                            <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;attrName,
                            <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;oldPassword,
                            <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newPassword)</code>
<div class="block">Changes user password.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#deleteEntry(java.security.Principal, com.iplanet.ums.Guid)">deleteEntry</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
                      <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid)</code>
<div class="block">Delete entry from the server</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/iplanet/services/ldap/Attr.html" title="class in com.iplanet.services.ldap">Attr</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#getAttribute(java.security.Principal, com.iplanet.ums.Guid, java.lang.String)">getAttribute</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
                        <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
                        <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;attrName)</code>
<div class="block">Returns <code>Attr</code> from the given attribute name.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#getAttributes(java.security.Principal, com.iplanet.ums.Guid, java.util.Collection)">getAttributes</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
                          <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
                          <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&nbsp;attrNames)</code>
<div class="block">Returns attributes for the given attribute names.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#getAttributeString(java.security.Principal, com.iplanet.ums.Guid, java.lang.String)">getAttributeString</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
                                    <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
                                    <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;attrName)</code>
<div class="block">Returns String values of the attribute.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>com.sun.identity.shared.ldap.LDAPConnection</code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#getConnection(java.security.Principal)">getConnection</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal)</code>
<div class="block">Get connection from pool.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/iplanet/ums/DataLayer.html" title="class in com.iplanet.ums">DataLayer</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#getInstance()">getInstance</a></strong>()</code>
<div class="block">create the singelton DataLayer object if it doesn't exist already.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../com/iplanet/ums/DataLayer.html" title="class in com.iplanet.ums">DataLayer</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#getInstance(com.iplanet.services.ldap.ServerInstance)">getInstance</a></strong>(<a href="../../../com/iplanet/services/ldap/ServerInstance.html" title="class in com.iplanet.services.ldap">ServerInstance</a>&nbsp;serverCfg)</code>
<div class="block">create the singelton DataLayer object if it doesn't exist already.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>com.sun.identity.shared.ldap.LDAPSchema</code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#getSchema(java.security.Principal)">getSchema</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal)</code>
<div class="block">Fetches the schema from the LDAP directory server.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#modify(java.security.Principal, com.iplanet.ums.Guid, com.iplanet.services.ldap.ModSet)">modify</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
            <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
            <a href="../../../com/iplanet/services/ldap/ModSet.html" title="class in com.iplanet.services.ldap">ModSet</a>&nbsp;modSet)</code>
<div class="block">Modifies an ldap entry.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/iplanet/services/ldap/AttrSet.html" title="class in com.iplanet.services.ldap">AttrSet</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#read(java.security.Principal, com.iplanet.ums.Guid)">read</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
        <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid)</code>
<div class="block">Read an ldap entry</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/iplanet/services/ldap/AttrSet.html" title="class in com.iplanet.services.ldap">AttrSet</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#read(java.security.Principal, com.iplanet.ums.Guid, java.lang.String[])">read</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
        <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
        <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;attrNames)</code>
<div class="block">Reads an ldap entry.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#releaseConnection(com.sun.identity.shared.ldap.LDAPConnection)">releaseConnection</a></strong>(com.sun.identity.shared.ldap.LDAPConnection&nbsp;conn)</code>
<div class="block">Just call the pool method to release the connection so that the given
 connection is free for others to use</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#releaseConnection(com.sun.identity.shared.ldap.LDAPConnection, int)">releaseConnection</a></strong>(com.sun.identity.shared.ldap.LDAPConnection&nbsp;conn,
                                  int&nbsp;ldapErrCode)</code>
<div class="block">Just call the pool method to release the connection so that the given
 connection is free for others to use</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#removeAttributeValue(java.security.Principal, com.iplanet.ums.Guid, java.lang.String, java.lang.String)">removeAttributeValue</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
                                        <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
                                        <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                                        <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;value)</code>
<div class="block">Removes value for an attribute and saves the change in the database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#removeSchema(java.security.Principal, com.sun.identity.shared.ldap.LDAPSchemaElement)">removeSchema</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
                        com.sun.identity.shared.ldap.LDAPSchemaElement&nbsp;schemaElement)</code>
<div class="block">Removes schema element from the schema</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/iplanet/ums/SearchResults.html" title="class in com.iplanet.ums">SearchResults</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#search(java.security.Principal, com.iplanet.ums.Guid, int, java.lang.String, java.lang.String[], boolean, com.iplanet.ums.SearchControl)">search</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
            <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
            int&nbsp;scope,
            <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;searchFilter,
            <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;attrNames,
            boolean&nbsp;attrOnly,
            <a href="../../../com/iplanet/ums/SearchControl.html" title="class in com.iplanet.ums">SearchControl</a>&nbsp;searchControl)</code>
<div class="block">Performs synchronous search based on specified ldap filter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/iplanet/ums/SearchResults.html" title="class in com.iplanet.ums">SearchResults</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/iplanet/ums/DataLayer.html#searchIDs(java.security.Principal, com.iplanet.ums.Guid, int, java.lang.String, com.iplanet.ums.SearchControl)">searchIDs</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
                  <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
                  int&nbsp;scope,
                  <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;searchFilter,
                  <a href="../../../com/iplanet/ums/SearchControl.html" title="class in com.iplanet.ums">SearchControl</a>&nbsp;searchControl)</code>
<div class="block">Perform synchronous search based on specified ldap filter.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance(com.iplanet.services.ldap.ServerInstance)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../com/iplanet/ums/DataLayer.html" title="class in com.iplanet.ums">DataLayer</a>&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.225">getInstance</a>(<a href="../../../com/iplanet/services/ldap/ServerInstance.html" title="class in com.iplanet.services.ldap">ServerInstance</a>&nbsp;serverCfg)
                             throws <a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></pre>
<div class="block">create the singelton DataLayer object if it doesn't exist already.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></code></dd></dl>
</li>
</ul>
<a name="getInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../com/iplanet/ums/DataLayer.html" title="class in com.iplanet.ums">DataLayer</a>&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.255">getInstance</a>()
                             throws <a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></pre>
<div class="block">create the singelton DataLayer object if it doesn't exist already.
 Assumes the server instance for "LDAPUser.Type.AUTH_PROXY".</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></code></dd></dl>
</li>
</ul>
<a name="getConnection(java.security.Principal)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnection</h4>
<pre>public&nbsp;com.sun.identity.shared.ldap.LDAPConnection&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.278">getConnection</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal)</pre>
<div class="block">Get connection from pool. Reauthenticate if necessary</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>connection that is available to use.</dd></dl>
</li>
</ul>
<a name="releaseConnection(com.sun.identity.shared.ldap.LDAPConnection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseConnection</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.309">releaseConnection</a>(com.sun.identity.shared.ldap.LDAPConnection&nbsp;conn)</pre>
<div class="block">Just call the pool method to release the connection so that the given
 connection is free for others to use</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conn</code> - connection in the pool to be released for others to use</dd></dl>
</li>
</ul>
<a name="releaseConnection(com.sun.identity.shared.ldap.LDAPConnection, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseConnection</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.341">releaseConnection</a>(com.sun.identity.shared.ldap.LDAPConnection&nbsp;conn,
                     int&nbsp;ldapErrCode)</pre>
<div class="block">Just call the pool method to release the connection so that the given
 connection is free for others to use</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conn</code> - connection in the pool to be released for others to use</dd><dd><code>ldapErrCode</code> - ldap exception error code used to determine failover.</dd></dl>
</li>
</ul>
<a name="getAttributeString(java.security.Principal, com.iplanet.ums.Guid, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAttributeString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.374">getAttributeString</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
                          <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
                          <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;attrName)</pre>
<div class="block">Returns String values of the attribute.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>principal</code> - Authentication Principal.</dd><dd><code>guid</code> - distinguished name.</dd><dd><code>attrName</code> - attribute name.</dd></dl>
</li>
</ul>
<a name="getAttribute(java.security.Principal, com.iplanet.ums.Guid, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAttribute</h4>
<pre>public&nbsp;<a href="../../../com/iplanet/services/ldap/Attr.html" title="class in com.iplanet.services.ldap">Attr</a>&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.406">getAttribute</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
                <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
                <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;attrName)</pre>
<div class="block">Returns <code>Attr</code> from the given attribute name.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>principal</code> - Authentication Principal.</dd><dd><code>guid</code> - Distinguished name.</dd><dd><code>attrName</code> - Attribute name.</dd></dl>
</li>
</ul>
<a name="getAttributes(java.security.Principal, com.iplanet.ums.Guid, java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAttributes</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.444">getAttributes</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
                       <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
                       <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&nbsp;attrNames)</pre>
<div class="block">Returns attributes for the given attribute names.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>principal</code> - Authentication Principal.</dd><dd><code>guid</code> - Distinguished name.</dd><dd><code>attrNames</code> - Attribute names.</dd>
<dt><span class="strong">Returns:</span></dt><dd>collection of Attr.</dd></dl>
</li>
</ul>
<a name="addEntry(java.security.Principal, com.iplanet.ums.Guid, com.iplanet.services.ldap.AttrSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addEntry</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.491">addEntry</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
            <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
            <a href="../../../com/iplanet/services/ldap/AttrSet.html" title="class in com.iplanet.services.ldap">AttrSet</a>&nbsp;attrSet)
              throws <a href="../../../com/iplanet/ums/AccessRightsException.html" title="class in com.iplanet.ums">AccessRightsException</a>,
                     <a href="../../../com/iplanet/ums/EntryAlreadyExistsException.html" title="class in com.iplanet.ums">EntryAlreadyExistsException</a>,
                     <a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></pre>
<div class="block">Adds entry to the server.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>principal</code> - Authenticated Principal.</dd><dd><code>guid</code> - Distinguished name.</dd><dd><code>attrSet</code> - attribute set containing name/value pairs.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/iplanet/ums/AccessRightsException.html" title="class in com.iplanet.ums">AccessRightsException</a></code> - if insufficient access></dd>
<dd><code><a href="../../../com/iplanet/ums/EntryAlreadyExistsException.html" title="class in com.iplanet.ums">EntryAlreadyExistsException</a></code> - if the entry already exists.</dd>
<dd><code><a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></code> - if fail to add entry.</dd></dl>
</li>
</ul>
<a name="deleteEntry(java.security.Principal, com.iplanet.ums.Guid)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteEntry</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.567">deleteEntry</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
               <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid)
                 throws <a href="../../../com/iplanet/ums/AccessRightsException.html" title="class in com.iplanet.ums">AccessRightsException</a>,
                        <a href="../../../com/iplanet/ums/EntryNotFoundException.html" title="class in com.iplanet.ums">EntryNotFoundException</a>,
                        <a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></pre>
<div class="block">Delete entry from the server</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>guid</code> - globally unique identifier for the entry</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/iplanet/ums/AccessRightsException.html" title="class in com.iplanet.ums">AccessRightsException</a></code> - insufficient access</dd>
<dd><code><a href="../../../com/iplanet/ums/EntryNotFoundException.html" title="class in com.iplanet.ums">EntryNotFoundException</a></code> - if the entry is not found</dd>
<dd><code><a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></code> - Fail to delete the entry</dd></dl>
</li>
</ul>
<a name="read(java.security.Principal, com.iplanet.ums.Guid)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;<a href="../../../com/iplanet/services/ldap/AttrSet.html" title="class in com.iplanet.services.ldap">AttrSet</a>&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.641">read</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
           <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid)
             throws <a href="../../../com/iplanet/ums/EntryNotFoundException.html" title="class in com.iplanet.ums">EntryNotFoundException</a>,
                    <a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></pre>
<div class="block">Read an ldap entry</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>guid</code> - globally unique identifier for the entry</dd>
<dt><span class="strong">Returns:</span></dt><dd>an attribute set representing the entry in ldap, all non
         operational attributes are read</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/iplanet/ums/EntryNotFoundException.html" title="class in com.iplanet.ums">EntryNotFoundException</a></code> - if the entry is not found</dd>
<dd><code><a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></code> - Fail to read the entry</dd></dl>
</li>
</ul>
<a name="read(java.security.Principal, com.iplanet.ums.Guid, java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;<a href="../../../com/iplanet/services/ldap/AttrSet.html" title="class in com.iplanet.services.ldap">AttrSet</a>&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.658">read</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
           <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
           <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;attrNames)
             throws <a href="../../../com/iplanet/ums/EntryNotFoundException.html" title="class in com.iplanet.ums">EntryNotFoundException</a>,
                    <a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></pre>
<div class="block">Reads an ldap entry.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>principal</code> - Authentication Principal.</dd><dd><code>guid</code> - Globally unique identifier for the entry.</dd><dd><code>attrNames</code> - Attributes to read.</dd>
<dt><span class="strong">Returns:</span></dt><dd>an attribute set representing the entry in LDAP.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/iplanet/ums/EntryNotFoundException.html" title="class in com.iplanet.ums">EntryNotFoundException</a></code> - if the entry is not found.</dd>
<dd><code><a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></code> - if fail to read the entry.</dd></dl>
</li>
</ul>
<a name="modify(java.security.Principal, com.iplanet.ums.Guid, com.iplanet.services.ldap.ModSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>modify</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.768">modify</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
          <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
          <a href="../../../com/iplanet/services/ldap/ModSet.html" title="class in com.iplanet.services.ldap">ModSet</a>&nbsp;modSet)
            throws <a href="../../../com/iplanet/ums/AccessRightsException.html" title="class in com.iplanet.ums">AccessRightsException</a>,
                   <a href="../../../com/iplanet/ums/EntryNotFoundException.html" title="class in com.iplanet.ums">EntryNotFoundException</a>,
                   <a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></pre>
<div class="block">Modifies an ldap entry.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>principal</code> - Authentication Principal.</dd><dd><code>guid</code> - globally unique identifier for the entry.</dd><dd><code>modSet</code> - Set of modifications for the entry.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/iplanet/ums/AccessRightsException.html" title="class in com.iplanet.ums">AccessRightsException</a></code> - if insufficient access</dd>
<dd><code><a href="../../../com/iplanet/ums/EntryNotFoundException.html" title="class in com.iplanet.ums">EntryNotFoundException</a></code> - if the entry is not found.</dd>
<dd><code><a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></code> - if failure</dd></dl>
</li>
</ul>
<a name="changePassword(com.iplanet.ums.Guid, java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changePassword</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.838">changePassword</a>(<a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
                  <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;attrName,
                  <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;oldPassword,
                  <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newPassword)
                    throws <a href="../../../com/iplanet/ums/AccessRightsException.html" title="class in com.iplanet.ums">AccessRightsException</a>,
                           <a href="../../../com/iplanet/ums/EntryNotFoundException.html" title="class in com.iplanet.ums">EntryNotFoundException</a>,
                           <a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></pre>
<div class="block">Changes user password.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>guid</code> - globally unique identifier for the entry.</dd><dd><code>attrName</code> - password attribute name</dd><dd><code>oldPassword</code> - old password</dd><dd><code>newPassword</code> - new password</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/iplanet/ums/AccessRightsException.html" title="class in com.iplanet.ums">AccessRightsException</a></code> - if insufficient access</dd>
<dd><code><a href="../../../com/iplanet/ums/EntryNotFoundException.html" title="class in com.iplanet.ums">EntryNotFoundException</a></code> - if the entry is not found.</dd>
<dd><code><a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></code> - if failure</dd></dl>
</li>
</ul>
<a name="addAttributeValue(java.security.Principal, com.iplanet.ums.Guid, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addAttributeValue</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.895">addAttributeValue</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
                     <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
                     <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                     <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;value)
                       throws <a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></pre>
<div class="block">Adds value for an attribute and saves the change in the database.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>principal</code> - Authenticated Principal.</dd><dd><code>guid</code> - ID of the entry to which to add the attribute value.</dd><dd><code>name</code> - name of the attribute to which value is being added.</dd><dd><code>value</code> - Value to be added to the attribute.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></code> - if there is any error while adding the value</dd></dl>
</li>
</ul>
<a name="removeAttributeValue(java.security.Principal, com.iplanet.ums.Guid, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAttributeValue</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.919">removeAttributeValue</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
                        <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
                        <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                        <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;value)
                          throws <a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></pre>
<div class="block">Removes value for an attribute and saves the change in the database.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>principal</code> - Authenticated Principal.</dd><dd><code>guid</code> - the id of the entry from which to remove the attribute value.</dd><dd><code>name</code> - Name of the attribute from which value is being removed</dd><dd><code>value</code> - Value to be removed from the attribute.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></code> - if there is any error while removing the value.</dd></dl>
</li>
</ul>
<a name="search(java.security.Principal, com.iplanet.ums.Guid, int, java.lang.String, java.lang.String[], boolean, com.iplanet.ums.SearchControl)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>search</h4>
<pre>public&nbsp;<a href="../../../com/iplanet/ums/SearchResults.html" title="class in com.iplanet.ums">SearchResults</a>&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.1001">search</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
                   <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
                   int&nbsp;scope,
                   <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;searchFilter,
                   <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;attrNames,
                   boolean&nbsp;attrOnly,
                   <a href="../../../com/iplanet/ums/SearchControl.html" title="class in com.iplanet.ums">SearchControl</a>&nbsp;searchControl)
                     throws <a href="../../../com/iplanet/ums/InvalidSearchFilterException.html" title="class in com.iplanet.ums">InvalidSearchFilterException</a>,
                            <a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></pre>
<div class="block">Performs synchronous search based on specified ldap filter. This is low
 level API which assumes caller knows how to construct a data store filer.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>principal</code> - Authenticated Principal.</dd><dd><code>guid</code> - Unique identifier for the entry.</dd><dd><code>scope</code> - Scope can be either <code>SCOPE_ONE</code>,
        <code>SCOPE_SUB</code> or <code>SCOPE_BASE</code>.</dd><dd><code>searchFilter</code> - Search filter for this search.</dd><dd><code>attrNames</code> - Attribute name for retrieving.</dd><dd><code>attrOnly</code> - if true, returns the names but not the values of the
        attributes found.</dd><dd><code>searchControl</code> - Search Control.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></code> - if failure.</dd>
<dd><code><a href="../../../com/iplanet/ums/InvalidSearchFilterException.html" title="class in com.iplanet.ums">InvalidSearchFilterException</a></code> - if failure</dd></dl>
</li>
</ul>
<a name="searchIDs(java.security.Principal, com.iplanet.ums.Guid, int, java.lang.String, com.iplanet.ums.SearchControl)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>searchIDs</h4>
<pre>public&nbsp;<a href="../../../com/iplanet/ums/SearchResults.html" title="class in com.iplanet.ums">SearchResults</a>&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.1151">searchIDs</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
                      <a href="../../../com/iplanet/ums/Guid.html" title="class in com.iplanet.ums">Guid</a>&nbsp;guid,
                      int&nbsp;scope,
                      <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;searchFilter,
                      <a href="../../../com/iplanet/ums/SearchControl.html" title="class in com.iplanet.ums">SearchControl</a>&nbsp;searchControl)
                        throws <a href="../../../com/iplanet/ums/InvalidSearchFilterException.html" title="class in com.iplanet.ums">InvalidSearchFilterException</a>,
                               <a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></pre>
<div class="block">Perform synchronous search based on specified ldap filter. This is low
 level API which assumes caller knows how to construct a data store filer.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>principal</code> - Authenticated Principal.</dd><dd><code>guid</code> - Unique identifier for the entry</dd><dd><code>scope</code> - Scope can be either <code>SCOPE_ONE</code>,
        <code>SCOPE_SUB</code>, <code>SCOBE_BASE</code></dd><dd><code>searchFilter</code> - Search filter for this search.</dd><dd><code>searchControl</code> - Search Control.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></code> - if failure.</dd>
<dd><code><a href="../../../com/iplanet/ums/InvalidSearchFilterException.html" title="class in com.iplanet.ums">InvalidSearchFilterException</a></code> - if failure.</dd></dl>
</li>
</ul>
<a name="getSchema(java.security.Principal)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSchema</h4>
<pre>public&nbsp;com.sun.identity.shared.ldap.LDAPSchema&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.1176">getSchema</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal)
                                                  throws <a href="../../../com/iplanet/ums/AccessRightsException.html" title="class in com.iplanet.ums">AccessRightsException</a>,
                                                         <a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></pre>
<div class="block">Fetches the schema from the LDAP directory server. Retrieve the entire
 schema from the root of a Directory Server.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the schema in the LDAP directory server</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/iplanet/ums/AccessRightsException.html" title="class in com.iplanet.ums">AccessRightsException</a></code> - insufficient access</dd>
<dd><code><a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></code> - Fail to fetch the schema.</dd></dl>
</li>
</ul>
<a name="addSchema(java.security.Principal, com.sun.identity.shared.ldap.LDAPSchemaElement)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addSchema</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.1255">addSchema</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
             com.sun.identity.shared.ldap.LDAPSchemaElement&nbsp;schemaElement)
               throws <a href="../../../com/iplanet/ums/AccessRightsException.html" title="class in com.iplanet.ums">AccessRightsException</a>,
                      <a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></pre>
<div class="block">Adds schema element to the schema at the root DSE</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>schemaElement</code> - schema element to be added</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/iplanet/ums/AccessRightsException.html" title="class in com.iplanet.ums">AccessRightsException</a></code> - insufficient access</dd>
<dd><code><a href="../../../com/iplanet/ums/SchemaElementAlreadyExistsException.html" title="class in com.iplanet.ums">SchemaElementAlreadyExistsException</a></code> - if the element already exists</dd>
<dd><code><a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></code> - Fail to add schema element.</dd></dl>
</li>
</ul>
<a name="removeSchema(java.security.Principal, com.sun.identity.shared.ldap.LDAPSchemaElement)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>removeSchema</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/com/iplanet/ums/DataLayer.html#line.1299">removeSchema</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;principal,
                com.sun.identity.shared.ldap.LDAPSchemaElement&nbsp;schemaElement)
                  throws <a href="../../../com/iplanet/ums/AccessRightsException.html" title="class in com.iplanet.ums">AccessRightsException</a>,
                         <a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></pre>
<div class="block">Removes schema element from the schema</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>schemaElement</code> - schema element to be removed</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../com/iplanet/ums/AccessRightsException.html" title="class in com.iplanet.ums">AccessRightsException</a></code> - insufficient access</dd>
<dd><code><a href="../../../com/iplanet/ums/UMSException.html" title="class in com.iplanet.ums">UMSException</a></code> - Fail to remove schema element.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataLayer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><b>OpenAM Project 11.0.0 Documentation</b></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/iplanet/ums/CreationTemplate.html" title="class in com.iplanet.ums"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/iplanet/ums/DynamicGroup.html" title="class in com.iplanet.ums"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/iplanet/ums/DataLayer.html" target="_top">Frames</a></li>
<li><a href="DataLayer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2010-2013, <a href="http://www.forgerock.com">ForgeRock<a> All Rights Reserved.</small></p>
</body>
</html>
