<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Thu Jun 27 13:21:09 CEST 2013 -->
<title>ApplicationTrustManager (OpenDJ API Documentation)</title>
<meta name="date" content="2013-06-27">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ApplicationTrustManager (OpenDJ API Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/opends/admin/ads/util/ApplicationKeyManager.html" title="class in org.opends.admin.ads.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/opends/admin/ads/util/ApplicationTrustManager.Cause.html" title="enum in org.opends.admin.ads.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/opends/admin/ads/util/ApplicationTrustManager.html" target="_top">Frames</a></li>
<li><a href="ApplicationTrustManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.opends.admin.ads.util</div>
<h2 title="Class ApplicationTrustManager" class="title">Class ApplicationTrustManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.opends.admin.ads.util.ApplicationTrustManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>javax.net.ssl.TrustManager, javax.net.ssl.X509TrustManager</dd>
</dl>
<hr>
<br>
<pre>public class <a href="../../../../../src-html/org/opends/admin/ads/util/ApplicationTrustManager.html#line.63">ApplicationTrustManager</a>
extends java.lang.Object
implements javax.net.ssl.X509TrustManager</pre>
<div class="block">This class is in charge of checking whether the certificates that are
 presented are trusted or not.
 This implementation tries to check also that the subject DN of the
 certificate corresponds to the host passed using the setHostName method.

 The constructor tries to use a default TrustManager from the system and if
 it cannot be retrieved this class will only accept the certificates
 explicitly accepted by the user (and specified by calling acceptCertificate).

 NOTE: this class is not aimed to be used when we have connections in
 parallel.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/admin/ads/util/ApplicationTrustManager.Cause.html" title="enum in org.opends.admin.ads.util">ApplicationTrustManager.Cause</a></strong></code>
<div class="block">The enumeration for the different causes for which the trust manager can
 refuse to accept a certificate.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/opends/admin/ads/util/ApplicationTrustManager.html#ApplicationTrustManager(java.security.KeyStore)">ApplicationTrustManager</a></strong>(java.security.KeyStore&nbsp;keystore)</code>
<div class="block">The default constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/admin/ads/util/ApplicationTrustManager.html#acceptCertificate(java.security.cert.X509Certificate[], java.lang.String, java.lang.String)">acceptCertificate</a></strong>(java.security.cert.X509Certificate[]&nbsp;chain,
                                  java.lang.String&nbsp;authType,
                                  java.lang.String&nbsp;host)</code>
<div class="block">This method is called when the user accepted a certificate.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/admin/ads/util/ApplicationTrustManager.html#checkClientTrusted(java.security.cert.X509Certificate[], java.lang.String)">checkClientTrusted</a></strong>(java.security.cert.X509Certificate[]&nbsp;chain,
                                    java.lang.String&nbsp;authType)</code></td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/admin/ads/util/ApplicationTrustManager.html#checkServerTrusted(java.security.cert.X509Certificate[], java.lang.String)">checkServerTrusted</a></strong>(java.security.cert.X509Certificate[]&nbsp;chain,
                                    java.lang.String&nbsp;authType)</code></td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/opends/admin/ads/util/ApplicationTrustManager.html" title="class in org.opends.admin.ads.util">ApplicationTrustManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/admin/ads/util/ApplicationTrustManager.html#createCopy()">createCopy</a></strong>()</code>
<div class="block">Creates a copy of this ApplicationTrustManager.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.security.cert.X509Certificate[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/admin/ads/util/ApplicationTrustManager.html#getAcceptedIssuers()">getAcceptedIssuers</a></strong>()</code></td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/admin/ads/util/ApplicationTrustManager.html#getLastRefusedAuthType()">getLastRefusedAuthType</a></strong>()</code>
<div class="block">Returns the authentication type for the last refused certificate.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/opends/admin/ads/util/ApplicationTrustManager.Cause.html" title="enum in org.opends.admin.ads.util">ApplicationTrustManager.Cause</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/admin/ads/util/ApplicationTrustManager.html#getLastRefusedCause()">getLastRefusedCause</a></strong>()</code>
<div class="block">Returns the last cause for refusal of a certificate.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.security.cert.X509Certificate[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/admin/ads/util/ApplicationTrustManager.html#getLastRefusedChain()">getLastRefusedChain</a></strong>()</code>
<div class="block">Returns the certificate chain for the last refused certificate.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/admin/ads/util/ApplicationTrustManager.html#resetLastRefusedItems()">resetLastRefusedItems</a></strong>()</code>
<div class="block">This is a method used to set to null the different members that provide
 information about the last refused certificate.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/admin/ads/util/ApplicationTrustManager.html#setHost(java.lang.String)">setHost</a></strong>(java.lang.String&nbsp;host)</code>
<div class="block">Sets the host name we are trying to contact in a secure mode.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ApplicationTrustManager(java.security.KeyStore)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ApplicationTrustManager</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/opends/admin/ads/util/ApplicationTrustManager.html#line.107">ApplicationTrustManager</a>(java.security.KeyStore&nbsp;keystore)</pre>
<div class="block">The default constructor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>keystore</code> - The keystore to use for this trustmanager.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="checkClientTrusted(java.security.cert.X509Certificate[], java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkClientTrusted</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/admin/ads/util/ApplicationTrustManager.html#line.188">checkClientTrusted</a>(java.security.cert.X509Certificate[]&nbsp;chain,
                      java.lang.String&nbsp;authType)
                        throws java.security.cert.CertificateException</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>checkClientTrusted</code>&nbsp;in interface&nbsp;<code>javax.net.ssl.X509TrustManager</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.cert.CertificateException</code></dd></dl>
</li>
</ul>
<a name="checkServerTrusted(java.security.cert.X509Certificate[], java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkServerTrusted</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/admin/ads/util/ApplicationTrustManager.html#line.245">checkServerTrusted</a>(java.security.cert.X509Certificate[]&nbsp;chain,
                      java.lang.String&nbsp;authType)
                        throws java.security.cert.CertificateException</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>checkServerTrusted</code>&nbsp;in interface&nbsp;<code>javax.net.ssl.X509TrustManager</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.cert.CertificateException</code></dd></dl>
</li>
</ul>
<a name="getAcceptedIssuers()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAcceptedIssuers</h4>
<pre>public&nbsp;java.security.cert.X509Certificate[]&nbsp;<a href="../../../../../src-html/org/opends/admin/ads/util/ApplicationTrustManager.html#line.301">getAcceptedIssuers</a>()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>getAcceptedIssuers</code>&nbsp;in interface&nbsp;<code>javax.net.ssl.X509TrustManager</code></dd>
</dl>
</li>
</ul>
<a name="acceptCertificate(java.security.cert.X509Certificate[], java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acceptCertificate</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/admin/ads/util/ApplicationTrustManager.html#line.320">acceptCertificate</a>(java.security.cert.X509Certificate[]&nbsp;chain,
                     java.lang.String&nbsp;authType,
                     java.lang.String&nbsp;host)</pre>
<div class="block">This method is called when the user accepted a certificate.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>chain</code> - the certificate chain accepted by the user.</dd><dd><code>authType</code> - the authentication type.</dd><dd><code>host</code> - the host we tried to connect and that presented the
 certificate.</dd></dl>
</li>
</ul>
<a name="setHost(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setHost</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/admin/ads/util/ApplicationTrustManager.html#line.336">setHost</a>(java.lang.String&nbsp;host)</pre>
<div class="block">Sets the host name we are trying to contact in a secure mode.  This
 method is used if we want to verify the correspondance between the
 hostname and the subject DN of the certificate that is being presented.
 If this method is never called (or called passing null) no verification
 will be made on the host name.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>host</code> - the host name we are trying to contact in a secure mode.</dd></dl>
</li>
</ul>
<a name="resetLastRefusedItems()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetLastRefusedItems</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/admin/ads/util/ApplicationTrustManager.html#line.347">resetLastRefusedItems</a>()</pre>
<div class="block">This is a method used to set to null the different members that provide
 information about the last refused certificate.  It is recommended to
 call this method before trying to establish a connection using this
 trust manager.</div>
</li>
</ul>
<a name="createCopy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCopy</h4>
<pre>public&nbsp;<a href="../../../../../org/opends/admin/ads/util/ApplicationTrustManager.html" title="class in org.opends.admin.ads.util">ApplicationTrustManager</a>&nbsp;<a href="../../../../../src-html/org/opends/admin/ads/util/ApplicationTrustManager.html#line.358">createCopy</a>()</pre>
<div class="block">Creates a copy of this ApplicationTrustManager.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a copy of this ApplicationTrustManager.</dd></dl>
</li>
</ul>
<a name="getLastRefusedAuthType()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastRefusedAuthType</h4>
<pre>public&nbsp;java.lang.String&nbsp;<a href="../../../../../src-html/org/opends/admin/ads/util/ApplicationTrustManager.html#line.463">getLastRefusedAuthType</a>()</pre>
<div class="block">Returns the authentication type for the last refused certificate.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the authentication type for the last refused certificate.</dd></dl>
</li>
</ul>
<a name="getLastRefusedCause()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastRefusedCause</h4>
<pre>public&nbsp;<a href="../../../../../org/opends/admin/ads/util/ApplicationTrustManager.Cause.html" title="enum in org.opends.admin.ads.util">ApplicationTrustManager.Cause</a>&nbsp;<a href="../../../../../src-html/org/opends/admin/ads/util/ApplicationTrustManager.html#line.472">getLastRefusedCause</a>()</pre>
<div class="block">Returns the last cause for refusal of a certificate.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the last cause for refusal of a certificate.</dd></dl>
</li>
</ul>
<a name="getLastRefusedChain()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getLastRefusedChain</h4>
<pre>public&nbsp;java.security.cert.X509Certificate[]&nbsp;<a href="../../../../../src-html/org/opends/admin/ads/util/ApplicationTrustManager.html#line.481">getLastRefusedChain</a>()</pre>
<div class="block">Returns the certificate chain for the last refused certificate.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the certificate chain for the last refused certificate.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/opends/admin/ads/util/ApplicationKeyManager.html" title="class in org.opends.admin.ads.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/opends/admin/ads/util/ApplicationTrustManager.Cause.html" title="enum in org.opends.admin.ads.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/opends/admin/ads/util/ApplicationTrustManager.html" target="_top">Frames</a></li>
<li><a href="ApplicationTrustManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
