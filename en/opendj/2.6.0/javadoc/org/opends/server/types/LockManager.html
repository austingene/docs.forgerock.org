<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Thu Jun 27 13:21:05 CEST 2013 -->
<title>LockManager (OpenDJ API Documentation)</title>
<meta name="date" content="2013-06-27">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="LockManager (OpenDJ API Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/opends/server/types/LDIFImportResult.html" title="class in org.opends.server.types"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/opends/server/types/LockType.html" title="enum in org.opends.server.types"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/opends/server/types/LockManager.html" target="_top">Frames</a></li>
<li><a href="LockManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.opends.server.types</div>
<h2 title="Class LockManager" class="title">Class LockManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.opends.server.types.LockManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="../../../../org/opends/server/types/PublicAPI.html" title="annotation in org.opends.server.types">@PublicAPI</a>(<a href="../../../../org/opends/server/types/PublicAPI.html#stability()">stability</a>=<a href="../../../../org/opends/server/types/StabilityLevel.html#UNCOMMITTED">UNCOMMITTED</a>,
           <a href="../../../../org/opends/server/types/PublicAPI.html#mayInstantiate()">mayInstantiate</a>=false,
           <a href="../../../../org/opends/server/types/PublicAPI.html#mayExtend()">mayExtend</a>=false,
           <a href="../../../../org/opends/server/types/PublicAPI.html#mayInvoke()">mayInvoke</a>=true)
public final class <a href="../../../../src-html/org/opends/server/types/LockManager.html#line.51">LockManager</a>
extends java.lang.Object</pre>
<div class="block">This class defines a Directory Server component that can keep track
 of all locks needed throughout the Directory Server.  It is
 intended primarily for entry locking but support for other types of
 objects might be added in the future.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/opends/server/types/LockManager.html#DEFAULT_CONCURRENCY_LEVEL">DEFAULT_CONCURRENCY_LEVEL</a></strong></code>
<div class="block">The default concurrency level to use for the lock table.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/opends/server/types/LockManager.html#DEFAULT_FAIR_ORDERING">DEFAULT_FAIR_ORDERING</a></strong></code>
<div class="block">The default setting for the use of fair ordering locks.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/opends/server/types/LockManager.html#DEFAULT_INITIAL_TABLE_SIZE">DEFAULT_INITIAL_TABLE_SIZE</a></strong></code>
<div class="block">The default initial size to use for the lock table.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static float</code></td>
<td class="colLast"><code><strong><a href="../../../../org/opends/server/types/LockManager.html#DEFAULT_LOAD_FACTOR">DEFAULT_LOAD_FACTOR</a></strong></code>
<div class="block">The default load factor to use for the lock table.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/opends/server/types/LockManager.html#DEFAULT_TIMEOUT">DEFAULT_TIMEOUT</a></strong></code>
<div class="block">The default length of time in milliseconds to wait while
 attempting to acquire a read or write lock.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/opends/server/types/LockManager.html#LockManager()">LockManager</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.util.concurrent.locks.ReentrantReadWriteLock</code></td>
<td class="colLast"><code><strong><a href="../../../../org/opends/server/types/LockManager.html#destroyLock(org.opends.server.types.DN)">destroyLock</a></strong>(<a href="../../../../org/opends/server/types/DN.html" title="class in org.opends.server.types">DN</a>&nbsp;entryDN)</code>
<div class="block">Removes any reference to the specified entry from the lock table.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.concurrent.locks.Lock</code></td>
<td class="colLast"><code><strong><a href="../../../../org/opends/server/types/LockManager.html#lockRead(org.opends.server.types.DN)">lockRead</a></strong>(<a href="../../../../org/opends/server/types/DN.html" title="class in org.opends.server.types">DN</a>&nbsp;entryDN)</code>
<div class="block">Attempts to acquire a read lock for the specified entry.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/opends/server/types/LockManager.html#lockTableSize()">lockTableSize</a></strong>()</code>
<div class="block">Retrieves the number of entries currently held in the lock table.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.concurrent.locks.Lock</code></td>
<td class="colLast"><code><strong><a href="../../../../org/opends/server/types/LockManager.html#lockWrite(org.opends.server.types.DN)">lockWrite</a></strong>(<a href="../../../../org/opends/server/types/DN.html" title="class in org.opends.server.types">DN</a>&nbsp;entryDN)</code>
<div class="block">Attempts to acquire the write lock for the specified entry.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/opends/server/types/LockManager.html#reinitializeLockTable()">reinitializeLockTable</a></strong>()</code>
<div class="block">Recreates the lock table.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/opends/server/types/LockManager.html#unlock(org.opends.server.types.DN, java.util.concurrent.locks.Lock)">unlock</a></strong>(<a href="../../../../org/opends/server/types/DN.html" title="class in org.opends.server.types">DN</a>&nbsp;entryDN,
            java.util.concurrent.locks.Lock&nbsp;lock)</code>
<div class="block">Releases a read or write lock held on the specified entry.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEFAULT_FAIR_ORDERING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_FAIR_ORDERING</h4>
<pre>public static final&nbsp;boolean <a href="../../../../src-html/org/opends/server/types/LockManager.html#line.61">DEFAULT_FAIR_ORDERING</a></pre>
<div class="block">The default setting for the use of fair ordering locks.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.opends.server.types.LockManager.DEFAULT_FAIR_ORDERING">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DEFAULT_INITIAL_TABLE_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_INITIAL_TABLE_SIZE</h4>
<pre>public static final&nbsp;int <a href="../../../../src-html/org/opends/server/types/LockManager.html#line.66">DEFAULT_INITIAL_TABLE_SIZE</a></pre>
<div class="block">The default initial size to use for the lock table.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.opends.server.types.LockManager.DEFAULT_INITIAL_TABLE_SIZE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DEFAULT_CONCURRENCY_LEVEL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_CONCURRENCY_LEVEL</h4>
<pre>public static final&nbsp;int <a href="../../../../src-html/org/opends/server/types/LockManager.html#line.73">DEFAULT_CONCURRENCY_LEVEL</a></pre>
<div class="block">The default concurrency level to use for the lock table.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.opends.server.types.LockManager.DEFAULT_CONCURRENCY_LEVEL">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DEFAULT_LOAD_FACTOR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_LOAD_FACTOR</h4>
<pre>public static final&nbsp;float <a href="../../../../src-html/org/opends/server/types/LockManager.html#line.80">DEFAULT_LOAD_FACTOR</a></pre>
<div class="block">The default load factor to use for the lock table.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.opends.server.types.LockManager.DEFAULT_LOAD_FACTOR">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DEFAULT_TIMEOUT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DEFAULT_TIMEOUT</h4>
<pre>public static final&nbsp;long <a href="../../../../src-html/org/opends/server/types/LockManager.html#line.88">DEFAULT_TIMEOUT</a></pre>
<div class="block">The default length of time in milliseconds to wait while
 attempting to acquire a read or write lock.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.opends.server.types.LockManager.DEFAULT_TIMEOUT">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="LockManager()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LockManager</h4>
<pre>public&nbsp;<a href="../../../../src-html/org/opends/server/types/LockManager.html#line.51">LockManager</a>()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="reinitializeLockTable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reinitializeLockTable</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../../src-html/org/opends/server/types/LockManager.html#line.120">reinitializeLockTable</a>()</pre>
<div class="block">Recreates the lock table.  This should be called only in the
 case that the Directory Server is in the process of an in-core
 restart because it will destroy the existing lock table.</div>
</li>
</ul>
<a name="lockRead(org.opends.server.types.DN)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockRead</h4>
<pre>public static&nbsp;java.util.concurrent.locks.Lock&nbsp;<a href="../../../../src-html/org/opends/server/types/LockManager.html#line.274">lockRead</a>(<a href="../../../../org/opends/server/types/DN.html" title="class in org.opends.server.types">DN</a>&nbsp;entryDN)</pre>
<div class="block">Attempts to acquire a read lock for the specified entry.
 Multiple threads can hold the read lock concurrently for an entry
 as long as the write lock is held.  If the write lock is held,
 then no other read or write locks will be allowed for that entry
 until the write lock is released.  A default timeout will be used
 for the lock.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>entryDN</code> - The DN of the entry for which to obtain the read
                  lock.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The read lock that was acquired, or <code>null</code> if it
          was not possible to obtain a read lock for some reason.</dd></dl>
</li>
</ul>
<a name="lockWrite(org.opends.server.types.DN)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockWrite</h4>
<pre>public static&nbsp;java.util.concurrent.locks.Lock&nbsp;<a href="../../../../src-html/org/opends/server/types/LockManager.html#line.487">lockWrite</a>(<a href="../../../../org/opends/server/types/DN.html" title="class in org.opends.server.types">DN</a>&nbsp;entryDN)</pre>
<div class="block">Attempts to acquire the write lock for the specified entry.  Only
 a single thread may hold the write lock for an entry at any given
 time, and during that time no read locks may be held for it.  A
 default timeout will be used for the lock.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>entryDN</code> - The DN of the entry for which to obtain the
                  write lock.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The write lock that was acquired, or <CODE>null</CODE>
          if it was not possible to obtain a write lock for some
          reason.</dd></dl>
</li>
</ul>
<a name="unlock(org.opends.server.types.DN, java.util.concurrent.locks.Lock)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../../src-html/org/opends/server/types/LockManager.html#line.602">unlock</a>(<a href="../../../../org/opends/server/types/DN.html" title="class in org.opends.server.types">DN</a>&nbsp;entryDN,
          java.util.concurrent.locks.Lock&nbsp;lock)</pre>
<div class="block">Releases a read or write lock held on the specified entry.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>entryDN</code> - The DN of the entry for which to release the
                  lock.</dd><dd><code>lock</code> - The read or write lock held for the entry.</dd></dl>
</li>
</ul>
<a name="destroyLock(org.opends.server.types.DN)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroyLock</h4>
<pre>public static&nbsp;java.util.concurrent.locks.ReentrantReadWriteLock&nbsp;<a href="../../../../src-html/org/opends/server/types/LockManager.html#line.653">destroyLock</a>(<a href="../../../../org/opends/server/types/DN.html" title="class in org.opends.server.types">DN</a>&nbsp;entryDN)</pre>
<div class="block">Removes any reference to the specified entry from the lock table.
 This may be helpful if there is a case where a lock has been
 orphaned somehow and must be removed before other threads may
 acquire it.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>entryDN</code> - The DN of the entry for which to remove the lock
                  from the table.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The read write lock that was removed from the table, or
          <code>null</code> if nothing was in the table for the
          specified entry.  If a lock object is returned, it may
          be possible to get information about who was holding it.</dd></dl>
</li>
</ul>
<a name="lockTableSize()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>lockTableSize</h4>
<pre>public static&nbsp;int&nbsp;<a href="../../../../src-html/org/opends/server/types/LockManager.html#line.666">lockTableSize</a>()</pre>
<div class="block">Retrieves the number of entries currently held in the lock table.
 Note that this may be an expensive operation.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of entries currently held in the lock table.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/opends/server/types/LDIFImportResult.html" title="class in org.opends.server.types"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/opends/server/types/LockType.html" title="enum in org.opends.server.types"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/opends/server/types/LockManager.html" target="_top">Frames</a></li>
<li><a href="LockManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
