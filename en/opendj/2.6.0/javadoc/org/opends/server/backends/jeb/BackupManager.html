<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Thu Jun 27 13:20:56 CEST 2013 -->
<title>BackupManager (OpenDJ API Documentation)</title>
<meta name="date" content="2013-06-27">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BackupManager (OpenDJ API Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/opends/server/backends/jeb/BackendImpl.html" title="class in org.opends.server.backends.jeb"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/opends/server/backends/jeb/ConfigurableEnvironment.html" title="class in org.opends.server.backends.jeb"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/opends/server/backends/jeb/BackupManager.html" target="_top">Frames</a></li>
<li><a href="BackupManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.opends.server.backends.jeb</div>
<h2 title="Class BackupManager" class="title">Class BackupManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.opends.server.backends.jeb.BackupManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <a href="../../../../../src-html/org/opends/server/backends/jeb/BackupManager.html#line.75">BackupManager</a>
extends java.lang.Object</pre>
<div class="block">A backup manager for JE backends.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/backends/jeb/BackupManager.html#BACKUP_BASE_FILENAME">BACKUP_BASE_FILENAME</a></strong></code>
<div class="block">The common prefix for archive files.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/backends/jeb/BackupManager.html#PROPERTY_LAST_LOGFILE_NAME">PROPERTY_LAST_LOGFILE_NAME</a></strong></code>
<div class="block">The name of the property that holds the name of the latest log file
 at the time the backup was created.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/backends/jeb/BackupManager.html#PROPERTY_LAST_LOGFILE_SIZE">PROPERTY_LAST_LOGFILE_SIZE</a></strong></code>
<div class="block">The name of the property that holds the size of the latest log file
 at the time the backup was created.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/backends/jeb/BackupManager.html#ZIPENTRY_EMPTY_PLACEHOLDER">ZIPENTRY_EMPTY_PLACEHOLDER</a></strong></code>
<div class="block">The name of a dummy entry in the backup archive file that will act
 as a placeholder in case a backup is done on an empty backend.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/backends/jeb/BackupManager.html#ZIPENTRY_UNCHANGED_LOGFILES">ZIPENTRY_UNCHANGED_LOGFILES</a></strong></code>
<div class="block">The name of the entry in an incremental backup archive file
 containing a list of log files that are unchanged since the
 previous backup.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/opends/server/backends/jeb/BackupManager.html#BackupManager(java.lang.String)">BackupManager</a></strong>(java.lang.String&nbsp;backendID)</code>
<div class="block">Construct a backup manager for a JE backend.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/backends/jeb/BackupManager.html#createBackup(java.io.File, org.opends.server.types.BackupConfig)">createBackup</a></strong>(java.io.File&nbsp;backendDir,
                        <a href="../../../../../org/opends/server/types/BackupConfig.html" title="class in org.opends.server.types">BackupConfig</a>&nbsp;backupConfig)</code>
<div class="block">Create a backup of the JE backend.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/backends/jeb/BackupManager.html#removeBackup(org.opends.server.types.BackupDirectory, java.lang.String)">removeBackup</a></strong>(<a href="../../../../../org/opends/server/types/BackupDirectory.html" title="class in org.opends.server.types">BackupDirectory</a>&nbsp;backupDir,
                        java.lang.String&nbsp;backupID)</code>
<div class="block">Removes the specified backup if it is possible to do so.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/backends/jeb/BackupManager.html#restoreBackup(java.io.File, org.opends.server.types.RestoreConfig)">restoreBackup</a></strong>(java.io.File&nbsp;backendDir,
                          <a href="../../../../../org/opends/server/types/RestoreConfig.html" title="class in org.opends.server.types">RestoreConfig</a>&nbsp;restoreConfig)</code>
<div class="block">Restore a JE backend from backup, or verify the backup.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="BACKUP_BASE_FILENAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BACKUP_BASE_FILENAME</h4>
<pre>public static final&nbsp;java.lang.String <a href="../../../../../src-html/org/opends/server/backends/jeb/BackupManager.html#line.85">BACKUP_BASE_FILENAME</a></pre>
<div class="block">The common prefix for archive files.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#org.opends.server.backends.jeb.BackupManager.BACKUP_BASE_FILENAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="PROPERTY_LAST_LOGFILE_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PROPERTY_LAST_LOGFILE_NAME</h4>
<pre>public static final&nbsp;java.lang.String <a href="../../../../../src-html/org/opends/server/backends/jeb/BackupManager.html#line.91">PROPERTY_LAST_LOGFILE_NAME</a></pre>
<div class="block">The name of the property that holds the name of the latest log file
 at the time the backup was created.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#org.opends.server.backends.jeb.BackupManager.PROPERTY_LAST_LOGFILE_NAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="PROPERTY_LAST_LOGFILE_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PROPERTY_LAST_LOGFILE_SIZE</h4>
<pre>public static final&nbsp;java.lang.String <a href="../../../../../src-html/org/opends/server/backends/jeb/BackupManager.html#line.97">PROPERTY_LAST_LOGFILE_SIZE</a></pre>
<div class="block">The name of the property that holds the size of the latest log file
 at the time the backup was created.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#org.opends.server.backends.jeb.BackupManager.PROPERTY_LAST_LOGFILE_SIZE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="ZIPENTRY_UNCHANGED_LOGFILES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ZIPENTRY_UNCHANGED_LOGFILES</h4>
<pre>public static final&nbsp;java.lang.String <a href="../../../../../src-html/org/opends/server/backends/jeb/BackupManager.html#line.105">ZIPENTRY_UNCHANGED_LOGFILES</a></pre>
<div class="block">The name of the entry in an incremental backup archive file
 containing a list of log files that are unchanged since the
 previous backup.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#org.opends.server.backends.jeb.BackupManager.ZIPENTRY_UNCHANGED_LOGFILES">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="ZIPENTRY_EMPTY_PLACEHOLDER">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ZIPENTRY_EMPTY_PLACEHOLDER</h4>
<pre>public static final&nbsp;java.lang.String <a href="../../../../../src-html/org/opends/server/backends/jeb/BackupManager.html#line.111">ZIPENTRY_EMPTY_PLACEHOLDER</a></pre>
<div class="block">The name of a dummy entry in the backup archive file that will act
 as a placeholder in case a backup is done on an empty backend.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#org.opends.server.backends.jeb.BackupManager.ZIPENTRY_EMPTY_PLACEHOLDER">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BackupManager(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BackupManager</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/opends/server/backends/jeb/BackupManager.html#line.125">BackupManager</a>(java.lang.String&nbsp;backendID)</pre>
<div class="block">Construct a backup manager for a JE backend.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>backendID</code> - The ID of the backend instance for which a backup
 manager is required.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createBackup(java.io.File, org.opends.server.types.BackupConfig)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createBackup</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/backends/jeb/BackupManager.html#line.142">createBackup</a>(java.io.File&nbsp;backendDir,
                <a href="../../../../../org/opends/server/types/BackupConfig.html" title="class in org.opends.server.types">BackupConfig</a>&nbsp;backupConfig)
                  throws <a href="../../../../../org/opends/server/types/DirectoryException.html" title="class in org.opends.server.types">DirectoryException</a></pre>
<div class="block">Create a backup of the JE backend.  The backup is stored in a single zip
 file in the backup directory.  If the backup is incremental, then the
 first entry in the zip is a text file containing a list of all the JE
 log files that are unchanged since the previous backup.  The remaining
 zip entries are the JE log files themselves, which, for an incremental,
 only include those files that have changed.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>backendDir</code> - The directory of the backend instance for
 which the backup is required.</dd><dd><code>backupConfig</code> - The configuration to use when performing the backup.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>DirectoryException</code> - If a Directory Server error occurs.</dd></dl>
</li>
</ul>
<a name="restoreBackup(java.io.File, org.opends.server.types.RestoreConfig)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restoreBackup</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/backends/jeb/BackupManager.html#line.731">restoreBackup</a>(java.io.File&nbsp;backendDir,
                 <a href="../../../../../org/opends/server/types/RestoreConfig.html" title="class in org.opends.server.types">RestoreConfig</a>&nbsp;restoreConfig)
                   throws <a href="../../../../../org/opends/server/types/DirectoryException.html" title="class in org.opends.server.types">DirectoryException</a></pre>
<div class="block">Restore a JE backend from backup, or verify the backup.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>backendDir</code> - The configuration of the backend instance to be
 restored.</dd><dd><code>restoreConfig</code> - The configuration to use when performing the restore.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>DirectoryException</code> - If a Directory Server error occurs.</dd></dl>
</li>
</ul>
<a name="removeBackup(org.opends.server.types.BackupDirectory, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>removeBackup</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/backends/jeb/BackupManager.html#line.848">removeBackup</a>(<a href="../../../../../org/opends/server/types/BackupDirectory.html" title="class in org.opends.server.types">BackupDirectory</a>&nbsp;backupDir,
                java.lang.String&nbsp;backupID)
                  throws <a href="../../../../../org/opends/server/types/DirectoryException.html" title="class in org.opends.server.types">DirectoryException</a></pre>
<div class="block">Removes the specified backup if it is possible to do so.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>backupDir</code> - The backup directory structure with which the
                          specified backup is associated.</dd><dd><code>backupID</code> - The backup ID for the backup to be removed.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>DirectoryException</code> - If it is not possible to remove the specified
                              backup for some reason (e.g., no such backup
                              exists or there are other backups that are
                              dependent upon it).</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/opends/server/backends/jeb/BackendImpl.html" title="class in org.opends.server.backends.jeb"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/opends/server/backends/jeb/ConfigurableEnvironment.html" title="class in org.opends.server.backends.jeb"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/opends/server/backends/jeb/BackupManager.html" target="_top">Frames</a></li>
<li><a href="BackupManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
