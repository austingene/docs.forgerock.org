<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Thu Jun 27 13:21:03 CEST 2013 -->
<title>ReplicationDomain (OpenDJ API Documentation)</title>
<meta name="date" content="2013-06-27">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ReplicationDomain (OpenDJ API Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/opends/server/replication/service/ReplicationBroker.ReplicationServerInfo.html" title="class in org.opends.server.replication.service"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.IEContext.html" title="class in org.opends.server.replication.service"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/opends/server/replication/service/ReplicationDomain.html" target="_top">Frames</a></li>
<li><a href="ReplicationDomain.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.opends.server.replication.service</div>
<h2 title="Class ReplicationDomain" class="title">Class ReplicationDomain</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.opends.server.replication.service.ReplicationDomain</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../org/opends/server/replication/plugin/LDAPReplicationDomain.html" title="class in org.opends.server.replication.plugin">LDAPReplicationDomain</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.107">ReplicationDomain</a>
extends java.lang.Object</pre>
<div class="block">This class should be used as a base for Replication implementations.
 <p>
 It is intended that developer in need of a replication mechanism
 subclass this class with their own implementation.
 <p>
   The startup phase of the ReplicationDomain subclass,
   should read the list of replication servers from the configuration,
   instantiate a <code>ServerState</code> then start the publish service
   by calling
   <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#startPublishService(java.util.Collection, int, long, long)"><code>startPublishService(Collection, int, long, long)</code></a>.
   At this point it can start calling the <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#publish(org.opends.server.replication.protocol.UpdateMsg)"><code>publish(UpdateMsg)</code></a>
   method if needed.
 <p>
   When the startup phase reach the point when the subclass is ready
   to handle updates the Replication Domain implementation should call the
   <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#startListenService()"><code>startListenService()</code></a> method.
   At this point a Listener thread is created on the Replication Service
   and which can start receiving updates.
 <p>
   When updates are received the Replication Service calls the
   <code>#processUpdate(UpdateMsg)</code> method.
   ReplicationDomain implementation should implement the appropriate code
   for replaying the update on the local repository.
   When fully done the subclass must call the
   <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#processUpdateDone(org.opends.server.replication.protocol.UpdateMsg, java.lang.String)"><code>processUpdateDone(UpdateMsg, String)</code></a> method.
   This allows to process the update asynchronously if necessary.

 <p>
   To propagate changes to other replica, a ReplicationDomain implementation
   must use the <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#publish(org.opends.server.replication.protocol.UpdateMsg)"><code>publish(UpdateMsg)</code></a> method.
 <p>
   If the Full Initialization process is needed then implementation
   for <code>importBackend(InputStream)</code> and
   <code>exportBackend(OutputStream)</code> must be
   provided.
 <p>
   Full Initialization of a replica can be triggered by LDAP clients
   by creating InitializeTasks or InitializeTargetTask.
   Full initialization can also by triggered from the ReplicationDomain
   implementation using methods <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#initializeRemote(int)"><code>initializeRemote(int)</code></a>
   or <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#initializeFromRemote(int)"><code>initializeFromRemote(int)</code></a>.
 <p>
   At shutdown time, the <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#stopDomain()"><code>stopDomain()</code></a> method should be called to
   cleanly stop the replication service.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.IEContext.html" title="class in org.opends.server.replication.service">ReplicationDomain.IEContext</a></strong></code>
<div class="block">This class contain the context related to an import or export
 launched on the domain.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/opends/server/replication/service/ReplicationBroker.html" title="class in org.opends.server.replication.service">ReplicationBroker</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#broker">broker</a></strong></code>
<div class="block">The ReplicationBroker that is used by this ReplicationDomain to
 connect to the ReplicationService.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.IEContext.html" title="class in org.opends.server.replication.service">ReplicationDomain.IEContext</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#ieContext">ieContext</a></strong></code>
<div class="block">The context related to an import or export being processed
 Null when none is being processed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#initWindow">initWindow</a></strong></code>
<div class="block">Window size used during initialization ..</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../org/opends/server/replication/common/ServerStatus.html" title="enum in org.opends.server.replication.common">ServerStatus</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#status">status</a></strong></code>
<div class="block">Current status for this replicated domain.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#ReplicationDomain(java.lang.String, int)">ReplicationDomain</a></strong>(java.lang.String&nbsp;serviceID,
                                  int&nbsp;serverID)</code>
<div class="block">Creates a ReplicationDomain with the provided parameters.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#ReplicationDomain(java.lang.String, int, int)">ReplicationDomain</a></strong>(java.lang.String&nbsp;serviceID,
                                  int&nbsp;serverID,
                                  int&nbsp;initWindow)</code>
<div class="block">Creates a ReplicationDomain with the provided parameters.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#ReplicationDomain(java.lang.String, int, org.opends.server.replication.common.ServerState)">ReplicationDomain</a></strong>(java.lang.String&nbsp;serviceID,
                                  int&nbsp;serverID,
                                  <a href="../../../../../org/opends/server/replication/common/ServerState.html" title="class in org.opends.server.replication.common">ServerState</a>&nbsp;serverState)</code>
<div class="block">Creates a ReplicationDomain with the provided parameters.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#changeConfig(java.util.Collection, int, long, byte)">changeConfig</a></strong>(java.util.Collection&lt;java.lang.String&gt;&nbsp;replicationServers,
                        int&nbsp;windowSize,
                        long&nbsp;heartbeatInterval,
                        byte&nbsp;groupId)</code>
<div class="block">Change some ReplicationDomain parameters.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#changeConfig(java.util.Set, java.util.Set)">changeConfig</a></strong>(java.util.Set&lt;java.lang.String&gt;&nbsp;includeAttributes,
                        java.util.Set&lt;java.lang.String&gt;&nbsp;includeAttributesForDeletes)</code>
<div class="block">Applies a configuration change to the attributes which should be be
 included in the ECL.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#countEntries()">countEntries</a></strong>()</code>
<div class="block">This method should return the total number of objects in the
 replicated domain.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#decodeTarget(java.lang.String)">decodeTarget</a></strong>(java.lang.String&nbsp;targetString)</code>
<div class="block">Verifies that the given string represents a valid source
 from which this server can be initialized.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#disableService()">disableService</a></strong>()</code>
<div class="block">Temporarily disable the Replication Service.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#enableService()">enableService</a></strong>()</code>
<div class="block">Restart the Replication service after a <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#disableService()"><code>disableService()</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#exportBackend(java.io.OutputStream)">exportBackend</a></strong>(java.io.OutputStream&nbsp;output)</code>
<div class="block">This method should trigger an export of the replicated data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#exportInProgress()">exportInProgress</a></strong>()</code>
<div class="block">Returns a boolean indicating if a total update export is currently
 in Progress.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#exportLDIFEntry(byte[], int, int)">exportLDIFEntry</a></strong>(byte[]&nbsp;lDIFEntry,
                              int&nbsp;pos,
                              int&nbsp;length)</code>
<div class="block">Exports an entry in LDIF format.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../../../org/opends/server/types/Attribute.html" title="interface in org.opends.server.types">Attribute</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getAdditionalMonitoring()">getAdditionalMonitoring</a></strong>()</code>
<div class="block">Subclasses should use this method to add additional monitoring
 information in the ReplicationDomain.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/opends/server/replication/common/AssuredMode.html" title="enum in org.opends.server.replication.common">AssuredMode</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getAssuredMode()">getAssuredMode</a></strong>()</code>
<div class="block">Gives the mode for the assured replication of the domain.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getAssuredSdAcknowledgedUpdates()">getAssuredSdAcknowledgedUpdates</a></strong>()</code>
<div class="block">Gets the number of updates sent in assured safe data mode that have been
 acknowledged without errors.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getAssuredSdLevel()">getAssuredSdLevel</a></strong>()</code>
<div class="block">Gives the assured level of the replication of the domain.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getAssuredSdSentUpdates()">getAssuredSdSentUpdates</a></strong>()</code>
<div class="block">Gets the number of updates sent in assured safe data mode.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.Integer,java.lang.Integer&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getAssuredSdServerTimeoutUpdates()">getAssuredSdServerTimeoutUpdates</a></strong>()</code>
<div class="block">Gets the number of updates sent in assured safe data mode that have not
 been acknowledged due to timeout error per server.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getAssuredSdTimeoutUpdates()">getAssuredSdTimeoutUpdates</a></strong>()</code>
<div class="block">Gets the number of updates sent in assured safe data mode that have not
 been acknowledged due to timeout error.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getAssuredSrAcknowledgedUpdates()">getAssuredSrAcknowledgedUpdates</a></strong>()</code>
<div class="block">Gets the number of updates sent in assured safe read mode that have been
 acknowledged without errors.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getAssuredSrNotAcknowledgedUpdates()">getAssuredSrNotAcknowledgedUpdates</a></strong>()</code>
<div class="block">Gets the number of updates sent in assured safe read mode that have not
 been acknowledged.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getAssuredSrReceivedUpdates()">getAssuredSrReceivedUpdates</a></strong>()</code>
<div class="block">Gets the number of updates received in assured safe read mode request.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getAssuredSrReceivedUpdatesAcked()">getAssuredSrReceivedUpdatesAcked</a></strong>()</code>
<div class="block">Gets the number of updates received in assured safe read mode that we acked
 without error (no replay error).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getAssuredSrReceivedUpdatesNotAcked()">getAssuredSrReceivedUpdatesNotAcked</a></strong>()</code>
<div class="block">Gets the number of updates received in assured safe read mode that we did
 not ack due to error (replay error).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getAssuredSrReplayErrorUpdates()">getAssuredSrReplayErrorUpdates</a></strong>()</code>
<div class="block">Gets the number of updates sent in assured safe read mode that have not
 been acknowledged due to replay error.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getAssuredSrSentUpdates()">getAssuredSrSentUpdates</a></strong>()</code>
<div class="block">Gets the number of updates sent in assured safe read mode.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.Integer,java.lang.Integer&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getAssuredSrServerNotAcknowledgedUpdates()">getAssuredSrServerNotAcknowledgedUpdates</a></strong>()</code>
<div class="block">Gets the number of updates sent in assured safe read mode that have not
 been acknowledged per server.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getAssuredSrTimeoutUpdates()">getAssuredSrTimeoutUpdates</a></strong>()</code>
<div class="block">Gets the number of updates sent in assured safe read mode that have not
 been acknowledged due to timeout error.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getAssuredSrWrongStatusUpdates()">getAssuredSrWrongStatusUpdates</a></strong>()</code>
<div class="block">Gets the number of updates sent in assured safe read mode that have not
 been acknowledged due to wrong status error.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getAssuredTimeout()">getAssuredTimeout</a></strong>()</code>
<div class="block">Gives the assured timeout of the replication of the domain (in ms).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getEclIncludes()">getEclIncludes</a></strong>()</code>
<div class="block">Get the attributes to include in each change for the ECL.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getEclIncludes(int)">getEclIncludes</a></strong>(int&nbsp;serverId)</code>
<div class="block">Get the attributes to include in each change for the ECL for a given
 serverId.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getEclIncludesForDeletes()">getEclIncludesForDeletes</a></strong>()</code>
<div class="block">Get the attributes to include in each delete change for the ECL.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getEclIncludesForDeletes(int)">getEclIncludesForDeletes</a></strong>(int&nbsp;serverId)</code>
<div class="block">Get the attributes to include in each change for the ECL for a given
 serverId.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getGenerationID()">getGenerationID</a></strong>()</code>
<div class="block">This method should return the generationID to use for this
 ReplicationDomain.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/opends/server/replication/common/ChangeNumberGenerator.html" title="class in org.opends.server.replication.common">ChangeNumberGenerator</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getGenerator()">getGenerator</a></strong>()</code>
<div class="block">Returns the <code>ChangeNumberGenerator</code> that will be used to
 generate <code>ChangeNumber</code> for this domain.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getGroupId()">getGroupId</a></strong>()</code>
<div class="block">Gets the group id for this domain.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/opends/server/replication/common/ChangeNumber.html" title="class in org.opends.server.replication.common">ChangeNumber</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getLastLocalChange()">getLastLocalChange</a></strong>()</code>
<div class="block">Returns the ChangeNUmber of the last Change that was fully processed
 by this ReplicationDomain.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Date</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getLastStatusChangeDate()">getLastStatusChangeDate</a></strong>()</code>
<div class="block">Gets the date of the last status change.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getRefUrls()">getRefUrls</a></strong>()</code>
<div class="block">Gets the referrals URLs this domain publishes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../../org/opends/server/replication/common/DSInfo.html" title="class in org.opends.server.replication.common">DSInfo</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getReplicasList()">getReplicasList</a></strong>()</code>
<div class="block">Gets the info for Replicas in the topology (except us).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.Integer,<a href="../../../../../org/opends/server/replication/common/ServerState.html" title="class in org.opends.server.replication.common">ServerState</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getReplicaStates()">getReplicaStates</a></strong>()</code>
<div class="block">Gets the States of all the Replicas currently in the
 Topology.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getReplicationServer()">getReplicationServer</a></strong>()</code>
<div class="block">Get the name of the replicationServer to which this domain is currently
 connected.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../../org/opends/server/replication/common/RSInfo.html" title="class in org.opends.server.replication.common">RSInfo</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getRsList()">getRsList</a></strong>()</code>
<div class="block">Gets the info for RSs in the topology (except the one we are connected
 to).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getRsServerId()">getRsServerId</a></strong>()</code>
<div class="block">Gets the server ID of the Replication Server to which the domain
 is currently connected.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getServerId()">getServerId</a></strong>()</code>
<div class="block">Get the server ID.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/opends/server/replication/common/ServerState.html" title="class in org.opends.server.replication.common">ServerState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getServerState()">getServerState</a></strong>()</code>
<div class="block">Get the ServerState maintained by the Concrete class.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getServiceID()">getServiceID</a></strong>()</code>
<div class="block">Gets the identifier of this domain.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/opends/server/replication/common/ServerStatus.html" title="enum in org.opends.server.replication.common">ServerStatus</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getStatus()">getStatus</a></strong>()</code>
<div class="block">Gets the status for this domain.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#hasConnectionError()">hasConnectionError</a></strong>()</code>
<div class="block">Check if the domain has a connection error.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#ieRunning()">ieRunning</a></strong>()</code>
<div class="block">Returns a boolean indicating if an import or export is currently
 processed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#importBackend(java.io.InputStream)">importBackend</a></strong>(java.io.InputStream&nbsp;input)</code>
<div class="block">This method should trigger an import of the replicated data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#importInProgress()">importInProgress</a></strong>()</code>
<div class="block">Returns a boolean indicating if a total update import is currently
 in Progress.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#initializeFromRemote(int)">initializeFromRemote</a></strong>(int&nbsp;source)</code>
<div class="block">Initializes this domain from another source server.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#initializeFromRemote(int, org.opends.server.backends.task.Task)">initializeFromRemote</a></strong>(int&nbsp;source,
                                        <a href="../../../../../org/opends/server/backends/task/Task.html" title="class in org.opends.server.backends.task">Task</a>&nbsp;initTask)</code>
<div class="block">Initializes asynchronously this domain from a remote source server.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#initializeRemote(int)">initializeRemote</a></strong>(int&nbsp;target)</code>
<div class="block">Initializes a remote server from this server.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#initializeRemote(int, int, org.opends.server.backends.task.Task, int)">initializeRemote</a></strong>(int&nbsp;serverToInitialize,
                                int&nbsp;serverRunningTheTask,
                                <a href="../../../../../org/opends/server/backends/task/Task.html" title="class in org.opends.server.backends.task">Task</a>&nbsp;initTask,
                                int&nbsp;initWindow)</code>
<div class="block">Process the initialization of some other server or servers in the topology
 specified by the target argument when this initialization specifying the
 server that requests the initialization.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#initializeRemote(int, org.opends.server.backends.task.Task)">initializeRemote</a></strong>(int&nbsp;target,
                                <a href="../../../../../org/opends/server/backends/task/Task.html" title="class in org.opends.server.backends.task">Task</a>&nbsp;initTask)</code>
<div class="block">Initializes a remote server from this server.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#isAssured()">isAssured</a></strong>()</code>
<div class="block">Tells if assured replication is enabled for this domain.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#isConnected()">isConnected</a></strong>()</code>
<div class="block">Check if the domain is connected to a ReplicationServer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/opends/server/replication/common/DSInfo.html" title="class in org.opends.server.replication.common">DSInfo</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#isRemoteDSConnected(int)">isRemoteDSConnected</a></strong>(int&nbsp;serverId)</code>
<div class="block">Returns information about the DS server related to the provided serverId.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#prepareWaitForAckIfAssuredEnabled(org.opends.server.replication.protocol.UpdateMsg)">prepareWaitForAckIfAssuredEnabled</a></strong>(<a href="../../../../../org/opends/server/replication/protocol/UpdateMsg.html" title="class in org.opends.server.replication.protocol">UpdateMsg</a>&nbsp;msg)</code>
<div class="block">Prepare a message if it is to be sent in assured mode.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#processUpdate(org.opends.server.replication.protocol.UpdateMsg, java.util.concurrent.atomic.AtomicBoolean)">processUpdate</a></strong>(<a href="../../../../../org/opends/server/replication/protocol/UpdateMsg.html" title="class in org.opends.server.replication.protocol">UpdateMsg</a>&nbsp;updateMsg,
                          java.util.concurrent.atomic.AtomicBoolean&nbsp;shutdown)</code>
<div class="block">This method should handle the processing of <code>UpdateMsg</code> receive from
 remote replication entities.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#processUpdateDone(org.opends.server.replication.protocol.UpdateMsg, java.lang.String)">processUpdateDone</a></strong>(<a href="../../../../../org/opends/server/replication/protocol/UpdateMsg.html" title="class in org.opends.server.replication.protocol">UpdateMsg</a>&nbsp;msg,
                                  java.lang.String&nbsp;replayErrorMsg)</code>
<div class="block">This method must be called after each call to
 <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#processUpdate(org.opends.server.replication.protocol.UpdateMsg, java.util.concurrent.atomic.AtomicBoolean)"><code>processUpdate(UpdateMsg, AtomicBoolean)</code></a> when the processing of the
 update is completed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#publish(byte[])">publish</a></strong>(byte[]&nbsp;msg)</code>
<div class="block">Publish information to the Replication Service (not assured mode).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#publish(org.opends.server.replication.protocol.UpdateMsg)">publish</a></strong>(<a href="../../../../../org/opends/server/replication/protocol/UpdateMsg.html" title="class in org.opends.server.replication.protocol">UpdateMsg</a>&nbsp;msg)</code>
<div class="block">Publish an <code>UpdateMsg</code> to the Replication Service.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#receiveEntryBytes()">receiveEntryBytes</a></strong>()</code>
<div class="block">Receives bytes related to an entry in the context of an import to
 initialize the domain (called by ReplLDIFInputStream).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#resetGenerationId(java.lang.Long)">resetGenerationId</a></strong>(java.lang.Long&nbsp;generationIdNewValue)</code>
<div class="block">Reset the generationId of this domain in the whole topology.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#resetReplicationLog()">resetReplicationLog</a></strong>()</code>
<div class="block">Reset the Replication Log.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#sessionInitiated(org.opends.server.replication.common.ServerStatus, org.opends.server.replication.common.ServerState, long, org.opends.server.replication.protocol.Session)">sessionInitiated</a></strong>(<a href="../../../../../org/opends/server/replication/common/ServerStatus.html" title="enum in org.opends.server.replication.common">ServerStatus</a>&nbsp;initStatus,
                                <a href="../../../../../org/opends/server/replication/common/ServerState.html" title="class in org.opends.server.replication.common">ServerState</a>&nbsp;replicationServerState,
                                long&nbsp;generationID,
                                <a href="../../../../../org/opends/server/replication/protocol/Session.html" title="class in org.opends.server.replication.protocol">Session</a>&nbsp;session)</code>
<div class="block">Set the initial status of the domain and perform necessary initializations.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#setAssured(boolean)">setAssured</a></strong>(boolean&nbsp;assured)</code>
<div class="block">Sets assured replication.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#setAssuredMode(org.opends.server.replication.common.AssuredMode)">setAssuredMode</a></strong>(<a href="../../../../../org/opends/server/replication/common/AssuredMode.html" title="enum in org.opends.server.replication.common">AssuredMode</a>&nbsp;dataMode)</code>
<div class="block">Sets the assured replication mode.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#setAssuredSdLevel(byte)">setAssuredSdLevel</a></strong>(byte&nbsp;assuredSdLevel)</code>
<div class="block">Sets the level of assured replication.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#setAssuredTimeout(long)">setAssuredTimeout</a></strong>(long&nbsp;assuredTimeout)</code>
<div class="block">Set the timeout of the assured replication.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#setEclIncludes(int, java.util.Set, java.util.Set)">setEclIncludes</a></strong>(int&nbsp;serverId,
                            java.util.Set&lt;java.lang.String&gt;&nbsp;includeAttributes,
                            java.util.Set&lt;java.lang.String&gt;&nbsp;includeAttributesForDeletes)</code>
<div class="block">Set the attributes configured on a server to be included in the ECL.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#setGroupId(byte)">setGroupId</a></strong>(byte&nbsp;groupId)</code>
<div class="block">Sets the groupID.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#setNewStatus(org.opends.server.replication.common.StatusMachineEvent)">setNewStatus</a></strong>(<a href="../../../../../org/opends/server/replication/common/StatusMachineEvent.html" title="enum in org.opends.server.replication.common">StatusMachineEvent</a>&nbsp;event)</code>
<div class="block">Sets the status to a new value depending of the passed status machine
 event.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#setURLs(java.util.Set)">setURLs</a></strong>(java.util.Set&lt;java.lang.String&gt;&nbsp;referralsUrl)</code>
<div class="block">Set the list of Referrals that should be returned when an
 operation needs to be redirected to this server.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#startListenService()">startListenService</a></strong>()</code>
<div class="block">Starts the receiver side of the Replication Service.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#startPublishService(java.util.Collection, int, long, long)">startPublishService</a></strong>(java.util.Collection&lt;java.lang.String&gt;&nbsp;replicationServers,
                                      int&nbsp;window,
                                      long&nbsp;heartbeatInterval,
                                      long&nbsp;changetimeHeartbeatInterval)</code>
<div class="block">Start the publish mechanism of the Replication Service.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#stopDomain()">stopDomain</a></strong>()</code>
<div class="block">Definitively stops the Replication Service.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#waitForAckIfAssuredEnabled(org.opends.server.replication.protocol.UpdateMsg)">waitForAckIfAssuredEnabled</a></strong>(<a href="../../../../../org/opends/server/replication/protocol/UpdateMsg.html" title="class in org.opends.server.replication.protocol">UpdateMsg</a>&nbsp;msg)</code>
<div class="block">Wait for the processing of an assured message after it has been sent, if
 assured replication is configured, otherwise, do nothing.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="status">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>status</h4>
<pre>protected&nbsp;<a href="../../../../../org/opends/server/replication/common/ServerStatus.html" title="enum in org.opends.server.replication.common">ServerStatus</a> <a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.112">status</a></pre>
<div class="block">Current status for this replicated domain.</div>
</li>
</ul>
<a name="broker">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>broker</h4>
<pre>protected&nbsp;<a href="../../../../../org/opends/server/replication/service/ReplicationBroker.html" title="class in org.opends.server.replication.service">ReplicationBroker</a> <a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.137">broker</a></pre>
<div class="block">The ReplicationBroker that is used by this ReplicationDomain to
 connect to the ReplicationService.</div>
</li>
</ul>
<a name="ieContext">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ieContext</h4>
<pre>protected&nbsp;<a href="../../../../../org/opends/server/replication/service/ReplicationDomain.IEContext.html" title="class in org.opends.server.replication.service">ReplicationDomain.IEContext</a> <a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.152">ieContext</a></pre>
<div class="block">The context related to an import or export being processed
 Null when none is being processed.</div>
</li>
</ul>
<a name="initWindow">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>initWindow</h4>
<pre>protected&nbsp;int <a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.248">initWindow</a></pre>
<div class="block">Window size used during initialization .. between
 - the initializer/exporter DS that listens/waits acknowledges and that
   slows down data msg publishing based on the slowest server
 - and each initialized/importer DS that publishes acknowledges each
   WINDOW/2 data msg received.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ReplicationDomain(java.lang.String, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ReplicationDomain</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.310">ReplicationDomain</a>(java.lang.String&nbsp;serviceID,
                 int&nbsp;serverID,
                 int&nbsp;initWindow)</pre>
<div class="block">Creates a ReplicationDomain with the provided parameters.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>serviceID</code> - The identifier of the Replication Domain to which
                   this object is participating.</dd><dd><code>serverID</code> - The identifier of the server that is participating
                   to the Replication Domain.
                   This identifier should be different for each server that
                   is participating to a given Replication Domain.</dd><dd><code>initWindow</code> - Window used during initialization.</dd></dl>
</li>
</ul>
<a name="ReplicationDomain(java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ReplicationDomain</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.331">ReplicationDomain</a>(java.lang.String&nbsp;serviceID,
                 int&nbsp;serverID)</pre>
<div class="block">Creates a ReplicationDomain with the provided parameters.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>serviceID</code> - The identifier of the Replication Domain to which
                   this object is participating.</dd><dd><code>serverID</code> - The identifier of the server that is participating
                   to the Replication Domain.
                   This identifier should be different for each server that
                   is participating to a given Replication Domain.</dd></dl>
</li>
</ul>
<a name="ReplicationDomain(java.lang.String, int, org.opends.server.replication.common.ServerState)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ReplicationDomain</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.353">ReplicationDomain</a>(java.lang.String&nbsp;serviceID,
                 int&nbsp;serverID,
                 <a href="../../../../../org/opends/server/replication/common/ServerState.html" title="class in org.opends.server.replication.common">ServerState</a>&nbsp;serverState)</pre>
<div class="block">Creates a ReplicationDomain with the provided parameters.
 (for unit test purpose only)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>serviceID</code> - The identifier of the Replication Domain to which
                   this object is participating.</dd><dd><code>serverID</code> - The identifier of the server that is participating
                   to the Replication Domain.
                   This identifier should be different for each server that
                   is participating to a given Replication Domain.</dd><dd><code>serverState</code> - The serverState to use</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getGenerator()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGenerator</h4>
<pre>public&nbsp;<a href="../../../../../org/opends/server/replication/common/ChangeNumberGenerator.html" title="class in org.opends.server.replication.common">ChangeNumberGenerator</a>&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.294">getGenerator</a>()</pre>
<div class="block">Returns the <code>ChangeNumberGenerator</code> that will be used to
 generate <code>ChangeNumber</code> for this domain.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The <code>ChangeNumberGenerator</code> that will be used to
         generate <code>ChangeNumber</code> for this domain.</dd></dl>
</li>
</ul>
<a name="sessionInitiated(org.opends.server.replication.common.ServerStatus, org.opends.server.replication.common.ServerState, long, org.opends.server.replication.protocol.Session)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sessionInitiated</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.382">sessionInitiated</a>(<a href="../../../../../org/opends/server/replication/common/ServerStatus.html" title="enum in org.opends.server.replication.common">ServerStatus</a>&nbsp;initStatus,
                    <a href="../../../../../org/opends/server/replication/common/ServerState.html" title="class in org.opends.server.replication.common">ServerState</a>&nbsp;replicationServerState,
                    long&nbsp;generationID,
                    <a href="../../../../../org/opends/server/replication/protocol/Session.html" title="class in org.opends.server.replication.protocol">Session</a>&nbsp;session)</pre>
<div class="block">Set the initial status of the domain and perform necessary initializations.
 This method will be called by the Broker each time the ReplicationBroker
 establish a new session to a Replication Server.

 Implementations may override this method when they need to perform
 additional computing after session establishment.
 The default implementation should be sufficient for ReplicationDomains
 that don't need to perform additional computing.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>initStatus</code> - The status to enter the state machine with.</dd><dd><code>replicationServerState</code> - The ServerState of the ReplicationServer
                                with which the session was established.</dd><dd><code>generationID</code> - The current generationID of the
                                ReplicationServer with which the session
                                was established.</dd><dd><code>session</code> - The Session that is currently used.</dd></dl>
</li>
</ul>
<a name="getStatus()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatus</h4>
<pre>public&nbsp;<a href="../../../../../org/opends/server/replication/common/ServerStatus.html" title="enum in org.opends.server.replication.common">ServerStatus</a>&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.471">getStatus</a>()</pre>
<div class="block">Gets the status for this domain.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The status for this domain.</dd></dl>
</li>
</ul>
<a name="getServiceID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceID</h4>
<pre>public&nbsp;java.lang.String&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.481">getServiceID</a>()</pre>
<div class="block">Gets the identifier of this domain.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The identifier for this domain.</dd></dl>
</li>
</ul>
<a name="getServerId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServerId</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.490">getServerId</a>()</pre>
<div class="block">Get the server ID.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The server ID.</dd></dl>
</li>
</ul>
<a name="isAssured()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAssured</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.499">isAssured</a>()</pre>
<div class="block">Tells if assured replication is enabled for this domain.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True if assured replication is enabled for this domain.</dd></dl>
</li>
</ul>
<a name="getAssuredMode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssuredMode</h4>
<pre>public&nbsp;<a href="../../../../../org/opends/server/replication/common/AssuredMode.html" title="enum in org.opends.server.replication.common">AssuredMode</a>&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.508">getAssuredMode</a>()</pre>
<div class="block">Gives the mode for the assured replication of the domain.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The mode for the assured replication of the domain.</dd></dl>
</li>
</ul>
<a name="getAssuredSdLevel()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssuredSdLevel</h4>
<pre>public&nbsp;byte&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.517">getAssuredSdLevel</a>()</pre>
<div class="block">Gives the assured level of the replication of the domain.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The assured level of the replication of the domain.</dd></dl>
</li>
</ul>
<a name="getAssuredTimeout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssuredTimeout</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.526">getAssuredTimeout</a>()</pre>
<div class="block">Gives the assured timeout of the replication of the domain (in ms).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The assured timeout of the replication of the domain.</dd></dl>
</li>
</ul>
<a name="getGroupId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGroupId</h4>
<pre>public&nbsp;byte&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.535">getGroupId</a>()</pre>
<div class="block">Gets the group id for this domain.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The group id for this domain.</dd></dl>
</li>
</ul>
<a name="getRefUrls()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRefUrls</h4>
<pre>public&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.544">getRefUrls</a>()</pre>
<div class="block">Gets the referrals URLs this domain publishes.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The referrals URLs this domain publishes.</dd></dl>
</li>
</ul>
<a name="getReplicasList()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReplicasList</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../../org/opends/server/replication/common/DSInfo.html" title="class in org.opends.server.replication.common">DSInfo</a>&gt;&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.553">getReplicasList</a>()</pre>
<div class="block">Gets the info for Replicas in the topology (except us).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The info for Replicas in the topology (except us)</dd></dl>
</li>
</ul>
<a name="isRemoteDSConnected(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRemoteDSConnected</h4>
<pre>public&nbsp;<a href="../../../../../org/opends/server/replication/common/DSInfo.html" title="class in org.opends.server.replication.common">DSInfo</a>&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.568">isRemoteDSConnected</a>(int&nbsp;serverId)</pre>
<div class="block">Returns information about the DS server related to the provided serverId.
 based on the TopologyMsg we received when the remote replica connected or
 disconnected. Return null when no server with the provided serverId is
 connected.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>serverId</code> - The provided serverId of the remote replica</dd>
<dt><span class="strong">Returns:</span></dt><dd>the info related to this remote server if it is connected,
                  null is the server is NOT connected.</dd></dl>
</li>
</ul>
<a name="getReplicaStates()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReplicaStates</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.Integer,<a href="../../../../../org/opends/server/replication/common/ServerState.html" title="class in org.opends.server.replication.common">ServerState</a>&gt;&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.588">getReplicaStates</a>()</pre>
<div class="block">Gets the States of all the Replicas currently in the
 Topology.
 When this method is called, a Monitoring message will be sent
 to the Replication Server to which this domain is currently connected
 so that it computes a table containing information about
 all Directory Servers in the topology.
 This Computation involves communications will all the servers
 currently connected and</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The States of all Replicas in the topology (except us)</dd></dl>
</li>
</ul>
<a name="getRsList()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRsList</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../../org/opends/server/replication/common/RSInfo.html" title="class in org.opends.server.replication.common">RSInfo</a>&gt;&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.599">getRsList</a>()</pre>
<div class="block">Gets the info for RSs in the topology (except the one we are connected
 to).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The info for RSs in the topology (except the one we are connected
 to)</dd></dl>
</li>
</ul>
<a name="getRsServerId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRsServerId</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.612">getRsServerId</a>()</pre>
<div class="block">Gets the server ID of the Replication Server to which the domain
 is currently connected.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The server ID of the Replication Server to which the domain
         is currently connected.</dd></dl>
</li>
</ul>
<a name="setURLs(java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setURLs</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.670">setURLs</a>(java.util.Set&lt;java.lang.String&gt;&nbsp;referralsUrl)</pre>
<div class="block">Set the list of Referrals that should be returned when an
 operation needs to be redirected to this server.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>referralsUrl</code> - The list of referrals.</dd></dl>
</li>
</ul>
<a name="setAssuredTimeout(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAssuredTimeout</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.680">setAssuredTimeout</a>(long&nbsp;assuredTimeout)</pre>
<div class="block">Set the timeout of the assured replication.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>assuredTimeout</code> - the timeout of the assured replication.</dd></dl>
</li>
</ul>
<a name="setGroupId(byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setGroupId</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.690">setGroupId</a>(byte&nbsp;groupId)</pre>
<div class="block">Sets the groupID.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>groupId</code> - The groupID.</dd></dl>
</li>
</ul>
<a name="setAssuredSdLevel(byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAssuredSdLevel</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.700">setAssuredSdLevel</a>(byte&nbsp;assuredSdLevel)</pre>
<div class="block">Sets the level of assured replication.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>assuredSdLevel</code> - The level of assured replication.</dd></dl>
</li>
</ul>
<a name="setAssuredMode(org.opends.server.replication.common.AssuredMode)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAssuredMode</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.710">setAssuredMode</a>(<a href="../../../../../org/opends/server/replication/common/AssuredMode.html" title="enum in org.opends.server.replication.common">AssuredMode</a>&nbsp;dataMode)</pre>
<div class="block">Sets the assured replication mode.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dataMode</code> - The assured replication mode.</dd></dl>
</li>
</ul>
<a name="setAssured(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAssured</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.720">setAssured</a>(boolean&nbsp;assured)</pre>
<div class="block">Sets assured replication.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>assured</code> - A boolean indicating if assured replication should be used.</dd></dl>
</li>
</ul>
<a name="decodeTarget(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decodeTarget</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.1285">decodeTarget</a>(java.lang.String&nbsp;targetString)
                 throws <a href="../../../../../org/opends/server/types/DirectoryException.html" title="class in org.opends.server.types">DirectoryException</a></pre>
<div class="block">Verifies that the given string represents a valid source
 from which this server can be initialized.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>targetString</code> - The string representing the source</dd>
<dt><span class="strong">Returns:</span></dt><dd>The source as a integer value</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>DirectoryException</code> - if the string is not valid</dd></dl>
</li>
</ul>
<a name="initializeRemote(int, org.opends.server.backends.task.Task)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeRemote</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.1329">initializeRemote</a>(int&nbsp;target,
                    <a href="../../../../../org/opends/server/backends/task/Task.html" title="class in org.opends.server.backends.task">Task</a>&nbsp;initTask)
                      throws <a href="../../../../../org/opends/server/types/DirectoryException.html" title="class in org.opends.server.types">DirectoryException</a></pre>
<div class="block">Initializes a remote server from this server.
 <p>
 The <code>exportBackend(OutputStream)</code> will therefore be called
 on this server, and the <code>importBackend(InputStream)</code>
 will be called on the remote server.
 <p>
 The InputStream and OutputStream given as a parameter to those
 methods will be connected through the replication protocol.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>target</code> - The server-id of the server that should be initialized.
                 The target can be discovered using the
                 <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getReplicasList()"><code>getReplicasList()</code></a> method.</dd><dd><code>initTask</code> - The task that triggers this initialization and that should
                 be updated with its progress.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>DirectoryException</code> - If it was not possible to publish the
                            Initialization message to the Topology.</dd></dl>
</li>
</ul>
<a name="initializeRemote(int, int, org.opends.server.backends.task.Task, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeRemote</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.1352">initializeRemote</a>(int&nbsp;serverToInitialize,
                    int&nbsp;serverRunningTheTask,
                    <a href="../../../../../org/opends/server/backends/task/Task.html" title="class in org.opends.server.backends.task">Task</a>&nbsp;initTask,
                    int&nbsp;initWindow)
                         throws <a href="../../../../../org/opends/server/types/DirectoryException.html" title="class in org.opends.server.types">DirectoryException</a></pre>
<div class="block">Process the initialization of some other server or servers in the topology
 specified by the target argument when this initialization specifying the
 server that requests the initialization.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>serverToInitialize</code> - The target server that should be initialized.</dd><dd><code>serverRunningTheTask</code> - The server that initiated the export. It can
 be the serverID of this server, or the serverID of a remote server.</dd><dd><code>initTask</code> - The task in this server that triggers this initialization
 and that should be updated with its progress. Null when the export is done
 following a request coming from a remote server (task is remote).</dd><dd><code>initWindow</code> - The value of the initialization window for flow control
 between the importer and the exporter.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>DirectoryException</code> - When an error occurs. No exception raised
 means success.</dd></dl>
</li>
</ul>
<a name="getServerState()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServerState</h4>
<pre>public&nbsp;<a href="../../../../../org/opends/server/replication/common/ServerState.html" title="class in org.opends.server.replication.common">ServerState</a>&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.1729">getServerState</a>()</pre>
<div class="block">Get the ServerState maintained by the Concrete class.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the ServerState maintained by the Concrete class.</dd></dl>
</li>
</ul>
<a name="receiveEntryBytes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receiveEntryBytes</h4>
<pre>protected&nbsp;byte[]&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.1800">receiveEntryBytes</a>()</pre>
<div class="block">Receives bytes related to an entry in the context of an import to
 initialize the domain (called by ReplLDIFInputStream).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The bytes. Null when the Done or Err message has been received</dd></dl>
</li>
</ul>
<a name="exportLDIFEntry(byte[], int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exportLDIFEntry</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.1976">exportLDIFEntry</a>(byte[]&nbsp;lDIFEntry,
                   int&nbsp;pos,
                   int&nbsp;length)
                     throws java.io.IOException</pre>
<div class="block">Exports an entry in LDIF format.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>lDIFEntry</code> - The entry to be exported in byte[] form.</dd><dd><code>pos</code> - The starting Position in the array.</dd><dd><code>length</code> - Number of array elements to be copied.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - when an error occurred.</dd></dl>
</li>
</ul>
<a name="initializeFromRemote(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeFromRemote</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2105">initializeFromRemote</a>(int&nbsp;source)
                          throws <a href="../../../../../org/opends/server/types/DirectoryException.html" title="class in org.opends.server.types">DirectoryException</a></pre>
<div class="block">Initializes this domain from another source server.
 <p>
 When this method is called, a request for initialization will
 be sent to the source server asking for initialization.
 <p>
 The <code>exportBackend(OutputStream)</code> will therefore be called
 on the source server, and the <code>importBackend(InputStream)</code>
 will be called on his server.
 <p>
 The InputStream and OutpuStream given as a parameter to those
 methods will be connected through the replication protocol.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>source</code> - The server-id of the source from which to initialize.
                 The source can be discovered using the
                 <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getReplicasList()"><code>getReplicasList()</code></a> method.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>DirectoryException</code> - If it was not possible to publish the
                            Initialization message to the Topology.</dd></dl>
</li>
</ul>
<a name="initializeRemote(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeRemote</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2128">initializeRemote</a>(int&nbsp;target)
                      throws <a href="../../../../../org/opends/server/types/DirectoryException.html" title="class in org.opends.server.types">DirectoryException</a></pre>
<div class="block">Initializes a remote server from this server.
 <p>
 The <code>exportBackend(OutputStream)</code> will therefore be called
 on this server, and the <code>importBackend(InputStream)</code>
 will be called on the remote server.
 <p>
 The InputStream and OutpuStream given as a parameter to those
 methods will be connected through the replication protocol.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>target</code> - The server-id of the server that should be initialized.
                 The target can be discovered using the
                 <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getReplicasList()"><code>getReplicasList()</code></a> method.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>DirectoryException</code> - If it was not possible to publish the
                            Initialization message to the Topology.</dd></dl>
</li>
</ul>
<a name="initializeFromRemote(int, org.opends.server.backends.task.Task)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeFromRemote</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2155">initializeFromRemote</a>(int&nbsp;source,
                        <a href="../../../../../org/opends/server/backends/task/Task.html" title="class in org.opends.server.backends.task">Task</a>&nbsp;initTask)
                          throws <a href="../../../../../org/opends/server/types/DirectoryException.html" title="class in org.opends.server.types">DirectoryException</a></pre>
<div class="block">Initializes asynchronously this domain from a remote source server.
 Before returning from this call, for the provided task :
 - the progressing counters are updated during the initialization using
   setTotal() and setLeft().
 - the end of the initialization using updateTaskCompletionState().
 <p>
 When this method is called, a request for initialization is sent to the
 remote source server requesting initialization.
 <p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>source</code> - The server-id of the source from which to initialize.
                 The source can be discovered using the
                 <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#getReplicasList()"><code>getReplicasList()</code></a> method.</dd><dd><code>initTask</code> - The task that launched the initialization
                 and should be updated of its progress.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>DirectoryException</code> - If it was not possible to publish the
                            Initialization message to the Topology.
                            The task state is updated.</dd></dl>
</li>
</ul>
<a name="setNewStatus(org.opends.server.replication.common.StatusMachineEvent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNewStatus</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2422">setNewStatus</a>(<a href="../../../../../org/opends/server/replication/common/StatusMachineEvent.html" title="enum in org.opends.server.replication.common">StatusMachineEvent</a>&nbsp;event)</pre>
<div class="block">Sets the status to a new value depending of the passed status machine
 event.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>event</code> - The event that may make the status be changed</dd></dl>
</li>
</ul>
<a name="ieRunning()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ieRunning</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2462">ieRunning</a>()</pre>
<div class="block">Returns a boolean indicating if an import or export is currently
 processed.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The status</dd></dl>
</li>
</ul>
<a name="resetReplicationLog()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetReplicationLog</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2524">resetReplicationLog</a>()
                         throws <a href="../../../../../org/opends/server/types/DirectoryException.html" title="class in org.opends.server.types">DirectoryException</a></pre>
<div class="block">Reset the Replication Log.
 Calling this method will remove all the Replication information that
 was kept on all the Replication Servers currently connected in the
 topology.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>DirectoryException</code> - If this ReplicationDomain is not currently
                           connected to a Replication Server or it
                           was not possible to contact it.</dd></dl>
</li>
</ul>
<a name="resetGenerationId(java.lang.Long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetGenerationId</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2564">resetGenerationId</a>(java.lang.Long&nbsp;generationIdNewValue)
                       throws <a href="../../../../../org/opends/server/types/DirectoryException.html" title="class in org.opends.server.types">DirectoryException</a></pre>
<div class="block">Reset the generationId of this domain in the whole topology.
 A message is sent to the Replication Servers for them to reset
 their change dbs.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>generationIdNewValue</code> - The new value of the generation Id.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>DirectoryException</code> - When an error occurs</dd></dl>
</li>
</ul>
<a name="isConnected()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isConnected</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2711">isConnected</a>()</pre>
<div class="block">Check if the domain is connected to a ReplicationServer.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if the server is connected, false if not.</dd></dl>
</li>
</ul>
<a name="hasConnectionError()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasConnectionError</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2723">hasConnectionError</a>()</pre>
<div class="block">Check if the domain has a connection error.
 A Connection error happens when the broker could not be created
 or when the broker could not find any ReplicationServer to connect to.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if the domain has a connection error.</dd></dl>
</li>
</ul>
<a name="getReplicationServer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReplicationServer</h4>
<pre>public&nbsp;java.lang.String&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2735">getReplicationServer</a>()</pre>
<div class="block">Get the name of the replicationServer to which this domain is currently
 connected.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the name of the replicationServer to which this domain
         is currently connected.</dd></dl>
</li>
</ul>
<a name="getAssuredSrSentUpdates()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssuredSrSentUpdates</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2747">getAssuredSrSentUpdates</a>()</pre>
<div class="block">Gets the number of updates sent in assured safe read mode.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of updates sent in assured safe read mode.</dd></dl>
</li>
</ul>
<a name="getAssuredSrAcknowledgedUpdates()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssuredSrAcknowledgedUpdates</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2758">getAssuredSrAcknowledgedUpdates</a>()</pre>
<div class="block">Gets the number of updates sent in assured safe read mode that have been
 acknowledged without errors.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of updates sent in assured safe read mode that have been
 acknowledged without errors.</dd></dl>
</li>
</ul>
<a name="getAssuredSrNotAcknowledgedUpdates()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssuredSrNotAcknowledgedUpdates</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2769">getAssuredSrNotAcknowledgedUpdates</a>()</pre>
<div class="block">Gets the number of updates sent in assured safe read mode that have not
 been acknowledged.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of updates sent in assured safe read mode that have not
 been acknowledged.</dd></dl>
</li>
</ul>
<a name="getAssuredSrTimeoutUpdates()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssuredSrTimeoutUpdates</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2780">getAssuredSrTimeoutUpdates</a>()</pre>
<div class="block">Gets the number of updates sent in assured safe read mode that have not
 been acknowledged due to timeout error.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of updates sent in assured safe read mode that have not
 been acknowledged due to timeout error.</dd></dl>
</li>
</ul>
<a name="getAssuredSrWrongStatusUpdates()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssuredSrWrongStatusUpdates</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2791">getAssuredSrWrongStatusUpdates</a>()</pre>
<div class="block">Gets the number of updates sent in assured safe read mode that have not
 been acknowledged due to wrong status error.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of updates sent in assured safe read mode that have not
 been acknowledged due to wrong status error.</dd></dl>
</li>
</ul>
<a name="getAssuredSrReplayErrorUpdates()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssuredSrReplayErrorUpdates</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2802">getAssuredSrReplayErrorUpdates</a>()</pre>
<div class="block">Gets the number of updates sent in assured safe read mode that have not
 been acknowledged due to replay error.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of updates sent in assured safe read mode that have not
 been acknowledged due to replay error.</dd></dl>
</li>
</ul>
<a name="getAssuredSrServerNotAcknowledgedUpdates()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssuredSrServerNotAcknowledgedUpdates</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.Integer,java.lang.Integer&gt;&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2813">getAssuredSrServerNotAcknowledgedUpdates</a>()</pre>
<div class="block">Gets the number of updates sent in assured safe read mode that have not
 been acknowledged per server.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A copy of the map that contains the number of updates sent in
 assured safe read mode that have not been acknowledged per server.</dd></dl>
</li>
</ul>
<a name="getAssuredSrReceivedUpdates()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssuredSrReceivedUpdates</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2826">getAssuredSrReceivedUpdates</a>()</pre>
<div class="block">Gets the number of updates received in assured safe read mode request.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of updates received in assured safe read mode request.</dd></dl>
</li>
</ul>
<a name="getAssuredSrReceivedUpdatesAcked()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssuredSrReceivedUpdatesAcked</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2837">getAssuredSrReceivedUpdatesAcked</a>()</pre>
<div class="block">Gets the number of updates received in assured safe read mode that we acked
 without error (no replay error).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of updates received in assured safe read mode that we
 acked without error (no replay error).</dd></dl>
</li>
</ul>
<a name="getAssuredSrReceivedUpdatesNotAcked()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssuredSrReceivedUpdatesNotAcked</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2848">getAssuredSrReceivedUpdatesNotAcked</a>()</pre>
<div class="block">Gets the number of updates received in assured safe read mode that we did
 not ack due to error (replay error).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of updates received in assured safe read mode that we
 did not ack due to error (replay error).</dd></dl>
</li>
</ul>
<a name="getAssuredSdSentUpdates()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssuredSdSentUpdates</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2857">getAssuredSdSentUpdates</a>()</pre>
<div class="block">Gets the number of updates sent in assured safe data mode.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of updates sent in assured safe data mode.</dd></dl>
</li>
</ul>
<a name="getAssuredSdAcknowledgedUpdates()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssuredSdAcknowledgedUpdates</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2868">getAssuredSdAcknowledgedUpdates</a>()</pre>
<div class="block">Gets the number of updates sent in assured safe data mode that have been
 acknowledged without errors.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of updates sent in assured safe data mode that have been
 acknowledged without errors.</dd></dl>
</li>
</ul>
<a name="getAssuredSdTimeoutUpdates()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssuredSdTimeoutUpdates</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2879">getAssuredSdTimeoutUpdates</a>()</pre>
<div class="block">Gets the number of updates sent in assured safe data mode that have not
 been acknowledged due to timeout error.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of updates sent in assured safe data mode that have not
 been acknowledged due to timeout error.</dd></dl>
</li>
</ul>
<a name="getAssuredSdServerTimeoutUpdates()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssuredSdServerTimeoutUpdates</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.Integer,java.lang.Integer&gt;&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2891">getAssuredSdServerTimeoutUpdates</a>()</pre>
<div class="block">Gets the number of updates sent in assured safe data mode that have not
 been acknowledged due to timeout error per server.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A copy of the map that contains the number of updates sent in
 assured safe data mode that have not been acknowledged due to timeout
 error per server.</dd></dl>
</li>
</ul>
<a name="getLastStatusChangeDate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastStatusChangeDate</h4>
<pre>public&nbsp;java.util.Date&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2903">getLastStatusChangeDate</a>()</pre>
<div class="block">Gets the date of the last status change.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The date of the last status change.</dd></dl>
</li>
</ul>
<a name="startPublishService(java.util.Collection, int, long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startPublishService</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2959">startPublishService</a>(java.util.Collection&lt;java.lang.String&gt;&nbsp;replicationServers,
                       int&nbsp;window,
                       long&nbsp;heartbeatInterval,
                       long&nbsp;changetimeHeartbeatInterval)
                         throws <a href="../../../../../org/opends/server/config/ConfigException.html" title="class in org.opends.server.config">ConfigException</a></pre>
<div class="block">Start the publish mechanism of the Replication Service.
 After this method has been called, the publish service can be used
 by calling the <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#publish(org.opends.server.replication.protocol.UpdateMsg)"><code>publish(UpdateMsg)</code></a> method.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>replicationServers</code> - The replication servers that should be used.</dd><dd><code>window</code> - The window size of this replication domain.</dd><dd><code>heartbeatInterval</code> - The heartbeatInterval that should be used
                             to check the availability of the replication
                             servers.</dd><dd><code>changetimeHeartbeatInterval</code> - The interval used to send change
                             time heartbeat to the replication server.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>ConfigException</code> - If the DirectoryServer configuration was
                             incorrect.</dd></dl>
</li>
</ul>
<a name="startListenService()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startListenService</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.2995">startListenService</a>()</pre>
<div class="block">Starts the receiver side of the Replication Service.
 <p>
 After this method has been called, the Replication Service will start
 calling the <code>#processUpdate(UpdateMsg)</code>.
 <p>
 This method must be called once and must be called after the
 <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#startPublishService(java.util.Collection, int, long, long)"><code>startPublishService(Collection, int, long, long)</code></a>.</div>
</li>
</ul>
<a name="disableService()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disableService</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3016">disableService</a>()</pre>
<div class="block">Temporarily disable the Replication Service.
 The Replication Service can be enabled again using
 <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#enableService()"><code>enableService()</code></a>.
 <p>
 It can be useful to disable the Replication Service when the
 repository where the replicated information is stored becomes
 temporarily unavailable and replicated updates can therefore not
 be replayed during a while. This method is not MT safe.</div>
</li>
</ul>
<a name="enableService()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enableService</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3051">enableService</a>()</pre>
<div class="block">Restart the Replication service after a <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#disableService()"><code>disableService()</code></a>.
 <p>
 The Replication Service will restart from the point indicated by the
 <code>ServerState</code> that was given as a parameter to the
 <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#startPublishService(java.util.Collection, int, long, long)"><code>startPublishService(Collection, int, long, long)</code></a>
 at startup time.
 If some data have changed in the repository during the period of time when
 the Replication Service was disabled, this <code>ServerState</code> should
 therefore be updated by the Replication Domain subclass before calling
 this method. This method is not MT safe.</div>
</li>
</ul>
<a name="stopDomain()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopDomain</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3066">stopDomain</a>()</pre>
<div class="block">Definitively stops the Replication Service.</div>
</li>
</ul>
<a name="changeConfig(java.util.Collection, int, long, byte)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeConfig</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3082">changeConfig</a>(java.util.Collection&lt;java.lang.String&gt;&nbsp;replicationServers,
                int&nbsp;windowSize,
                long&nbsp;heartbeatInterval,
                byte&nbsp;groupId)</pre>
<div class="block">Change some ReplicationDomain parameters.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>replicationServers</code> - The new list of Replication Servers that this
                           domain should now use.</dd><dd><code>windowSize</code> - The window size that this domain should use.</dd><dd><code>heartbeatInterval</code> - The heartbeatInterval that this domain should
                           use.</dd><dd><code>groupId</code> - The new group id to use</dd></dl>
</li>
</ul>
<a name="changeConfig(java.util.Set, java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeConfig</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3112">changeConfig</a>(java.util.Set&lt;java.lang.String&gt;&nbsp;includeAttributes,
                java.util.Set&lt;java.lang.String&gt;&nbsp;includeAttributesForDeletes)</pre>
<div class="block">Applies a configuration change to the attributes which should be be
 included in the ECL.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>includeAttributes</code> - attributes to be included with all change records.</dd><dd><code>includeAttributesForDeletes</code> - additional attributes to be included with delete change records.</dd></dl>
</li>
</ul>
<a name="exportBackend(java.io.OutputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exportBackend</h4>
<pre>protected abstract&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3137">exportBackend</a>(java.io.OutputStream&nbsp;output)
                               throws <a href="../../../../../org/opends/server/types/DirectoryException.html" title="class in org.opends.server.types">DirectoryException</a></pre>
<div class="block">This method should trigger an export of the replicated data.
 to the provided outputStream.
 When finished the outputStream should be flushed and closed.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>output</code> - The OutputStream where the export should
                             be produced.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>DirectoryException</code> - When needed.</dd></dl>
</li>
</ul>
<a name="importBackend(java.io.InputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>importBackend</h4>
<pre>protected abstract&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3148">importBackend</a>(java.io.InputStream&nbsp;input)
                               throws <a href="../../../../../org/opends/server/types/DirectoryException.html" title="class in org.opends.server.types">DirectoryException</a></pre>
<div class="block">This method should trigger an import of the replicated data.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>input</code> - The InputStream from which
                             the import should be reading entries.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>DirectoryException</code> - When needed.</dd></dl>
</li>
</ul>
<a name="countEntries()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>countEntries</h4>
<pre>public abstract&nbsp;long&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3160">countEntries</a>()
                           throws <a href="../../../../../org/opends/server/types/DirectoryException.html" title="class in org.opends.server.types">DirectoryException</a></pre>
<div class="block">This method should return the total number of objects in the
 replicated domain.
 This count will be used for reporting.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of objects in the replication domain.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>DirectoryException</code> - when needed.</dd></dl>
</li>
</ul>
<a name="processUpdate(org.opends.server.replication.protocol.UpdateMsg, java.util.concurrent.atomic.AtomicBoolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processUpdate</h4>
<pre>public abstract&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3179">processUpdate</a>(<a href="../../../../../org/opends/server/replication/protocol/UpdateMsg.html" title="class in org.opends.server.replication.protocol">UpdateMsg</a>&nbsp;updateMsg,
                    java.util.concurrent.atomic.AtomicBoolean&nbsp;shutdown)</pre>
<div class="block">This method should handle the processing of <code>UpdateMsg</code> receive from
 remote replication entities.
 <p>
 This method will be called by a single thread and should therefore should
 not be blocking.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>updateMsg</code> - The <code>UpdateMsg</code> that was received.</dd><dd><code>shutdown</code> - whether the server initiated shutdown</dd>
<dt><span class="strong">Returns:</span></dt><dd>A boolean indicating if the processing is completed at return time.
         If <code> true </code> is returned, no further processing is
         necessary. If <code> false </code> is returned, the subclass should
         call the method <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#processUpdateDone(org.opends.server.replication.protocol.UpdateMsg, java.lang.String)"><code>processUpdateDone(UpdateMsg, String)</code></a> and
         update the ServerState When this processing is complete.</dd></dl>
</li>
</ul>
<a name="processUpdateDone(org.opends.server.replication.protocol.UpdateMsg, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processUpdateDone</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3198">processUpdateDone</a>(<a href="../../../../../org/opends/server/replication/protocol/UpdateMsg.html" title="class in org.opends.server.replication.protocol">UpdateMsg</a>&nbsp;msg,
                     java.lang.String&nbsp;replayErrorMsg)</pre>
<div class="block">This method must be called after each call to
 <a href="../../../../../org/opends/server/replication/service/ReplicationDomain.html#processUpdate(org.opends.server.replication.protocol.UpdateMsg, java.util.concurrent.atomic.AtomicBoolean)"><code>processUpdate(UpdateMsg, AtomicBoolean)</code></a> when the processing of the
 update is completed.
 <p>
 It is useful for implementation needing to process the update in an
 asynchronous way or using several threads, but must be called even by
 implementation doing it in a synchronous, single-threaded way.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>msg</code> - The UpdateMsg whose processing was completed.</dd><dd><code>replayErrorMsg</code> - if not null, this means an error occurred during the replay of
          this update, and this is the matching human readable message
          describing the problem.</dd></dl>
</li>
</ul>
<a name="prepareWaitForAckIfAssuredEnabled(org.opends.server.replication.protocol.UpdateMsg)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareWaitForAckIfAssuredEnabled</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3274">prepareWaitForAckIfAssuredEnabled</a>(<a href="../../../../../org/opends/server/replication/protocol/UpdateMsg.html" title="class in org.opends.server.replication.protocol">UpdateMsg</a>&nbsp;msg)</pre>
<div class="block">Prepare a message if it is to be sent in assured mode.
 If the assured mode is enabled, this method should be called before
 publish(UpdateMsg msg) method. This will configure the update accordingly
 before it is sent and will prepare the mechanism that will block until the
 matching ack is received. To wait for the ack after publish call, use
 the waitForAckIfAssuredEnabled() method.
 The expected typical usage in a service inheriting from this class is
 the following sequence:
 UpdateMsg msg = xxx;
 prepareWaitForAckIfAssuredEnabled(msg);
 publish(msg);
 waitForAckIfAssuredEnabled(msg);

 Note: prepareWaitForAckIfAssuredEnabled and waitForAckIfAssuredEnabled have
 no effect if assured replication is disabled.
 Note: this mechanism should not be used if using publish(byte[] msg)
 version as usage of these methods is already hidden inside.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>msg</code> - The update message to be sent soon.</dd></dl>
</li>
</ul>
<a name="waitForAckIfAssuredEnabled(org.opends.server.replication.protocol.UpdateMsg)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForAckIfAssuredEnabled</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3311">waitForAckIfAssuredEnabled</a>(<a href="../../../../../org/opends/server/replication/protocol/UpdateMsg.html" title="class in org.opends.server.replication.protocol">UpdateMsg</a>&nbsp;msg)
                                   throws java.util.concurrent.TimeoutException</pre>
<div class="block">Wait for the processing of an assured message after it has been sent, if
 assured replication is configured, otherwise, do nothing.
 The prepareWaitForAckIfAssuredEnabled method should have been called
 before, see its comment for the full picture.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>msg</code> - The UpdateMsg for which we are waiting for an ack.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.util.concurrent.TimeoutException</code> - When the configured timeout occurs waiting for the
 ack.</dd></dl>
</li>
</ul>
<a name="publish(org.opends.server.replication.protocol.UpdateMsg)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>publish</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3419">publish</a>(<a href="../../../../../org/opends/server/replication/protocol/UpdateMsg.html" title="class in org.opends.server.replication.protocol">UpdateMsg</a>&nbsp;msg)</pre>
<div class="block">Publish an <code>UpdateMsg</code> to the Replication Service.
 <p>
 The Replication Service will handle the delivery of this <code>UpdateMsg</code>
 to all the participants of this Replication Domain.
 These members will be receive this <code>UpdateMsg</code> through a call
 of the <code>#processUpdate(UpdateMsg)</code> message.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>msg</code> - The UpdateMsg that should be pushed.</dd></dl>
</li>
</ul>
<a name="publish(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>publish</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3433">publish</a>(byte[]&nbsp;msg)</pre>
<div class="block">Publish information to the Replication Service (not assured mode).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>msg</code> - The byte array containing the information that should
             be sent to the remote entities.</dd></dl>
</li>
</ul>
<a name="getGenerationID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGenerationID</h4>
<pre>public abstract&nbsp;long&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3475">getGenerationID</a>()</pre>
<div class="block">This method should return the generationID to use for this
 ReplicationDomain.
 This method can be called at any time after the ReplicationDomain
 has been started.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The GenerationID.</dd></dl>
</li>
</ul>
<a name="getAdditionalMonitoring()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAdditionalMonitoring</h4>
<pre>public&nbsp;java.util.Collection&lt;<a href="../../../../../org/opends/server/types/Attribute.html" title="interface in org.opends.server.types">Attribute</a>&gt;&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3484">getAdditionalMonitoring</a>()</pre>
<div class="block">Subclasses should use this method to add additional monitoring
 information in the ReplicationDomain.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Additional monitoring attributes that will be added in the
         ReplicationDomain monitoring entry.</dd></dl>
</li>
</ul>
<a name="importInProgress()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>importInProgress</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3496">importInProgress</a>()</pre>
<div class="block">Returns a boolean indicating if a total update import is currently
 in Progress.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A boolean indicating if a total update import is currently
         in Progress.</dd></dl>
</li>
</ul>
<a name="exportInProgress()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exportInProgress</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3508">exportInProgress</a>()</pre>
<div class="block">Returns a boolean indicating if a total update export is currently
 in Progress.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A boolean indicating if a total update export is currently
         in Progress.</dd></dl>
</li>
</ul>
<a name="setEclIncludes(int, java.util.Set, java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEclIncludes</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3570">setEclIncludes</a>(int&nbsp;serverId,
                     java.util.Set&lt;java.lang.String&gt;&nbsp;includeAttributes,
                     java.util.Set&lt;java.lang.String&gt;&nbsp;includeAttributesForDeletes)</pre>
<div class="block">Set the attributes configured on a server to be included in the ECL.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>serverId</code> - Server where these attributes are configured.</dd><dd><code>includeAttributes</code> - Attributes to be included with all change records, may include
          wild-cards.</dd><dd><code>includeAttributesForDeletes</code> - Additional attributes to be included with delete change records,
          may include wild-cards.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the set of attributes was modified.</dd></dl>
</li>
</ul>
<a name="getEclIncludes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEclIncludes</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3625">getEclIncludes</a>()</pre>
<div class="block">Get the attributes to include in each change for the ECL.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The attributes to include in each change for the ECL.</dd></dl>
</li>
</ul>
<a name="getEclIncludesForDeletes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEclIncludesForDeletes</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3640">getEclIncludesForDeletes</a>()</pre>
<div class="block">Get the attributes to include in each delete change for the ECL.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The attributes to include in each delete change for the ECL.</dd></dl>
</li>
</ul>
<a name="getEclIncludes(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEclIncludes</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3658">getEclIncludes</a>(int&nbsp;serverId)</pre>
<div class="block">Get the attributes to include in each change for the ECL for a given
 serverId.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>serverId</code> - The serverId for which we want the include attributes.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The attributes.</dd></dl>
</li>
</ul>
<a name="getEclIncludesForDeletes(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEclIncludesForDeletes</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3676">getEclIncludesForDeletes</a>(int&nbsp;serverId)</pre>
<div class="block">Get the attributes to include in each change for the ECL for a given
 serverId.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>serverId</code> - The serverId for which we want the include attributes.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The attributes.</dd></dl>
</li>
</ul>
<a name="getLastLocalChange()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getLastLocalChange</h4>
<pre>public&nbsp;<a href="../../../../../org/opends/server/replication/common/ChangeNumber.html" title="class in org.opends.server.replication.common">ChangeNumber</a>&nbsp;<a href="../../../../../src-html/org/opends/server/replication/service/ReplicationDomain.html#line.3693">getLastLocalChange</a>()</pre>
<div class="block">Returns the ChangeNUmber of the last Change that was fully processed
 by this ReplicationDomain.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The ChangeNUmber of the last Change that was fully processed
         by this ReplicationDomain.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/opends/server/replication/service/ReplicationBroker.ReplicationServerInfo.html" title="class in org.opends.server.replication.service"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/opends/server/replication/service/ReplicationDomain.IEContext.html" title="class in org.opends.server.replication.service"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/opends/server/replication/service/ReplicationDomain.html" target="_top">Frames</a></li>
<li><a href="ReplicationDomain.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
