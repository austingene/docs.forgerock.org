<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Thu Jun 27 13:21:02 CEST 2013 -->
<title>RemotePendingChanges (OpenDJ API Documentation)</title>
<meta name="date" content="2013-06-27">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RemotePendingChanges (OpenDJ API Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/opends/server/replication/plugin/PersistentServerState.html" title="class in org.opends.server.replication.plugin"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/opends/server/replication/plugin/ReplayThread.html" title="class in org.opends.server.replication.plugin"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/opends/server/replication/plugin/RemotePendingChanges.html" target="_top">Frames</a></li>
<li><a href="RemotePendingChanges.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.opends.server.replication.plugin</div>
<h2 title="Class RemotePendingChanges" class="title">Class RemotePendingChanges</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.opends.server.replication.plugin.RemotePendingChanges</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <a href="../../../../../src-html/org/opends/server/replication/plugin/RemotePendingChanges.html#line.62">RemotePendingChanges</a>
extends java.lang.Object</pre>
<div class="block">This class is used to store the list of remote changes received
 from a replication server and that are either currently being replayed
 or that are waiting for being replayed.

 It is used to know when the ServerState must be updated and to compute
 the dependencies between operations.

 One of this object is instantiated for each ReplicationDomain.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/opends/server/replication/plugin/RemotePendingChanges.html#RemotePendingChanges(org.opends.server.replication.common.ServerState)">RemotePendingChanges</a></strong>(<a href="../../../../../org/opends/server/replication/common/ServerState.html" title="class in org.opends.server.replication.common">ServerState</a>&nbsp;state)</code>
<div class="block">Creates a new RemotePendingChanges using the provided ServerState.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/plugin/RemotePendingChanges.html#checkDependencies(org.opends.server.core.AddOperation)">checkDependencies</a></strong>(<a href="../../../../../org/opends/server/core/AddOperation.html" title="interface in org.opends.server.core">AddOperation</a>&nbsp;op)</code>
<div class="block">Check if the given AddOperation has some dependencies on any
 currently running previous operation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/plugin/RemotePendingChanges.html#checkDependencies(org.opends.server.core.DeleteOperation)">checkDependencies</a></strong>(<a href="../../../../../org/opends/server/core/DeleteOperation.html" title="interface in org.opends.server.core">DeleteOperation</a>&nbsp;op)</code>
<div class="block">Check if the given DeleteOperation has some dependencies on any
 currently running previous operation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/plugin/RemotePendingChanges.html#checkDependencies(org.opends.server.replication.protocol.ModifyDNMsg)">checkDependencies</a></strong>(<a href="../../../../../org/opends/server/replication/protocol/ModifyDNMsg.html" title="class in org.opends.server.replication.protocol">ModifyDNMsg</a>&nbsp;msg)</code>
<div class="block">Check if the given ModifyDNMsg has some dependencies on any
 currently running previous operation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/plugin/RemotePendingChanges.html#checkDependencies(org.opends.server.core.ModifyOperation)">checkDependencies</a></strong>(<a href="../../../../../org/opends/server/core/ModifyOperation.html" title="interface in org.opends.server.core">ModifyOperation</a>&nbsp;op)</code>
<div class="block">Check if the given ModifyOperation has some dependencies on any
 currently running previous operation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/plugin/RemotePendingChanges.html#checkDependencies(org.opends.server.types.Operation, org.opends.server.replication.protocol.LDAPUpdateMsg)">checkDependencies</a></strong>(<a href="../../../../../org/opends/server/types/Operation.html" title="interface in org.opends.server.types">Operation</a>&nbsp;op,
                                  <a href="../../../../../org/opends/server/replication/protocol/LDAPUpdateMsg.html" title="class in org.opends.server.replication.protocol">LDAPUpdateMsg</a>&nbsp;msg)</code>
<div class="block">Check the dependencies of a given Operation/UpdateMsg.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/plugin/RemotePendingChanges.html#commit(org.opends.server.replication.common.ChangeNumber)">commit</a></strong>(<a href="../../../../../org/opends/server/replication/common/ChangeNumber.html" title="class in org.opends.server.replication.common">ChangeNumber</a>&nbsp;changeNumber)</code>
<div class="block">Mark an update message as committed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/opends/server/replication/protocol/LDAPUpdateMsg.html" title="class in org.opends.server.replication.protocol">LDAPUpdateMsg</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/plugin/RemotePendingChanges.html#getNextUpdate()">getNextUpdate</a></strong>()</code>
<div class="block">Get the first update in the list that have some dependencies cleared.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/plugin/RemotePendingChanges.html#getQueueSize()">getQueueSize</a></strong>()</code>
<div class="block">Returns the number of changes currently in this list.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/plugin/RemotePendingChanges.html#putRemoteUpdate(org.opends.server.replication.protocol.LDAPUpdateMsg)">putRemoteUpdate</a></strong>(<a href="../../../../../org/opends/server/replication/protocol/LDAPUpdateMsg.html" title="class in org.opends.server.replication.protocol">LDAPUpdateMsg</a>&nbsp;update)</code>
<div class="block">Add a new LDAPUpdateMsg that was received from the replication server
 to the pendingList.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RemotePendingChanges(org.opends.server.replication.common.ServerState)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RemotePendingChanges</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/opends/server/replication/plugin/RemotePendingChanges.html#line.89">RemotePendingChanges</a>(<a href="../../../../../org/opends/server/replication/common/ServerState.html" title="class in org.opends.server.replication.common">ServerState</a>&nbsp;state)</pre>
<div class="block">Creates a new RemotePendingChanges using the provided ServerState.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>state</code> - The ServerState that will be updated when LDAPUpdateMsg
                have been fully replayed.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getQueueSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQueueSize</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../../src-html/org/opends/server/replication/plugin/RemotePendingChanges.html#line.99">getQueueSize</a>()</pre>
<div class="block">Returns the number of changes currently in this list.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of changes currently in this list.</dd></dl>
</li>
</ul>
<a name="putRemoteUpdate(org.opends.server.replication.protocol.LDAPUpdateMsg)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putRemoteUpdate</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/plugin/RemotePendingChanges.html#line.111">putRemoteUpdate</a>(<a href="../../../../../org/opends/server/replication/protocol/LDAPUpdateMsg.html" title="class in org.opends.server.replication.protocol">LDAPUpdateMsg</a>&nbsp;update)</pre>
<div class="block">Add a new LDAPUpdateMsg that was received from the replication server
 to the pendingList.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>update</code> - The LDAPUpdateMsg that was received from the replication
               server and that will be added to the pending list.</dd></dl>
</li>
</ul>
<a name="commit(org.opends.server.replication.common.ChangeNumber)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/plugin/RemotePendingChanges.html#line.124">commit</a>(<a href="../../../../../org/opends/server/replication/common/ChangeNumber.html" title="class in org.opends.server.replication.common">ChangeNumber</a>&nbsp;changeNumber)</pre>
<div class="block">Mark an update message as committed.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>changeNumber</code> - The ChangeNumber of the update message that must be
                     set as committed.</dd></dl>
</li>
</ul>
<a name="getNextUpdate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextUpdate</h4>
<pre>public&nbsp;<a href="../../../../../org/opends/server/replication/protocol/LDAPUpdateMsg.html" title="class in org.opends.server.replication.protocol">LDAPUpdateMsg</a>&nbsp;<a href="../../../../../src-html/org/opends/server/replication/plugin/RemotePendingChanges.html#line.158">getNextUpdate</a>()</pre>
<div class="block">Get the first update in the list that have some dependencies cleared.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The LDAPUpdateMsg to be handled.</dd></dl>
</li>
</ul>
<a name="checkDependencies(org.opends.server.core.AddOperation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkDependencies</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/opends/server/replication/plugin/RemotePendingChanges.html#line.205">checkDependencies</a>(<a href="../../../../../org/opends/server/core/AddOperation.html" title="interface in org.opends.server.core">AddOperation</a>&nbsp;op)</pre>
<div class="block">Check if the given AddOperation has some dependencies on any
 currently running previous operation.
 Update the dependency list in the associated PendingChange if
 there are some dependencies.
 AddOperation depends on

 - DeleteOperation done on the same DN
 - ModifyDnOperation with the same target DN as the ADD DN
 - ModifyDnOperation with new DN equals to the ADD DN parent
 - AddOperation done on the parent DN of the ADD DN</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>op</code> - The AddOperation to be checked.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A boolean indicating if this operation has some dependencies.</dd></dl>
</li>
</ul>
<a name="checkDependencies(org.opends.server.core.ModifyOperation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkDependencies</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/opends/server/replication/plugin/RemotePendingChanges.html#line.295">checkDependencies</a>(<a href="../../../../../org/opends/server/core/ModifyOperation.html" title="interface in org.opends.server.core">ModifyOperation</a>&nbsp;op)</pre>
<div class="block">Check if the given ModifyOperation has some dependencies on any
 currently running previous operation.
 Update the dependency list in the associated PendingChange if
 there are some dependencies.

 ModifyOperation depends on
 - AddOperation done on the same DN</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>op</code> - The ModifyOperation to be checked.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A boolean indicating if this operation has some dependencies.</dd></dl>
</li>
</ul>
<a name="checkDependencies(org.opends.server.replication.protocol.ModifyDNMsg)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkDependencies</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/opends/server/replication/plugin/RemotePendingChanges.html#line.354">checkDependencies</a>(<a href="../../../../../org/opends/server/replication/protocol/ModifyDNMsg.html" title="class in org.opends.server.replication.protocol">ModifyDNMsg</a>&nbsp;msg)</pre>
<div class="block">Check if the given ModifyDNMsg has some dependencies on any
 currently running previous operation.
 Update the dependency list in the associated PendingChange if
 there are some dependencies.

 Modify DN Operation depends on
 - AddOperation done on the same DN as the target DN of the MODDN operation
 - AddOperation done on the new parent of the MODDN  operation
 - DeleteOperation done on the new DN of the MODDN operation
 - ModifyDNOperation done from the new DN of the MODDN operation</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>msg</code> - The ModifyDNMsg to be checked.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A boolean indicating if this operation has some dependencies.</dd></dl>
</li>
</ul>
<a name="checkDependencies(org.opends.server.core.DeleteOperation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkDependencies</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/opends/server/replication/plugin/RemotePendingChanges.html#line.440">checkDependencies</a>(<a href="../../../../../org/opends/server/core/DeleteOperation.html" title="interface in org.opends.server.core">DeleteOperation</a>&nbsp;op)</pre>
<div class="block">Check if the given DeleteOperation has some dependencies on any
 currently running previous operation.
 Update the dependency list in the associated PendingChange if
 there are some dependencies.

 DeleteOperation depends on
 - DeleteOperation done on children DN
 - ModifyDnOperation with target DN that are children of the DEL DN
 - AddOperation done on the same DN</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>op</code> - The DeleteOperation to be checked.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A boolean indicating if this operation has some dependencies.</dd></dl>
</li>
</ul>
<a name="checkDependencies(org.opends.server.types.Operation, org.opends.server.replication.protocol.LDAPUpdateMsg)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>checkDependencies</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/opends/server/replication/plugin/RemotePendingChanges.html#line.517">checkDependencies</a>(<a href="../../../../../org/opends/server/types/Operation.html" title="interface in org.opends.server.types">Operation</a>&nbsp;op,
                        <a href="../../../../../org/opends/server/replication/protocol/LDAPUpdateMsg.html" title="class in org.opends.server.replication.protocol">LDAPUpdateMsg</a>&nbsp;msg)</pre>
<div class="block">Check the dependencies of a given Operation/UpdateMsg.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>op</code> - The Operation for which dependencies must be checked.</dd><dd><code>msg</code> - The Message for which dependencies must be checked.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A boolean indicating if an operation cannot be replayed
             because of dependencies.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/opends/server/replication/plugin/PersistentServerState.html" title="class in org.opends.server.replication.plugin"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/opends/server/replication/plugin/ReplayThread.html" title="class in org.opends.server.replication.plugin"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/opends/server/replication/plugin/RemotePendingChanges.html" target="_top">Frames</a></li>
<li><a href="RemotePendingChanges.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
