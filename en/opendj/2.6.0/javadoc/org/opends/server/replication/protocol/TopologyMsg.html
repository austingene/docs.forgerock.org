<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Thu Jun 27 13:21:02 CEST 2013 -->
<title>TopologyMsg (OpenDJ API Documentation)</title>
<meta name="date" content="2013-06-27">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TopologyMsg (OpenDJ API Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/opends/server/replication/protocol/StopMsg.html" title="class in org.opends.server.replication.protocol"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/opends/server/replication/protocol/UpdateMsg.html" title="class in org.opends.server.replication.protocol"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/opends/server/replication/protocol/TopologyMsg.html" target="_top">Frames</a></li>
<li><a href="TopologyMsg.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.opends.server.replication.protocol</div>
<h2 title="Class TopologyMsg" class="title">Class TopologyMsg</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/opends/server/replication/protocol/ReplicationMsg.html" title="class in org.opends.server.replication.protocol">org.opends.server.replication.protocol.ReplicationMsg</a></li>
<li>
<ul class="inheritance">
<li>org.opends.server.replication.protocol.TopologyMsg</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <a href="../../../../../src-html/org/opends/server/replication/protocol/TopologyMsg.html#line.58">TopologyMsg</a>
extends <a href="../../../../../org/opends/server/replication/protocol/ReplicationMsg.html" title="class in org.opends.server.replication.protocol">ReplicationMsg</a></pre>
<div class="block">This class defines a message that is sent:
 - By a RS to the other RSs in the topology, containing:
   - the list of DSs directly connected to the RS in the DS list
   - only this RS in the RS list
 - By a RS to his connected DSs, containing every DSs and RSs he knows.
 In that case the message contains:
   - the list of every DS the RS knows except the destinator DS in the DS list
   - the list of every connected RSs (including the sending RS) in the RS list

 Exchanging these messages allows to have each RS or DS take
 appropriate decisions according to the current topology:
 - a RS can route a message to a DS
 - a DS can decide towards which peer DS send referrals
 ...</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/opends/server/replication/protocol/TopologyMsg.html#TopologyMsg(byte[], short)">TopologyMsg</a></strong>(byte[]&nbsp;in,
                      short&nbsp;version)</code>
<div class="block">Creates a new changelogInfo message from its encoded form.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../org/opends/server/replication/protocol/TopologyMsg.html#TopologyMsg(java.util.List, java.util.List)">TopologyMsg</a></strong>(java.util.List&lt;<a href="../../../../../org/opends/server/replication/common/DSInfo.html" title="class in org.opends.server.replication.common">DSInfo</a>&gt;&nbsp;dsList,
                      java.util.List&lt;<a href="../../../../../org/opends/server/replication/common/RSInfo.html" title="class in org.opends.server.replication.common">RSInfo</a>&gt;&nbsp;rsList)</code>
<div class="block">Creates a new  message from a list of the currently connected servers.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/protocol/TopologyMsg.html#getBytes(short)">getBytes</a></strong>(short&nbsp;version)</code>
<div class="block">Serializes the PDU using the provided replication protocol version.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../../org/opends/server/replication/common/DSInfo.html" title="class in org.opends.server.replication.common">DSInfo</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/protocol/TopologyMsg.html#getDsList()">getDsList</a></strong>()</code>
<div class="block">Get the list of DS info.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../../org/opends/server/replication/common/RSInfo.html" title="class in org.opends.server.replication.common">RSInfo</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/protocol/TopologyMsg.html#getRsList()">getRsList</a></strong>()</code>
<div class="block">Get the list of RS info.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/protocol/TopologyMsg.html#toString()">toString</a></strong>()</code></td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.opends.server.replication.protocol.ReplicationMsg">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.opends.server.replication.protocol.<a href="../../../../../org/opends/server/replication/protocol/ReplicationMsg.html" title="class in org.opends.server.replication.protocol">ReplicationMsg</a></h3>
<code><a href="../../../../../org/opends/server/replication/protocol/ReplicationMsg.html#addByteArray(byte[], byte[], int)">addByteArray</a>, <a href="../../../../../org/opends/server/replication/protocol/ReplicationMsg.html#generateMsg(byte[], short)">generateMsg</a>, <a href="../../../../../org/opends/server/replication/protocol/ReplicationMsg.html#getNextLength(byte[], int)">getNextLength</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TopologyMsg(byte[], short)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TopologyMsg</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/opends/server/replication/protocol/TopologyMsg.html#line.73">TopologyMsg</a>(byte[]&nbsp;in,
           short&nbsp;version)
            throws java.util.zip.DataFormatException</pre>
<div class="block">Creates a new changelogInfo message from its encoded form.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>in</code> - The byte array containing the encoded form of the message.</dd><dd><code>version</code> - The protocol version to use to decode the msg.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.util.zip.DataFormatException</code> - If the byte array does not
 contain a valid encoded form of the message.</dd></dl>
</li>
</ul>
<a name="TopologyMsg(java.util.List, java.util.List)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TopologyMsg</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/opends/server/replication/protocol/TopologyMsg.html#line.272">TopologyMsg</a>(java.util.List&lt;<a href="../../../../../org/opends/server/replication/common/DSInfo.html" title="class in org.opends.server.replication.common">DSInfo</a>&gt;&nbsp;dsList,
           java.util.List&lt;<a href="../../../../../org/opends/server/replication/common/RSInfo.html" title="class in org.opends.server.replication.common">RSInfo</a>&gt;&nbsp;rsList)</pre>
<div class="block">Creates a new  message from a list of the currently connected servers.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dsList</code> - The list of currently connected DS servers ID.</dd><dd><code>rsList</code> - The list of currently connected RS servers ID.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getBytes(short)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBytes</h4>
<pre>public&nbsp;byte[]&nbsp;<a href="../../../../../src-html/org/opends/server/replication/protocol/TopologyMsg.html#line.301">getBytes</a>(short&nbsp;version)
                throws java.io.UnsupportedEncodingException</pre>
<div class="block">Serializes the PDU using the provided replication protocol version.
 WARNING: should be overwritten by a PDU (sub class) we want to support
 older protocol version serialization for.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/opends/server/replication/protocol/ReplicationMsg.html#getBytes(short)">getBytes</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/opends/server/replication/protocol/ReplicationMsg.html" title="class in org.opends.server.replication.protocol">ReplicationMsg</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>version</code> - The protocol version to use for serialization. The version should
          normally be older than the current one.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The encoded PDU.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.UnsupportedEncodingException</code> - When the encoding of the message failed because the UTF-8
           encoding is not supported or the requested protocol version to
           use is not supported by this PDU.</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;<a href="../../../../../src-html/org/opends/server/replication/protocol/TopologyMsg.html#line.435">toString</a>()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="getDsList()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDsList</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../../org/opends/server/replication/common/DSInfo.html" title="class in org.opends.server.replication.common">DSInfo</a>&gt;&nbsp;<a href="../../../../../src-html/org/opends/server/replication/protocol/TopologyMsg.html#line.463">getDsList</a>()</pre>
<div class="block">Get the list of DS info.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The list of DS info</dd></dl>
</li>
</ul>
<a name="getRsList()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getRsList</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../../org/opends/server/replication/common/RSInfo.html" title="class in org.opends.server.replication.common">RSInfo</a>&gt;&nbsp;<a href="../../../../../src-html/org/opends/server/replication/protocol/TopologyMsg.html#line.472">getRsList</a>()</pre>
<div class="block">Get the list of RS info.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The list of RS info</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/opends/server/replication/protocol/StopMsg.html" title="class in org.opends.server.replication.protocol"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/opends/server/replication/protocol/UpdateMsg.html" title="class in org.opends.server.replication.protocol"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/opends/server/replication/protocol/TopologyMsg.html" target="_top">Frames</a></li>
<li><a href="TopologyMsg.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
