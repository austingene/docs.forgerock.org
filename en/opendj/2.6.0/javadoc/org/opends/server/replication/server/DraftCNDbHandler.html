<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Thu Jun 27 13:21:02 CEST 2013 -->
<title>DraftCNDbHandler (OpenDJ API Documentation)</title>
<meta name="date" content="2013-06-27">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DraftCNDbHandler (OpenDJ API Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/opends/server/replication/server/DraftCNDB.DraftCNDBCursor.html" title="class in org.opends.server.replication.server"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/opends/server/replication/server/DraftCNDbIterator.html" title="class in org.opends.server.replication.server"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/opends/server/replication/server/DraftCNDbHandler.html" target="_top">Frames</a></li>
<li><a href="DraftCNDbHandler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.opends.server.replication.server</div>
<h2 title="Class DraftCNDbHandler" class="title">Class DraftCNDbHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.opends.server.replication.server.DraftCNDbHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.67">DraftCNDbHandler</a>
extends java.lang.Object
implements java.lang.Runnable</pre>
<div class="block">This class is used for managing the replicationServer database for each
 server in the topology.
 It is responsible for efficiently saving the updates that is received from
 each master server into stable storage.
 This class is also able to generate a ReplicationIterator that can be
 used to read all changes from a given ChangeNUmber.

 This class publish some monitoring information below cn=monitor.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#DraftCNDbHandler(org.opends.server.replication.server.ReplicationServer, org.opends.server.replication.server.ReplicationDbEnv)">DraftCNDbHandler</a></strong>(<a href="../../../../../org/opends/server/replication/server/ReplicationServer.html" title="class in org.opends.server.replication.server">ReplicationServer</a>&nbsp;replicationServer,
                                <a href="../../../../../org/opends/server/replication/server/ReplicationDbEnv.html" title="class in org.opends.server.replication.server">ReplicationDbEnv</a>&nbsp;dbenv)</code>
<div class="block">Creates a new dbHandler associated to a given LDAP server.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#add(int, java.lang.String, java.lang.String, org.opends.server.replication.common.ChangeNumber)">add</a></strong>(int&nbsp;key,
      java.lang.String&nbsp;value,
      java.lang.String&nbsp;serviceID,
      <a href="../../../../../org/opends/server/replication/common/ChangeNumber.html" title="class in org.opends.server.replication.common">ChangeNumber</a>&nbsp;cn)</code>
<div class="block">Add an update to the list of messages that must be saved to the db
 managed by this db handler.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#clear()">clear</a></strong>()</code>
<div class="block">Clear the changes from this DB (from both memory cache and DB storage).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#clear(java.lang.String)">clear</a></strong>(java.lang.String&nbsp;serviceIDToClear)</code>
<div class="block">Clear the changes from this DB (from both memory cache and DB storage)
 for the provided serviceID.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#count()">count</a></strong>()</code>
<div class="block">Get the number of changes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/opends/server/replication/server/DraftCNDbIterator.html" title="class in org.opends.server.replication.server">DraftCNDbIterator</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#generateIterator(int)">generateIterator</a></strong>(int&nbsp;startDraftCN)</code>
<div class="block">Generate a new ReplicationIterator that allows to browse the db
 managed by this dbHandler and starting at the position defined
 by a given changeNumber.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/opends/server/replication/common/ChangeNumber.html" title="class in org.opends.server.replication.common">ChangeNumber</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#getChangeNumber(int)">getChangeNumber</a></strong>(int&nbsp;key)</code>
<div class="block">Get the CN associated to a provided key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#getFirstKey()">getFirstKey</a></strong>()</code>
<div class="block">Get the firstChange.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#getLastKey()">getLastKey</a></strong>()</code>
<div class="block">Get the lastChange.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/opends/server/replication/server/DraftCNDB.DraftCNDBCursor.html" title="class in org.opends.server.replication.server">DraftCNDB.DraftCNDBCursor</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#getReadCursor(int)">getReadCursor</a></strong>(int&nbsp;key)</code>
<div class="block">Get a read cursor on the database from a provided key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#getServiceID(int)">getServiceID</a></strong>(int&nbsp;key)</code>
<div class="block">Get the serviceID associated to a provided key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#getValue(int)">getValue</a></strong>(int&nbsp;key)</code>
<div class="block">Get the value associated to a provided key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#hasLock()">hasLock</a></strong>()</code>
<div class="block">Tests if the current thread has the lock on this object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#lock()">lock</a></strong>()</code>
<div class="block">Takes the lock on this object (blocking until lock can be acquired).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#release()">release</a></strong>()</code>
<div class="block">Releases the lock on this object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#releaseReadCursor(org.opends.server.replication.server.DraftCNDB.DraftCNDBCursor)">releaseReadCursor</a></strong>(<a href="../../../../../org/opends/server/replication/server/DraftCNDB.DraftCNDBCursor.html" title="class in org.opends.server.replication.server">DraftCNDB.DraftCNDBCursor</a>&nbsp;cursor)</code>
<div class="block">Release a provided read cursor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#run()">run</a></strong>()</code>
<div class="block">Run method for this class.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#setPurgeDelay(long)">setPurgeDelay</a></strong>(long&nbsp;delay)</code>
<div class="block">Set the Purge delay for this db Handler.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#shutdown()">shutdown</a></strong>()</code>
<div class="block">Shutdown this dbHandler.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#toString()">toString</a></strong>()</code></td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/opends/server/replication/server/DraftCNDbHandler.html#trim()">trim</a></strong>()</code>
<div class="block">Trim old changes from this database.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DraftCNDbHandler(org.opends.server.replication.server.ReplicationServer, org.opends.server.replication.server.ReplicationDbEnv)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DraftCNDbHandler</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.104">DraftCNDbHandler</a>(<a href="../../../../../org/opends/server/replication/server/ReplicationServer.html" title="class in org.opends.server.replication.server">ReplicationServer</a>&nbsp;replicationServer,
                <a href="../../../../../org/opends/server/replication/server/ReplicationDbEnv.html" title="class in org.opends.server.replication.server">ReplicationDbEnv</a>&nbsp;dbenv)
                 throws com.sleepycat.je.DatabaseException</pre>
<div class="block">Creates a new dbHandler associated to a given LDAP server.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>replicationServer</code> - The ReplicationServer that creates this dbHandler.</dd><dd><code>dbenv</code> - the Database Env to use to create the ReplicationServer DB.
 server for this domain.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>com.sleepycat.je.DatabaseException</code> - If a database problem happened</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="add(int, java.lang.String, java.lang.String, org.opends.server.replication.common.ChangeNumber)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.136">add</a>(int&nbsp;key,
       java.lang.String&nbsp;value,
       java.lang.String&nbsp;serviceID,
       <a href="../../../../../org/opends/server/replication/common/ChangeNumber.html" title="class in org.opends.server.replication.common">ChangeNumber</a>&nbsp;cn)</pre>
<div class="block">Add an update to the list of messages that must be saved to the db
 managed by this db handler.
 This method is blocking if the size of the list of message is larger
 than its maximum.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The key for this record in the db.</dd><dd><code>value</code> - The associated value.</dd><dd><code>serviceID</code> - The associated serviceID.</dd><dd><code>cn</code> - The associated replication change number.</dd></dl>
</li>
</ul>
<a name="getFirstKey()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstKey</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.154">getFirstKey</a>()</pre>
<div class="block">Get the firstChange.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Returns the firstChange.</dd></dl>
</li>
</ul>
<a name="getLastKey()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastKey</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.163">getLastKey</a>()</pre>
<div class="block">Get the lastChange.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Returns the lastChange.</dd></dl>
</li>
</ul>
<a name="count()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>count</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.172">count</a>()</pre>
<div class="block">Get the number of changes.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Returns the number of changes.</dd></dl>
</li>
</ul>
<a name="getReadCursor(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReadCursor</h4>
<pre>public&nbsp;<a href="../../../../../org/opends/server/replication/server/DraftCNDB.DraftCNDBCursor.html" title="class in org.opends.server.replication.server">DraftCNDB.DraftCNDBCursor</a>&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.183">getReadCursor</a>(int&nbsp;key)</pre>
<div class="block">Get a read cursor on the database from a provided key.
 The cursor MUST be released after use.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The provided key.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the new cursor.</dd></dl>
</li>
</ul>
<a name="releaseReadCursor(org.opends.server.replication.server.DraftCNDB.DraftCNDBCursor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseReadCursor</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.199">releaseReadCursor</a>(<a href="../../../../../org/opends/server/replication/server/DraftCNDB.DraftCNDBCursor.html" title="class in org.opends.server.replication.server">DraftCNDB.DraftCNDBCursor</a>&nbsp;cursor)</pre>
<div class="block">Release a provided read cursor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cursor</code> - The provided read cursor.</dd></dl>
</li>
</ul>
<a name="generateIterator(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateIterator</h4>
<pre>public&nbsp;<a href="../../../../../org/opends/server/replication/server/DraftCNDbIterator.html" title="class in org.opends.server.replication.server">DraftCNDbIterator</a>&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.225">generateIterator</a>(int&nbsp;startDraftCN)
                                   throws com.sleepycat.je.DatabaseException,
                                          java.lang.Exception</pre>
<div class="block">Generate a new ReplicationIterator that allows to browse the db
 managed by this dbHandler and starting at the position defined
 by a given changeNumber.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>startDraftCN</code> - The position where the iterator must start.</dd>
<dt><span class="strong">Returns:</span></dt><dd>a new ReplicationIterator that allows to browse the db
         managed by this dbHandler and starting at the position defined
         by a given changeNumber.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>com.sleepycat.je.DatabaseException</code> - if a database problem happened.</dd>
<dd><code>java.lang.Exception</code> - If there is no other change to push after change
         with changeNumber number.</dd></dl>
</li>
</ul>
<a name="shutdown()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.234">shutdown</a>()</pre>
<div class="block">Shutdown this dbHandler.</div>
</li>
</ul>
<a name="run()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.268">run</a>()</pre>
<div class="block">Run method for this class.
 Periodically Flushes the ReplicationServerDomain cache from memory to the
 stable storage and trims the old updates.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
</dl>
</li>
</ul>
<a name="trim()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>trim</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.309">trim</a>()
          throws com.sleepycat.je.DatabaseException,
                 java.lang.Exception</pre>
<div class="block">Trim old changes from this database.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>com.sleepycat.je.DatabaseException</code> - In case of database problem.</dd>
<dd><code>java.lang.Exception</code> - In case of database problem.</dd></dl>
</li>
</ul>
<a name="clear(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.328">clear</a>(java.lang.String&nbsp;serviceIDToClear)
           throws com.sleepycat.je.DatabaseException,
                  java.lang.Exception</pre>
<div class="block">Clear the changes from this DB (from both memory cache and DB storage)
 for the provided serviceID.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>serviceIDToClear</code> - The serviceID for which we want to remove
         all records from the DraftCNDb - null means all.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>com.sleepycat.je.DatabaseException</code> - When an exception occurs while removing the
 changes from the DB.</dd>
<dd><code>java.lang.Exception</code> - When an exception occurs while accessing a resource
 from the DB.</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.491">toString</a>()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="setPurgeDelay(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPurgeDelay</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.500">setPurgeDelay</a>(long&nbsp;delay)</pre>
<div class="block">Set the Purge delay for this db Handler.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>delay</code> - The purge delay in Milliseconds.</dd></dl>
</li>
</ul>
<a name="clear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.513">clear</a>()
           throws com.sleepycat.je.DatabaseException,
                  java.lang.Exception</pre>
<div class="block">Clear the changes from this DB (from both memory cache and DB storage).</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>com.sleepycat.je.DatabaseException</code> - When an exception occurs while removing the
 changes from the DB.</dd>
<dd><code>java.lang.Exception</code> - When an exception occurs while accessing a resource
 from the DB.</dd></dl>
</li>
</ul>
<a name="hasLock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasLock</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.526">hasLock</a>()</pre>
<div class="block">Tests if the current thread has the lock on this object.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True if the current thread has the lock.</dd></dl>
</li>
</ul>
<a name="lock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.535">lock</a>()
          throws java.lang.InterruptedException</pre>
<div class="block">Takes the lock on this object (blocking until lock can be acquired).</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code> - If interrupted.</dd></dl>
</li>
</ul>
<a name="release()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.543">release</a>()</pre>
<div class="block">Releases the lock on this object.</div>
</li>
</ul>
<a name="getValue(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValue</h4>
<pre>public&nbsp;java.lang.String&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.553">getValue</a>(int&nbsp;key)</pre>
<div class="block">Get the value associated to a provided key.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - the provided key.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the associated value, null when none.</dd></dl>
</li>
</ul>
<a name="getChangeNumber(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChangeNumber</h4>
<pre>public&nbsp;<a href="../../../../../org/opends/server/replication/common/ChangeNumber.html" title="class in org.opends.server.replication.common">ChangeNumber</a>&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.586">getChangeNumber</a>(int&nbsp;key)</pre>
<div class="block">Get the CN associated to a provided key.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - the provided key.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the associated CN, null when none.</dd></dl>
</li>
</ul>
<a name="getServiceID(int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getServiceID</h4>
<pre>public&nbsp;java.lang.String&nbsp;<a href="../../../../../src-html/org/opends/server/replication/server/DraftCNDbHandler.html#line.619">getServiceID</a>(int&nbsp;key)</pre>
<div class="block">Get the serviceID associated to a provided key.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - the provided key.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the serviceID, null when none.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/opends/server/replication/server/DraftCNDB.DraftCNDBCursor.html" title="class in org.opends.server.replication.server"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/opends/server/replication/server/DraftCNDbIterator.html" title="class in org.opends.server.replication.server"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/opends/server/replication/server/DraftCNDbHandler.html" target="_top">Frames</a></li>
<li><a href="DraftCNDbHandler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
