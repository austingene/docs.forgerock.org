<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>OpenDJ 2.6.0 SDK Developer's Guide</title><link rel="stylesheet" type="text/css" href="css/coredoc.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><meta name="description" content="Hands-on guide to developing applications with the OpenDJ SDK. The OpenDJ project offers open source LDAP directory services in Java."><script type="text/javascript">
/*! jQuery v1.7.1 jquery.com | jquery.org/license */
(function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cv(a){if(!ck[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){cl||(cl=c.createElement("iframe"),cl.frameBorder=cl.width=cl.height=0),b.appendChild(cl);if(!cm||!cl.createElement)cm=(cl.contentWindow||cl.contentDocument).document,cm.write((c.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),cm.close();d=cm.createElement(a),cm.body.appendChild(d),e=f.css(d,"display"),b.removeChild(cl)}ck[a]=e}return ck[a]}function cu(a,b){var c={};f.each(cq.concat.apply([],cq.slice(0,b)),function(){c[this]=a});return c}function ct(){cr=b}function cs(){setTimeout(ct,0);return cr=f.now()}function cj(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ci(){try{return new a.XMLHttpRequest}catch(b){}}function cc(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function cb(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function ca(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bE.test(a)?d(a,e):ca(a+"["+(typeof e=="object"||f.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)ca(a+"["+e+"]",b[e],c,d);else d(a,b)}function b_(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function b$(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bT,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=b$(a,c,d,e,l,g)));(k||!l)&&!g["*"]&&(l=b$(a,c,d,e,"*",g));return l}function bZ(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bP),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function bC(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?bx:by,g=0,h=e.length;if(d>0){if(c!=="border")for(;g<h;g++)c||(d-=parseFloat(f.css(a,"padding"+e[g]))||0),c==="margin"?d+=parseFloat(f.css(a,c+e[g]))||0:d-=parseFloat(f.css(a,"border"+e[g]+"Width"))||0;return d+"px"}d=bz(a,b,b);if(d<0||d==null)d=a.style[b]||0;d=parseFloat(d)||0;if(c)for(;g<h;g++)d+=parseFloat(f.css(a,"padding"+e[g]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+e[g]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+e[g]))||0);return d+"px"}function bp(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function bo(a){var b=c.createElement("div");bh.appendChild(b),b.innerHTML=a.outerHTML;return b.firstChild}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bm(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bk(a,b){var c;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(f.expando)}}function bj(a,b){if(b.nodeType===1&&!!f.hasData(a)){var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c+(i[c][d].namespace?".":"")+i[c][d].namespace,i[c][d],i[c][d].data)}h.data&&(h.data=f.extend({},h.data))}}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function T(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function S(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function K(){return!0}function J(){return!1}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?parseFloat(d):j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?g=i.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a))return f.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),A.add(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(!A){A=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":(a+"").replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};g.guid=a.guid=a.guid||g.guid||e.guid++;return g},access:function(a,c,d,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c)e.access(a,j,c[j],f,g,d);return a}if(d!==b){f=!h&&f&&e.isFunction(d);for(var k=0;k<i;k++)g(a[k],c,f?d.call(a[k],k,g(a[k],c)):d,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f&&f instanceof e&&!(f instanceof a)&&(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test(" ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())});return e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++)g=b[d],h=f.type(g),h==="array"?m(g):h==="function"&&(!a.unique||!o.has(g))&&c.push(g)},n=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,l=j||0,j=0,k=c.length;for(;c&&l<k;l++)if(c[l].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}i=!1,c&&(a.once?e===!0?o.disable():c=[]:d&&d.length&&(e=d.shift(),o.fireWith(e[0],e[1])))},o={add:function(){if(c){var a=c.length;m(arguments),i?k=c.length:e&&e!==!0&&(j=a,n(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){i&&f<=k&&(k--,f<=l&&l--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){c=[];return this},disable:function(){c=d=e=b;return this},disabled:function(){return!c},lock:function(){d=b,(!e||e===!0)&&o.disable();return this},locked:function(){return!d},fireWith:function(b,c){d&&(i?a.once||d.push([b,c]):(!a.once||!e)&&n(b,c));return this},fire:function(){o.fireWith(this,arguments);return this},fired:function(){return!!e}};return o};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){i.done(a).fail(b).progress(c);return this},always:function(){i.done.apply(i,arguments).fail.apply(i,arguments);return this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i);return i},when:function(a){function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p,q=c.createElement("div"),r=c.documentElement;q.setAttribute("className","t"),q.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=q.getElementsByTagName("*"),e=q.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=q.getElementsByTagName("input")[0],b={leadingWhitespace:q.firstChild.nodeType===3,tbody:!q.getElementsByTagName("tbody").length,htmlSerialize:!!q.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:q.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete q.test}catch(s){b.deleteExpando=!1}!q.addEventListener&&q.attachEvent&&q.fireEvent&&(q.attachEvent("onclick",function(){b.noCloneEvent=!1}),q.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),q.appendChild(i),k=c.createDocumentFragment(),k.appendChild(q.lastChild),b.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,k.removeChild(i),k.appendChild(q),q.innerHTML="",a.getComputedStyle&&(j=c.createElement("div"),j.style.width="0",j.style.marginRight="0",q.style.width="2px",q.appendChild(j),b.reliableMarginRight=(parseInt((a.getComputedStyle(j,null)||{marginRight:0}).marginRight,10)||0)===0);if(q.attachEvent)for(o in{submit:1,change:1,focusin:1})n="on"+o,p=n in q,p||(q.setAttribute(n,"return;"),p=typeof q[n]=="function"),b[o+"Bubbles"]=p;k.removeChild(q),k=g=h=j=q=i=null,f(function(){var a,d,e,g,h,i,j,k,m,n,o,r=c.getElementsByTagName("body")[0];!r||(j=1,k="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",m="visibility:hidden;border:0;",n="style='"+k+"border:5px solid #000;padding:0;'",o="<div "+n+"><div></div></div>"+"<table "+n+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",a=c.createElement("div"),a.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+j+"px",r.insertBefore(a,r.firstChild),q=c.createElement("div"),a.appendChild(q),q.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",l=q.getElementsByTagName("td"),p=l[0].offsetHeight===0,l[0].style.display="",l[1].style.display="none",b.reliableHiddenOffsets=p&&l[0].offsetHeight===0,q.innerHTML="",q.style.width=q.style.paddingLeft="1px",f.boxModel=b.boxModel=q.offsetWidth===2,typeof q.style.zoom!="undefined"&&(q.style.display="inline",q.style.zoom=1,b.inlineBlockNeedsLayout=q.offsetWidth===2,q.style.display="",q.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=q.offsetWidth!==2),q.style.cssText=k+m,q.innerHTML=o,d=q.firstChild,e=d.firstChild,h=d.nextSibling.firstChild.firstChild,i={doesNotAddBorder:e.offsetTop!==5,doesAddBorderForTableAndCells:h.offsetTop===5},e.style.position="fixed",e.style.top="20px",i.fixedPosition=e.offsetTop===20||e.offsetTop===15,e.style.position=e.style.top="",d.style.overflow="hidden",d.style.position="relative",i.subtractsBorderForOverflowNotVisible=e.offsetTop===-5,i.doesNotIncludeMarginInBodyOffset=r.offsetTop!==j,r.removeChild(a),q=a=null,f.extend(b,i))});return b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a&&!m(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d);if(o&&!h[c])return g.events;k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h;return i}},removeData:function(a,b,c){if(!!f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!m(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h=null;if(typeof a=="undefined"){if(this.length){h=f.data(this[0]);if(this[0].nodeType===1&&!f._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var i=0,j=e.length;i<j;i++)g=e[i].name,g.indexOf("data-")===0&&(g=f.camelCase(g.substring(5)),l(this[0],g,h[g]));f._data(this[0],"parsedAttrs",!0)}}return h}if(typeof a=="object")return this.each(function(){f.data(this,a)});d=a.split("."),d[1]=d[1]?"."+d[1]:"";if(c===b){h=this.triggerHandler("getData"+d[1]+"!",[d[0]]),h===b&&this.length&&(h=f.data(this[0],a),h=l(this[0],a,h));return h===b&&d[1]?this.data(d[0]):h}return this.each(function(){var b=f(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),f.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)})},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){typeof a!="string"&&(c=a,a="fx");if(c===b)return f.queue(this[0],a);return this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0))h++,l.add(m);m();return d.promise()}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";if(f.isFunction(a))return this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)});return this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];{if(!!arguments.length){e=f.isFunction(a);return this.each(function(d){var g=f(this),h;if(this.nodeType===1){e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!c||!("set"in c)||c.set(this,h,"value")===b)this.value=h}})}if(g){c=f.valHooks[g.nodeName.toLowerCase()]||f.valHooks[g.type];if(c&&"get"in c&&(d=c.get(g,"value"))!==b)return d;d=g.value;return typeof d=="string"?d.replace(q,""):d==null?"":d}}}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j)return b;h.push(b)}}if(j&&!h.length&&i.length)return f(i[g]).val();return h},set:function(a,b){var c=f.makeArray(b);f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!!a&&j!==3&&j!==8&&j!==2){if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute=="undefined")return f.prop(a,c,d);i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}if(h&&"set"in h&&i&&(g=h.set(a,d,c))!==b)return g;a.setAttribute(c,""+d);return d}if(h&&"get"in h&&i&&(g=h.get(a,c))!==null)return g;g=a.getAttribute(c);return g===null?b:g}},removeAttr:function(a,b){var c,d,e,g,h=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;h<g;h++)e=d[h],e&&(c=f.propFix[e]||e,f.attr(a,e,""),a.removeAttribute(v?e:c),u.test(e)&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b),c&&(a.value=c);return b}}},value:{get:function(a,b){if(w&&f.nodeName(a,"button"))return w.get(a,b);return b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]);return d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&(e=g.get(a,c))!==null?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},v||(y={name:!0,id:!0},w=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);e||(e=c.createAttribute(d),a.setAttributeNode(e));return e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===""){a.setAttribute(b,"auto");return c}}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);return null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/\bhover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(a){var b=F.exec(a);b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)"));return b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};
f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))){d.handler&&(p=d,d=p.handler),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f!="undefined"&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,arguments):b},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!!g&&!!(o=g.events)){b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o)f.event.remove(a,j+b[h],c,d,!0);continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++)s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered))return;h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h])return;c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n));return c.result}},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=[],j,k,l,m,n,o,p,q,r,s,t;g[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click")){m=f(this),m.context=this.ownerDocument||this;for(l=c.target;l!=this;l=l.parentNode||this){o={},q=[],m[0]=l;for(j=0;j<e;j++)r=d[j],s=r.selector,o[s]===b&&(o[s]=r.quick?H(l,r.quick):m.is(s)),o[s]&&q.push(r);q.length&&i.push({elem:l,matches:q})}}d.length>e&&i.push({elem:this,matches:d.slice(e)});for(j=0;j<i.length&&!c.isPropagationStopped();j++){p=i[j],c.currentTarget=p.elem;for(k=0;k<p.matches.length&&!c.isImmediatePropagationStopped();k++){r=p.matches[k];if(h||!c.namespace&&!r.namespace||c.namespace_re&&c.namespace_re.test(r.namespace))c.data=r.data,c.handleObj=r,n=((f.event.special[r.origType]||{}).handle||r.handler).apply(p.elem,g),n!==b&&(c.result=n,n===!1&&(c.preventDefault(),c.stopPropagation()))}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;)e=i[--d],a[e]=g[e];a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey);return h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b;return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=J;else if(!e)return this;g===1&&(h=e,e=function(a){f().off(a);return h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++));return this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;f(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler);return this}if(typeof a=="object"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c=="function")d=c,c=b;d===!1&&(d=J);return this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){f(this.context).on(a,this.selector,b,c);return this},die:function(a,b){f(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){i=!1;return 0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b))if(w.length===2&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length===1&&(w[0]==="~"||w[0]==="+")&&d.parentNode?d.parentNode:d,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}else k=w=[]}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]")if(!u)e.push.apply(e,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&e.push(j[t]);else s(k,e);l&&(m(l,h,e,f),m.uniqueSort(e));return e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q)if(g==null)m.error(a);else break;q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not")if((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))b[3]=m(b[3],null,null,c);else{var g=m.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return!1}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[d]=f}j=a.nodeIndex-e;return c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));var s=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){if(a===b){h=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b){h=!0;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.POS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}c=c.length>1?f.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof a=="string")return f.inArray(this[0],f(a));return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse());return this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var V="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){if(f.isFunction(a))return this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))});if(typeof a!="object"&&a!==b)return this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a));return f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapInner(a.call(this,b))});return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function()
{for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(W,""):null;if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(f.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else f.isFunction(a)?this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a))return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!="string"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,bp)}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||!bc.test("<"+a.nodeName)?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g)e[g]&&bk(d[g],e[g])}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g)bj(d[g],e[g])}}d=e=null;return h},clean:function(a,b,d,e){var g;b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var h=[],i;for(var j=0,k;(k=a[j])!=null;j++){typeof k=="number"&&(k+="");if(!k)continue;if(typeof k=="string")if(!_.test(k))k=b.createTextNode(k);else{k=k.replace(Y,"<$1></$2>");var l=(Z.exec(k)||["",""])[1].toLowerCase(),m=bg[l]||bg._default,n=m[0],o=b.createElement("div");b===c?bh.appendChild(o):U(b).appendChild(o),o.innerHTML=m[1]+k+m[2];while(n--)o=o.lastChild;if(!f.support.tbody){var p=$.test(k),q=l==="table"&&!p?o.firstChild&&o.firstChild.childNodes:m[1]==="<table>"&&!p?o.childNodes:[];for(i=q.length-1;i>=0;--i)f.nodeName(q[i],"tbody")&&!q[i].childNodes.length&&q[i].parentNode.removeChild(q[i])}!f.support.leadingWhitespace&&X.test(k)&&o.insertBefore(b.createTextNode(X.exec(k)[0]),o.firstChild),k=o.childNodes}var r;if(!f.support.appendChecked)if(k[0]&&typeof (r=k.length)=="number")for(i=0;i<r;i++)bn(k[i]);else bn(k);k.nodeType?h.push(k):h=f.merge(h,k)}if(d){g=function(a){return!a.type||be.test(a.type)};for(j=0;h[j];j++)if(e&&f.nodeName(h[j],"script")&&(!h[j].type||h[j].type.toLowerCase()==="text/javascript"))e.push(h[j].parentNode?h[j].parentNode.removeChild(h[j]):h[j]);else{if(h[j].nodeType===1){var s=f.grep(h[j].getElementsByTagName("script"),g);h.splice.apply(h,[j+1,0].concat(s))}d.appendChild(h[j])}}return h},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bq=/alpha\([^)]*\)/i,br=/opacity=([^)]*)/,bs=/([A-Z]|^ms)/g,bt=/^-?\d+(?:px)?$/i,bu=/^-?\d/,bv=/^([\-+])=([\-+.\de]+)/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Left","Right"],by=["Top","Bottom"],bz,bA,bB;f.fn.css=function(a,c){if(arguments.length===2&&c===b)return this;return f.access(this,a,c,!0,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)})},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bz(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b){if(k&&"get"in k&&(g=k.get(a,!1,e))!==b)return g;return j[c]}h=typeof d,h==="string"&&(g=bv.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d))return;h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(bz)return bz(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),f.curCSS=f.css,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c){if(a.offsetWidth!==0)return bC(a,b,d);f.swap(a,bw,function(){e=bC(a,b,d)});return e}},set:function(a,b){if(!bt.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return br.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bq,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bq.test(g)?g.replace(bq,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;f.swap(a,{display:"inline-block"},function(){b?c=bz(a,"margin-right","marginRight"):c=a.style.marginRight});return c}})}),c.defaultView&&c.defaultView.getComputedStyle&&(bA=function(a,b){var c,d,e;b=b.replace(bs,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b)));return c}),c.documentElement.currentStyle&&(bB=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;f===null&&g&&(e=g[b])&&(f=e),!bt.test(f)&&bu.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d));return f===""?"auto":f}),bz=bA||bB,f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});var bD=/%20/g,bE=/\[\]$/,bF=/\r?\n/g,bG=/#.*$/,bH=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bI=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bJ=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bK=/^(?:GET|HEAD)$/,bL=/^\/\//,bM=/\?/,bN=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bO=/^(?:select|textarea)/i,bP=/\s+/,bQ=/([?&])_=[^&]*/,bR=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bS=f.fn.load,bT={},bU={},bV,bW,bX=["*/"]+["*"];try{bV=e.href}catch(bY){bV=c.createElement("a"),bV.href="",bV=bV.href}bW=bR.exec(bV.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bS)return bS.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bN,"")).find(g):c)),d&&i.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bO.test(this.nodeName)||bI.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bF,"\r\n")}}):{name:b.name,value:c.replace(bF,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){f.isFunction(d)&&(g=g||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?b_(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b_(a,b);return a},ajaxSettings:{url:bV,isLocal:bJ.test(bW[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bX},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bZ(bT),ajaxTransport:bZ(bU),ajax:function(a,c){function w(a,c,l,m){if(s!==2){s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?cb(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified"))f.lastModified[k]=y;if(z=v.getResponseHeader("Etag"))f.etag[k]=z}if(a===304)w="notmodified",o=!0;else try{r=cc(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}else{u=w;if(!w||a)w="error",a<0&&(a=0)}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bH.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){s||(d.mimeType=a);return this},abort:function(a){a=a||"abort",p&&p.abort(a),w(0,a);return this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+"").replace(bG,"").replace(bL,bW[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bP),d.crossDomain==null&&(r=bR.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bW[1]&&r[2]==bW[2]&&(r[3]||(r[1]==="http:"?80:443))==(bW[3]||(bW[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),b$(bT,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bK.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bM.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bQ,"$1_="+x);d.url=y+(y===d.url?(bM.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bX+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||s===2)){v.abort();return!1}for(u in{success:1,error:1,complete:1})v[u](d[u]);p=b$(bU,d,c,v);if(!p)w(-1,"No Transport");else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2)w(-1,z);else throw z}}return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)ca(g,a[g],c,e);return d.join("&").replace(bD,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cd=f.now(),ce=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cd++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(ce.test(b.url)||e&&ce.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";b.jsonp!==!1&&(j=j.replace(ce,l),b.url===j&&(e&&(k=k.replace(ce,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){g||f.error(h+" was not called");return g[0]},b.dataTypes[0]="json";return"script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var cf=a.ActiveXObject?function(){for(var a in ch)ch[a](0,1)}:!1,cg=0,ch;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ci()||cj()}:ci,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,cf&&delete ch[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n),m.text=h.responseText;try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cg,cf&&(ch||(ch={},f(a).unload(cf)),ch[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var ck={},cl,cm,cn=/^(?:toggle|show|hide)$/,co=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cp,cq=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cr;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(cu("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),e===""&&f.css(d,"display")==="none"&&f._data(d,"olddisplay",cv(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(cu("hide",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(cu("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]),h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cv(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new f.fx(this,b,i),h=a[i],cn.test(h)?(o=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),o?(f._data(this,"toggle"+i,o==="show"?"hide":"show"),j[o]()):j[h]()):(k=co.exec(h),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(f.cssNumber[i]?"":"px"),n!=="px"&&(f.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,f.style(this,i,l+n)),k[1]&&(m=(k[1]==="-="?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,h,""));return!0}var e=f.speed(b,c,d);if(f.isEmptyObject(a))return this.each(e.complete,[!1]);a=f.extend({},a);return e.queue===!1?this.each(g):this.queue(e.queue,g)},stop:function(a,c,d){typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]);return this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:cu("show",1),slideUp:cu("hide",1),slideToggle:cu("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)};return d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cr||cs(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){e.options.hide&&f._data(e.elem,"fxshow"+e.prop)===b&&f._data(e.elem,"fxshow"+e.prop,e.start)},h()&&f.timers.push(h)&&!cp&&(cp=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cr||cs(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(cp),cp=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(["width","height"],function(a,b){f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?f.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!f.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var h=e.body,i=cy(e),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||f.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||f.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:f.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(f.support.fixedPosition&&k.position==="fixed")break;c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===d&&(l+=b.offsetTop,m+=b.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position==="relative"||k.position==="static")l+=i.offsetTop,m+=i.offsetLeft;f.support.fixedPosition&&k.position==="fixed"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft));return{top:l,left:m}},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each(["Left","Top"],function(a,c){var d="scroll"+c;f.fn[d]=function(c){var e,g;if(c===b){e=this[0];if(!e)return null;g=cy(e);return g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]}return this.each(function(){g=cy(this),g?g.scrollTo(a?f(g).scrollLeft():c,a?c:f(g).scrollTop()):this[d]=c})}}),f.each(["Height","Width"],function(a,c){var d=c.toLowerCase();f.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,d,"padding")):this[d]():null},f.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,d,a?"margin":"border")):this[d]():null},f.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(f.isFunction(a))return this.each(function(b){var c=f(this);c[d](a.call(this,b,c[d]()))});if(f.isWindow(e)){var g=e.document.documentElement["client"+c],h=e.document.body;return e.document.compatMode==="CSS1Compat"&&g||h&&h["client"+c]||g}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var i=f.css(e,d),j=parseFloat(i);return f.isNumeric(j)?j:i}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);
</script>
<script type="text/javascript">
/* On double-click, reformat <div class="screen"> for easy copying. */
var minusPng = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAKCAYAAAC5Sw6hAAADHmlDQ1BJQ0MgUHJvZmlsZQAAeAGFVN9r01AU/tplnbDhizpnEQk+aJFuZFN0Q5y2a1e6zVrqNrchSJumbVyaxiTtfrAH2YtvOsV38Qc++QcM2YNve5INxhRh+KyIIkz2IrOemzRNJ1MDufe73/nuOSfn5F6g+XFa0xQvDxRVU0/FwvzE5BTf8gFeHEMr/GhNi4YWSiZHQA/Tsnnvs/MOHsZsdO5v36v+Y9WalQwR8BwgvpQ1xCLhWaBpXNR0E+DWie+dMTXCzUxzWKcECR9nOG9jgeGMjSOWZjQ1QJoJwgfFQjpLuEA4mGng8w3YzoEU5CcmqZIuizyrRVIv5WRFsgz28B9zg/JfsKiU6Zut5xCNbZoZTtF8it4fOX1wjOYA1cE/Xxi9QbidcFg246M1fkLNJK4RJr3n7nRpmO1lmpdZKRIlHCS8YlSuM2xp5gsDiZrm0+30UJKwnzS/NDNZ8+PtUJUE6zHF9fZLRvS6vdfbkZMH4zU+pynWf0D+vff1corleZLw67QejdX0W5I6Vtvb5M2mI8PEd1E/A0hCgo4cZCjgkUIMYZpjxKr4TBYZIkqk0ml0VHmyONY7KJOW7RxHeMlfDrheFvVbsrj24Pue3SXXjrwVhcW3o9hR7bWB6bqyE5obf3VhpaNu4Te55ZsbbasLCFH+iuWxSF5lyk+CUdd1NuaQU5f8dQvPMpTuJXYSWAy6rPBe+CpsCk+FF8KXv9TIzt6tEcuAcSw+q55TzcbsJdJM0utkuL+K9ULGGPmQMUNanb4kTZyKOfLaUAsnBneC6+biXC/XB567zF3h+rkIrS5yI47CF/VFfCHwvjO+Pl+3b4hhp9u+02TrozFa67vTkbqisXqUj9sn9j2OqhMZsrG+sX5WCCu0omNqSrN0TwADJW1Ol/MFk+8RhAt8iK4tiY+rYleQTysKb5kMXpcMSa9I2S6wO4/tA7ZT1l3maV9zOfMqcOkb/cPrLjdVBl4ZwNFzLhegM3XkCbB8XizrFdsfPJ63gJE722OtPW1huos+VqvbdC5bHgG7D6vVn8+q1d3n5H8LeKP8BqkjCtbCoV8yAAAAUklEQVQoFWO8HyrynwEKFFa9ZoSxiaEfhInC9TKADAICBkowyAwmYmwmRg3VDGLBZtvHPGmE37Eo4J/0FCMsaesibDZicRiKENVcRDWDGKmVIAFsW0aIsyjVzwAAAABJRU5ErkJggg%3D%3D";
var minus = "<img alt=\"[-]\" class=\"toggle\" width=\"18\" height=\"10\" src=\"" + minusPng + "\">";
var plusPng = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAKCAYAAAC5Sw6hAAADHmlDQ1BJQ0MgUHJvZmlsZQAAeAGFVN9r01AU/tplnbDhizpnEQk+aJFuZFN0Q5y2a1e6zVrqNrchSJumbVyaxiTtfrAH2YtvOsV38Qc++QcM2YNve5INxhRh+KyIIkz2IrOemzRNJ1MDufe73/nuOSfn5F6g+XFa0xQvDxRVU0/FwvzE5BTf8gFeHEMr/GhNi4YWSiZHQA/Tsnnvs/MOHsZsdO5v36v+Y9WalQwR8BwgvpQ1xCLhWaBpXNR0E+DWie+dMTXCzUxzWKcECR9nOG9jgeGMjSOWZjQ1QJoJwgfFQjpLuEA4mGng8w3YzoEU5CcmqZIuizyrRVIv5WRFsgz28B9zg/JfsKiU6Zut5xCNbZoZTtF8it4fOX1wjOYA1cE/Xxi9QbidcFg246M1fkLNJK4RJr3n7nRpmO1lmpdZKRIlHCS8YlSuM2xp5gsDiZrm0+30UJKwnzS/NDNZ8+PtUJUE6zHF9fZLRvS6vdfbkZMH4zU+pynWf0D+vff1corleZLw67QejdX0W5I6Vtvb5M2mI8PEd1E/A0hCgo4cZCjgkUIMYZpjxKr4TBYZIkqk0ml0VHmyONY7KJOW7RxHeMlfDrheFvVbsrj24Pue3SXXjrwVhcW3o9hR7bWB6bqyE5obf3VhpaNu4Te55ZsbbasLCFH+iuWxSF5lyk+CUdd1NuaQU5f8dQvPMpTuJXYSWAy6rPBe+CpsCk+FF8KXv9TIzt6tEcuAcSw+q55TzcbsJdJM0utkuL+K9ULGGPmQMUNanb4kTZyKOfLaUAsnBneC6+biXC/XB567zF3h+rkIrS5yI47CF/VFfCHwvjO+Pl+3b4hhp9u+02TrozFa67vTkbqisXqUj9sn9j2OqhMZsrG+sX5WCCu0omNqSrN0TwADJW1Ol/MFk+8RhAt8iK4tiY+rYleQTysKb5kMXpcMSa9I2S6wO4/tA7ZT1l3maV9zOfMqcOkb/cPrLjdVBl4ZwNFzLhegM3XkCbB8XizrFdsfPJ63gJE722OtPW1huos+VqvbdC5bHgG7D6vVn8+q1d3n5H8LeKP8BqkjCtbCoV8yAAAAYElEQVQoFWO8HyrynwEKFFa9ZoSxiaEfhInC9TKADAICBlz4Q67UfxDGJQ8SB5nBRIzNxKihmkEs2Gz7mCeN8DtUAbIY/6SnGGFJWxch2whzCbIYNl9QzUVUM4iRWgkSAKcsS/O6iJF0AAAAAElFTkSuQmCC";
var plus = "<img alt=\"[+]\" class=\"toggle\" width=\"18\" height=\"10\" src=\"" + plusPng + "\">";

$(document).ready(function() {

  /*
   * DOCS-36: HTML output should wrap large images in links to themselves at
   *          full size
   *
   * It would be cool if when you click (large) images in HTML output, you get
   * the same effect as right-click &gt; copy image location + new tab &gt;
   * paste copied image location and go.
   *
   * Run this before inserting [-] and [+] images below, otherwise clicking
   * [-] opens a new browser tab with the [-] image.
   */
  $("img").wrap(function() {
    return "<a target=\"_blank\" href=\"" + $(this).attr('src') + "\" />";
  });

   /*
    Include both a wrapped (.screen) and unwrapped (.flat) version of
    each screen element, with [-] image to collapse and [+] image
    to expand content.
   */
  $(".screen").each(function () {
    $(this).replaceWith(
      "<div class=\"screen\" title=\"Click [-] to flatten lines.\">"
        + minus + $(this).html() + "</div>" +
      "<div class=\"flat nodisplay\" title=\"Click [+] to wrap long lines.\">"
        + plus + $(this).html().replace(/(\n|\r\n) /g," ") + "</div>"
    )});

  /*
   * COMMWEB-73: Make it easier to copy links to anchors in the HTML core docs
   *
   * On mouseover, prepend a  to titles which links to the element.
   *
   * This code works for elements that are class="title". To affect procedures
   * as well for example, change $(".title") to $(".title, .procedure"). Then
   * also change the code to insert the  in the procedure title, rather than
   * outside the entire procedure, which is a block. The same applies to
   * example and probably other block-formatted elements.
   */
  $(".title").each(function() {
    var href = $(this).children("a").attr("name");
    $(this).prepend('<a href=\"#' + href
      + '\" class=\"showlink\" style=\"display: none;\">&#x021AA; </a>');
    $(this).mouseenter(function() {
      $(this).children('a.showlink').show();
    }).mouseleave(function() {
      $(this).children('a.showlink').hide();
    });
  });

  /*
   * DOCS-57: Add collapse/expand chapter in single-page HTML
   *
   * Use [-] image to mean "collapse" and [+] image to mean "expand".
   */
  var tocollapse = minus.replace(/toggle/, "tocollapse");
  var toexpand = plus.replace(/toggle/,"toexpand");

  $(".titlepage").css("clear", "left");   /* Fix for DOCS-70 */

  $("div.preface,div.chapter,div.reference,div.appendix,div.glossary,div.index").each(function () {
      $(this).prepend(tocollapse + toexpand);
  });
  $(".toexpand").hide();

  $(".tocollapse").click(function() {
      $(this).siblings(":not(.titlepage)").hide();
      $(this).siblings(".toexpand").show();
      $(this).hide();
  });

  $(".toexpand").click(function() {
      $(this).siblings("*").show();
      $(this).hide();
  });

  var bookcollapse = minus.replace(/toggle/,"bookcollapse");
  var bookexpand = plus.replace(/toggle/,"bookexpand");
  $("div.book").prepend(bookcollapse + bookexpand);
  $(".bookexpand").hide();

  $(".bookcollapse").click(function() {
      $(".tocollapse").click();
      $(".bookexpand").show();
      $(this).hide();
  });

  $(".bookexpand").click(function() {
      $(".toexpand").click();
      $(".bookcollapse").show();
      $(this).hide();
  });
});

/*
  Add class="nodisplay" to parent div; remove from parent's sibling.
  If the current parent is .screen, then next sibling is .flat.
*/
$(".toggle").live("click", function() {
  $(this).parent().toggleClass("nodisplay");
  if ($(this).parent().hasClass("screen")) {
    $(this).parent().next().toggleClass("nodisplay");
  } else {
    $(this).parent().prev().toggleClass("nodisplay");
  }
});
</script>
<!-- START SyntaxHighlighter 3.0.83 -->
<!-- shCore.js -->
<script type="text/javascript">/**
 * SyntaxHighlighter
 * http://alexgorbatchev.com/SyntaxHighlighter
 *
 * SyntaxHighlighter is donationware. If you are using it, please donate.
 * http://alexgorbatchev.com/SyntaxHighlighter/donate.html
 *
 * @version
 * 3.0.83 (July 02 2010)
 * 
 * @copyright
 * Copyright (C) 2004-2010 Alex Gorbatchev.
 *
 * @license
 * Dual licensed under the MIT and GPL licenses.
 */
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('K M;I(M)1S 2U("2a\'t 4k M 4K 2g 3l 4G 4H");(6(){6 r(f,e){I(!M.1R(f))1S 3m("3s 15 4R");K a=f.1w;f=M(f.1m,t(f)+(e||""));I(a)f.1w={1m:a.1m,19:a.19?a.19.1a(0):N};H f}6 t(f){H(f.1J?"g":"")+(f.4s?"i":"")+(f.4p?"m":"")+(f.4v?"x":"")+(f.3n?"y":"")}6 B(f,e,a,b){K c=u.L,d,h,g;v=R;5K{O(;c--;){g=u[c];I(a&g.3r&&(!g.2p||g.2p.W(b))){g.2q.12=e;I((h=g.2q.X(f))&&h.P===e){d={3k:g.2b.W(b,h,a),1C:h};1N}}}}5v(i){1S i}5q{v=11}H d}6 p(f,e,a){I(3b.Z.1i)H f.1i(e,a);O(a=a||0;a<f.L;a++)I(f[a]===e)H a;H-1}M=6(f,e){K a=[],b=M.1B,c=0,d,h;I(M.1R(f)){I(e!==1d)1S 3m("2a\'t 5r 5I 5F 5B 5C 15 5E 5p");H r(f)}I(v)1S 2U("2a\'t W 3l M 59 5m 5g 5x 5i");e=e||"";O(d={2N:11,19:[],2K:6(g){H e.1i(g)>-1},3d:6(g){e+=g}};c<f.L;)I(h=B(f,c,b,d)){a.U(h.3k);c+=h.1C[0].L||1}Y I(h=n.X.W(z[b],f.1a(c))){a.U(h[0]);c+=h[0].L}Y{h=f.3a(c);I(h==="[")b=M.2I;Y I(h==="]")b=M.1B;a.U(h);c++}a=15(a.1K(""),n.Q.W(e,w,""));a.1w={1m:f,19:d.2N?d.19:N};H a};M.3v="1.5.0";M.2I=1;M.1B=2;K C=/\\$(?:(\\d\\d?|[$&`\'])|{([$\\w]+)})/g,w=/[^5h]+|([\\s\\S])(?=[\\s\\S]*\\1)/g,A=/^(?:[?*+]|{\\d+(?:,\\d*)?})\\??/,v=11,u=[],n={X:15.Z.X,1A:15.Z.1A,1C:1r.Z.1C,Q:1r.Z.Q,1e:1r.Z.1e},x=n.X.W(/()??/,"")[1]===1d,D=6(){K f=/^/g;n.1A.W(f,"");H!f.12}(),y=6(){K f=/x/g;n.Q.W("x",f,"");H!f.12}(),E=15.Z.3n!==1d,z={};z[M.2I]=/^(?:\\\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\\29-26-f]{2}|u[\\29-26-f]{4}|c[A-3o-z]|[\\s\\S]))/;z[M.1B]=/^(?:\\\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\\d*|x[\\29-26-f]{2}|u[\\29-26-f]{4}|c[A-3o-z]|[\\s\\S])|\\(\\?[:=!]|[?*+]\\?|{\\d+(?:,\\d*)?}\\??)/;M.1h=6(f,e,a,b){u.U({2q:r(f,"g"+(E?"y":"")),2b:e,3r:a||M.1B,2p:b||N})};M.2n=6(f,e){K a=f+"/"+(e||"");H M.2n[a]||(M.2n[a]=M(f,e))};M.3c=6(f){H r(f,"g")};M.5l=6(f){H f.Q(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,"\\\\$&")};M.5e=6(f,e,a,b){e=r(e,"g"+(b&&E?"y":""));e.12=a=a||0;f=e.X(f);H b?f&&f.P===a?f:N:f};M.3q=6(){M.1h=6(){1S 2U("2a\'t 55 1h 54 3q")}};M.1R=6(f){H 53.Z.1q.W(f)==="[2m 15]"};M.3p=6(f,e,a,b){O(K c=r(e,"g"),d=-1,h;h=c.X(f);){a.W(b,h,++d,f,c);c.12===h.P&&c.12++}I(e.1J)e.12=0};M.57=6(f,e){H 6 a(b,c){K d=e[c].1I?e[c]:{1I:e[c]},h=r(d.1I,"g"),g=[],i;O(i=0;i<b.L;i++)M.3p(b[i],h,6(k){g.U(d.3j?k[d.3j]||"":k[0])});H c===e.L-1||!g.L?g:a(g,c+1)}([f],0)};15.Z.1p=6(f,e){H J.X(e[0])};15.Z.W=6(f,e){H J.X(e)};15.Z.X=6(f){K e=n.X.1p(J,14),a;I(e){I(!x&&e.L>1&&p(e,"")>-1){a=15(J.1m,n.Q.W(t(J),"g",""));n.Q.W(f.1a(e.P),a,6(){O(K c=1;c<14.L-2;c++)I(14[c]===1d)e[c]=1d})}I(J.1w&&J.1w.19)O(K b=1;b<e.L;b++)I(a=J.1w.19[b-1])e[a]=e[b];!D&&J.1J&&!e[0].L&&J.12>e.P&&J.12--}H e};I(!D)15.Z.1A=6(f){(f=n.X.W(J,f))&&J.1J&&!f[0].L&&J.12>f.P&&J.12--;H!!f};1r.Z.1C=6(f){M.1R(f)||(f=15(f));I(f.1J){K e=n.1C.1p(J,14);f.12=0;H e}H f.X(J)};1r.Z.Q=6(f,e){K a=M.1R(f),b,c;I(a&&1j e.58()==="3f"&&e.1i("${")===-1&&y)H n.Q.1p(J,14);I(a){I(f.1w)b=f.1w.19}Y f+="";I(1j e==="6")c=n.Q.W(J,f,6(){I(b){14[0]=1f 1r(14[0]);O(K d=0;d<b.L;d++)I(b[d])14[0][b[d]]=14[d+1]}I(a&&f.1J)f.12=14[14.L-2]+14[0].L;H e.1p(N,14)});Y{c=J+"";c=n.Q.W(c,f,6(){K d=14;H n.Q.W(e,C,6(h,g,i){I(g)5b(g){24"$":H"$";24"&":H d[0];24"`":H d[d.L-1].1a(0,d[d.L-2]);24"\'":H d[d.L-1].1a(d[d.L-2]+d[0].L);5a:i="";g=+g;I(!g)H h;O(;g>d.L-3;){i=1r.Z.1a.W(g,-1)+i;g=1Q.3i(g/10)}H(g?d[g]||"":"$")+i}Y{g=+i;I(g<=d.L-3)H d[g];g=b?p(b,i):-1;H g>-1?d[g+1]:h}})})}I(a&&f.1J)f.12=0;H c};1r.Z.1e=6(f,e){I(!M.1R(f))H n.1e.1p(J,14);K a=J+"",b=[],c=0,d,h;I(e===1d||+e<0)e=5D;Y{e=1Q.3i(+e);I(!e)H[]}O(f=M.3c(f);d=f.X(a);){I(f.12>c){b.U(a.1a(c,d.P));d.L>1&&d.P<a.L&&3b.Z.U.1p(b,d.1a(1));h=d[0].L;c=f.12;I(b.L>=e)1N}f.12===d.P&&f.12++}I(c===a.L){I(!n.1A.W(f,"")||h)b.U("")}Y b.U(a.1a(c));H b.L>e?b.1a(0,e):b};M.1h(/\\(\\?#[^)]*\\)/,6(f){H n.1A.W(A,f.2S.1a(f.P+f[0].L))?"":"(?:)"});M.1h(/\\((?!\\?)/,6(){J.19.U(N);H"("});M.1h(/\\(\\?<([$\\w]+)>/,6(f){J.19.U(f[1]);J.2N=R;H"("});M.1h(/\\\\k<([\\w$]+)>/,6(f){K e=p(J.19,f[1]);H e>-1?"\\\\"+(e+1)+(3R(f.2S.3a(f.P+f[0].L))?"":"(?:)"):f[0]});M.1h(/\\[\\^?]/,6(f){H f[0]==="[]"?"\\\\b\\\\B":"[\\\\s\\\\S]"});M.1h(/^\\(\\?([5A]+)\\)/,6(f){J.3d(f[1]);H""});M.1h(/(?:\\s+|#.*)+/,6(f){H n.1A.W(A,f.2S.1a(f.P+f[0].L))?"":"(?:)"},M.1B,6(){H J.2K("x")});M.1h(/\\./,6(){H"[\\\\s\\\\S]"},M.1B,6(){H J.2K("s")})})();1j 2e!="1d"&&(2e.M=M);K 1v=6(){6 r(a,b){a.1l.1i(b)!=-1||(a.1l+=" "+b)}6 t(a){H a.1i("3e")==0?a:"3e"+a}6 B(a){H e.1Y.2A[t(a)]}6 p(a,b,c){I(a==N)H N;K d=c!=R?a.3G:[a.2G],h={"#":"1c",".":"1l"}[b.1o(0,1)]||"3h",g,i;g=h!="3h"?b.1o(1):b.5u();I((a[h]||"").1i(g)!=-1)H a;O(a=0;d&&a<d.L&&i==N;a++)i=p(d[a],b,c);H i}6 C(a,b){K c={},d;O(d 2g a)c[d]=a[d];O(d 2g b)c[d]=b[d];H c}6 w(a,b,c,d){6 h(g){g=g||1P.5y;I(!g.1F){g.1F=g.52;g.3N=6(){J.5w=11}}c.W(d||1P,g)}a.3g?a.3g("4U"+b,h):a.4y(b,h,11)}6 A(a,b){K c=e.1Y.2j,d=N;I(c==N){c={};O(K h 2g e.1U){K g=e.1U[h];d=g.4x;I(d!=N){g.1V=h.4w();O(g=0;g<d.L;g++)c[d[g]]=h}}e.1Y.2j=c}d=e.1U[c[a]];d==N&&b!=11&&1P.1X(e.13.1x.1X+(e.13.1x.3E+a));H d}6 v(a,b){O(K c=a.1e("\\n"),d=0;d<c.L;d++)c[d]=b(c[d],d);H c.1K("\\n")}6 u(a,b){I(a==N||a.L==0||a=="\\n")H a;a=a.Q(/</g,"&1y;");a=a.Q(/ {2,}/g,6(c){O(K d="",h=0;h<c.L-1;h++)d+=e.13.1W;H d+" "});I(b!=N)a=v(a,6(c){I(c.L==0)H"";K d="";c=c.Q(/^(&2s;| )+/,6(h){d=h;H""});I(c.L==0)H d;H d+\'<17 1g="\'+b+\'">\'+c+"</17>"});H a}6 n(a,b){a.1e("\\n");O(K c="",d=0;d<50;d++)c+="                    ";H a=v(a,6(h){I(h.1i("\\t")==-1)H h;O(K g=0;(g=h.1i("\\t"))!=-1;)h=h.1o(0,g)+c.1o(0,b-g%b)+h.1o(g+1,h.L);H h})}6 x(a){H a.Q(/^\\s+|\\s+$/g,"")}6 D(a,b){I(a.P<b.P)H-1;Y I(a.P>b.P)H 1;Y I(a.L<b.L)H-1;Y I(a.L>b.L)H 1;H 0}6 y(a,b){6 c(k){H k[0]}O(K d=N,h=[],g=b.2D?b.2D:c;(d=b.1I.X(a))!=N;){K i=g(d,b);I(1j i=="3f")i=[1f e.2L(i,d.P,b.23)];h=h.1O(i)}H h}6 E(a){K b=/(.*)((&1G;|&1y;).*)/;H a.Q(e.3A.3M,6(c){K d="",h=N;I(h=b.X(c)){c=h[1];d=h[2]}H\'<a 2h="\'+c+\'">\'+c+"</a>"+d})}6 z(){O(K a=1E.36("1k"),b=[],c=0;c<a.L;c++)a[c].3s=="20"&&b.U(a[c]);H b}6 f(a){a=a.1F;K b=p(a,".20",R);a=p(a,".3O",R);K c=1E.4i("3t");I(!(!a||!b||p(a,"3t"))){B(b.1c);r(b,"1m");O(K d=a.3G,h=[],g=0;g<d.L;g++)h.U(d[g].4z||d[g].4A);h=h.1K("\\r");c.39(1E.4D(h));a.39(c);c.2C();c.4C();w(c,"4u",6(){c.2G.4E(c);b.1l=b.1l.Q("1m","")})}}I(1j 3F!="1d"&&1j M=="1d")M=3F("M").M;K e={2v:{"1g-27":"","2i-1s":1,"2z-1s-2t":11,1M:N,1t:N,"42-45":R,"43-22":4,1u:R,16:R,"3V-17":R,2l:11,"41-40":R,2k:11,"1z-1k":11},13:{1W:"&2s;",2M:R,46:11,44:11,34:"4n",1x:{21:"4o 1m",2P:"?",1X:"1v\\n\\n",3E:"4r\'t 4t 1D O: ",4g:"4m 4B\'t 51 O 1z-1k 4F: ",37:\'<!4T 1z 4S "-//4V//3H 4W 1.0 4Z//4Y" "1Z://2y.3L.3K/4X/3I/3H/3I-4P.4J"><1z 4I="1Z://2y.3L.3K/4L/5L"><3J><4N 1Z-4M="5G-5M" 6K="2O/1z; 6J=6I-8" /><1t>6L 1v</1t></3J><3B 1L="25-6M:6Q,6P,6O,6N-6F;6y-2f:#6x;2f:#6w;25-22:6v;2O-3D:3C;"><T 1L="2O-3D:3C;3w-32:1.6z;"><T 1L="25-22:6A-6E;">1v</T><T 1L="25-22:.6C;3w-6B:6R;"><T>3v 3.0.76 (72 73 3x)</T><T><a 2h="1Z://3u.2w/1v" 1F="38" 1L="2f:#3y">1Z://3u.2w/1v</a></T><T>70 17 6U 71.</T><T>6T 6X-3x 6Y 6D.</T></T><T>6t 61 60 J 1k, 5Z <a 2h="6u://2y.62.2w/63-66/65?64=5X-5W&5P=5O" 1L="2f:#3y">5R</a> 5V <2R/>5U 5T 5S!</T></T></3B></1z>\'}},1Y:{2j:N,2A:{}},1U:{},3A:{6n:/\\/\\*[\\s\\S]*?\\*\\//2c,6m:/\\/\\/.*$/2c,6l:/#.*$/2c,6k:/"([^\\\\"\\n]|\\\\.)*"/g,6o:/\'([^\\\\\'\\n]|\\\\.)*\'/g,6p:1f M(\'"([^\\\\\\\\"]|\\\\\\\\.)*"\',"3z"),6s:1f M("\'([^\\\\\\\\\']|\\\\\\\\.)*\'","3z"),6q:/(&1y;|<)!--[\\s\\S]*?--(&1G;|>)/2c,3M:/\\w+:\\/\\/[\\w-.\\/?%&=:@;]*/g,6a:{18:/(&1y;|<)\\?=?/g,1b:/\\?(&1G;|>)/g},69:{18:/(&1y;|<)%=?/g,1b:/%(&1G;|>)/g},6d:{18:/(&1y;|<)\\s*1k.*?(&1G;|>)/2T,1b:/(&1y;|<)\\/\\s*1k\\s*(&1G;|>)/2T}},16:{1H:6(a){6 b(i,k){H e.16.2o(i,k,e.13.1x[k])}O(K c=\'<T 1g="16">\',d=e.16.2x,h=d.2X,g=0;g<h.L;g++)c+=(d[h[g]].1H||b)(a,h[g]);c+="</T>";H c},2o:6(a,b,c){H\'<2W><a 2h="#" 1g="6e 6h\'+b+" "+b+\'">\'+c+"</a></2W>"},2b:6(a){K b=a.1F,c=b.1l||"";b=B(p(b,".20",R).1c);K d=6(h){H(h=15(h+"6f(\\\\w+)").X(c))?h[1]:N}("6g");b&&d&&e.16.2x[d].2B(b);a.3N()},2x:{2X:["21","2P"],21:{1H:6(a){I(a.V("2l")!=R)H"";K b=a.V("1t");H e.16.2o(a,"21",b?b:e.13.1x.21)},2B:6(a){a=1E.6j(t(a.1c));a.1l=a.1l.Q("47","")}},2P:{2B:6(){K a="68=0";a+=", 18="+(31.30-33)/2+", 32="+(31.2Z-2Y)/2+", 30=33, 2Z=2Y";a=a.Q(/^,/,"");a=1P.6Z("","38",a);a.2C();K b=a.1E;b.6W(e.13.1x.37);b.6V();a.2C()}}}},35:6(a,b){K c;I(b)c=[b];Y{c=1E.36(e.13.34);O(K d=[],h=0;h<c.L;h++)d.U(c[h]);c=d}c=c;d=[];I(e.13.2M)c=c.1O(z());I(c.L===0)H d;O(h=0;h<c.L;h++){O(K g=c[h],i=a,k=c[h].1l,j=3W 0,l={},m=1f M("^\\\\[(?<2V>(.*?))\\\\]$"),s=1f M("(?<27>[\\\\w-]+)\\\\s*:\\\\s*(?<1T>[\\\\w-%#]+|\\\\[.*?\\\\]|\\".*?\\"|\'.*?\')\\\\s*;?","g");(j=s.X(k))!=N;){K o=j.1T.Q(/^[\'"]|[\'"]$/g,"");I(o!=N&&m.1A(o)){o=m.X(o);o=o.2V.L>0?o.2V.1e(/\\s*,\\s*/):[]}l[j.27]=o}g={1F:g,1n:C(i,l)};g.1n.1D!=N&&d.U(g)}H d},1M:6(a,b){K c=J.35(a,b),d=N,h=e.13;I(c.L!==0)O(K g=0;g<c.L;g++){b=c[g];K i=b.1F,k=b.1n,j=k.1D,l;I(j!=N){I(k["1z-1k"]=="R"||e.2v["1z-1k"]==R){d=1f e.4l(j);j="4O"}Y I(d=A(j))d=1f d;Y 6H;l=i.3X;I(h.2M){l=l;K m=x(l),s=11;I(m.1i("<![6G[")==0){m=m.4h(9);s=R}K o=m.L;I(m.1i("]]\\>")==o-3){m=m.4h(0,o-3);s=R}l=s?m:l}I((i.1t||"")!="")k.1t=i.1t;k.1D=j;d.2Q(k);b=d.2F(l);I((i.1c||"")!="")b.1c=i.1c;i.2G.74(b,i)}}},2E:6(a){w(1P,"4k",6(){e.1M(a)})}};e.2E=e.2E;e.1M=e.1M;e.2L=6(a,b,c){J.1T=a;J.P=b;J.L=a.L;J.23=c;J.1V=N};e.2L.Z.1q=6(){H J.1T};e.4l=6(a){6 b(j,l){O(K m=0;m<j.L;m++)j[m].P+=l}K c=A(a),d,h=1f e.1U.5Y,g=J,i="2F 1H 2Q".1e(" ");I(c!=N){d=1f c;O(K k=0;k<i.L;k++)(6(){K j=i[k];g[j]=6(){H h[j].1p(h,14)}})();d.28==N?1P.1X(e.13.1x.1X+(e.13.1x.4g+a)):h.2J.U({1I:d.28.17,2D:6(j){O(K l=j.17,m=[],s=d.2J,o=j.P+j.18.L,F=d.28,q,G=0;G<s.L;G++){q=y(l,s[G]);b(q,o);m=m.1O(q)}I(F.18!=N&&j.18!=N){q=y(j.18,F.18);b(q,j.P);m=m.1O(q)}I(F.1b!=N&&j.1b!=N){q=y(j.1b,F.1b);b(q,j.P+j[0].5Q(j.1b));m=m.1O(q)}O(j=0;j<m.L;j++)m[j].1V=c.1V;H m}})}};e.4j=6(){};e.4j.Z={V:6(a,b){K c=J.1n[a];c=c==N?b:c;K d={"R":R,"11":11}[c];H d==N?c:d},3Y:6(a){H 1E.4i(a)},4c:6(a,b){K c=[];I(a!=N)O(K d=0;d<a.L;d++)I(1j a[d]=="2m")c=c.1O(y(b,a[d]));H J.4e(c.6b(D))},4e:6(a){O(K b=0;b<a.L;b++)I(a[b]!==N)O(K c=a[b],d=c.P+c.L,h=b+1;h<a.L&&a[b]!==N;h++){K g=a[h];I(g!==N)I(g.P>d)1N;Y I(g.P==c.P&&g.L>c.L)a[b]=N;Y I(g.P>=c.P&&g.P<d)a[h]=N}H a},4d:6(a){K b=[],c=2u(J.V("2i-1s"));v(a,6(d,h){b.U(h+c)});H b},3U:6(a){K b=J.V("1M",[]);I(1j b!="2m"&&b.U==N)b=[b];a:{a=a.1q();K c=3W 0;O(c=c=1Q.6c(c||0,0);c<b.L;c++)I(b[c]==a){b=c;1N a}b=-1}H b!=-1},2r:6(a,b,c){a=["1s","6i"+b,"P"+a,"6r"+(b%2==0?1:2).1q()];J.3U(b)&&a.U("67");b==0&&a.U("1N");H\'<T 1g="\'+a.1K(" ")+\'">\'+c+"</T>"},3Q:6(a,b){K c="",d=a.1e("\\n").L,h=2u(J.V("2i-1s")),g=J.V("2z-1s-2t");I(g==R)g=(h+d-1).1q().L;Y I(3R(g)==R)g=0;O(K i=0;i<d;i++){K k=b?b[i]:h+i,j;I(k==0)j=e.13.1W;Y{j=g;O(K l=k.1q();l.L<j;)l="0"+l;j=l}a=j;c+=J.2r(i,k,a)}H c},49:6(a,b){a=x(a);K c=a.1e("\\n");J.V("2z-1s-2t");K d=2u(J.V("2i-1s"));a="";O(K h=J.V("1D"),g=0;g<c.L;g++){K i=c[g],k=/^(&2s;|\\s)+/.X(i),j=N,l=b?b[g]:d+g;I(k!=N){j=k[0].1q();i=i.1o(j.L);j=j.Q(" ",e.13.1W)}i=x(i);I(i.L==0)i=e.13.1W;a+=J.2r(g,l,(j!=N?\'<17 1g="\'+h+\' 5N">\'+j+"</17>":"")+i)}H a},4f:6(a){H a?"<4a>"+a+"</4a>":""},4b:6(a,b){6 c(l){H(l=l?l.1V||g:g)?l+" ":""}O(K d=0,h="",g=J.V("1D",""),i=0;i<b.L;i++){K k=b[i],j;I(!(k===N||k.L===0)){j=c(k);h+=u(a.1o(d,k.P-d),j+"48")+u(k.1T,j+k.23);d=k.P+k.L+(k.75||0)}}h+=u(a.1o(d),c()+"48");H h},1H:6(a){K b="",c=["20"],d;I(J.V("2k")==R)J.1n.16=J.1n.1u=11;1l="20";J.V("2l")==R&&c.U("47");I((1u=J.V("1u"))==11)c.U("6S");c.U(J.V("1g-27"));c.U(J.V("1D"));a=a.Q(/^[ ]*[\\n]+|[\\n]*[ ]*$/g,"").Q(/\\r/g," ");b=J.V("43-22");I(J.V("42-45")==R)a=n(a,b);Y{O(K h="",g=0;g<b;g++)h+=" ";a=a.Q(/\\t/g,h)}a=a;a:{b=a=a;h=/<2R\\s*\\/?>|&1y;2R\\s*\\/?&1G;/2T;I(e.13.46==R)b=b.Q(h,"\\n");I(e.13.44==R)b=b.Q(h,"");b=b.1e("\\n");h=/^\\s*/;g=4Q;O(K i=0;i<b.L&&g>0;i++){K k=b[i];I(x(k).L!=0){k=h.X(k);I(k==N){a=a;1N a}g=1Q.4q(k[0].L,g)}}I(g>0)O(i=0;i<b.L;i++)b[i]=b[i].1o(g);a=b.1K("\\n")}I(1u)d=J.4d(a);b=J.4c(J.2J,a);b=J.4b(a,b);b=J.49(b,d);I(J.V("41-40"))b=E(b);1j 2H!="1d"&&2H.3S&&2H.3S.1C(/5s/)&&c.U("5t");H b=\'<T 1c="\'+t(J.1c)+\'" 1g="\'+c.1K(" ")+\'">\'+(J.V("16")?e.16.1H(J):"")+\'<3Z 5z="0" 5H="0" 5J="0">\'+J.4f(J.V("1t"))+"<3T><3P>"+(1u?\'<2d 1g="1u">\'+J.3Q(a)+"</2d>":"")+\'<2d 1g="17"><T 1g="3O">\'+b+"</T></2d></3P></3T></3Z></T>"},2F:6(a){I(a===N)a="";J.17=a;K b=J.3Y("T");b.3X=J.1H(a);J.V("16")&&w(p(b,".16"),"5c",e.16.2b);J.V("3V-17")&&w(p(b,".17"),"56",f);H b},2Q:6(a){J.1c=""+1Q.5d(1Q.5n()*5k).1q();e.1Y.2A[t(J.1c)]=J;J.1n=C(e.2v,a||{});I(J.V("2k")==R)J.1n.16=J.1n.1u=11},5j:6(a){a=a.Q(/^\\s+|\\s+$/g,"").Q(/\\s+/g,"|");H"\\\\b(?:"+a+")\\\\b"},5f:6(a){J.28={18:{1I:a.18,23:"1k"},1b:{1I:a.1b,23:"1k"},17:1f M("(?<18>"+a.18.1m+")(?<17>.*?)(?<1b>"+a.1b.1m+")","5o")}}};H e}();1j 2e!="1d"&&(2e.1v=1v);',62,441,'||||||function|||||||||||||||||||||||||||||||||||||return|if|this|var|length|XRegExp|null|for|index|replace|true||div|push|getParam|call|exec|else|prototype||false|lastIndex|config|arguments|RegExp|toolbar|code|left|captureNames|slice|right|id|undefined|split|new|class|addToken|indexOf|typeof|script|className|source|params|substr|apply|toString|String|line|title|gutter|SyntaxHighlighter|_xregexp|strings|lt|html|test|OUTSIDE_CLASS|match|brush|document|target|gt|getHtml|regex|global|join|style|highlight|break|concat|window|Math|isRegExp|throw|value|brushes|brushName|space|alert|vars|http|syntaxhighlighter|expandSource|size|css|case|font|Fa|name|htmlScript|dA|can|handler|gm|td|exports|color|in|href|first|discoveredBrushes|light|collapse|object|cache|getButtonHtml|trigger|pattern|getLineHtml|nbsp|numbers|parseInt|defaults|com|items|www|pad|highlighters|execute|focus|func|all|getDiv|parentNode|navigator|INSIDE_CLASS|regexList|hasFlag|Match|useScriptTags|hasNamedCapture|text|help|init|br|input|gi|Error|values|span|list|250|height|width|screen|top|500|tagName|findElements|getElementsByTagName|aboutDialog|_blank|appendChild|charAt|Array|copyAsGlobal|setFlag|highlighter_|string|attachEvent|nodeName|floor|backref|output|the|TypeError|sticky|Za|iterate|freezeTokens|scope|type|textarea|alexgorbatchev|version|margin|2010|005896|gs|regexLib|body|center|align|noBrush|require|childNodes|DTD|xhtml1|head|org|w3|url|preventDefault|container|tr|getLineNumbersHtml|isNaN|userAgent|tbody|isLineHighlighted|quick|void|innerHTML|create|table|links|auto|smart|tab|stripBrs|tabs|bloggerMode|collapsed|plain|getCodeLinesHtml|caption|getMatchesHtml|findMatches|figureOutLineNumbers|removeNestedMatches|getTitleHtml|brushNotHtmlScript|substring|createElement|Highlighter|load|HtmlScript|Brush|pre|expand|multiline|min|Can|ignoreCase|find|blur|extended|toLowerCase|aliases|addEventListener|innerText|textContent|wasn|select|createTextNode|removeChild|option|same|frame|xmlns|dtd|twice|1999|equiv|meta|htmlscript|transitional|1E3|expected|PUBLIC|DOCTYPE|on|W3C|XHTML|TR|EN|Transitional||configured|srcElement|Object|after|run|dblclick|matchChain|valueOf|constructor|default|switch|click|round|execAt|forHtmlScript|token|gimy|functions|getKeywords|1E6|escape|within|random|sgi|another|finally|supply|MSIE|ie|toUpperCase|catch|returnValue|definition|event|border|imsx|constructing|one|Infinity|from|when|Content|cellpadding|flags|cellspacing|try|xhtml|Type|spaces|2930402|hosted_button_id|lastIndexOf|donate|active|development|keep|to|xclick|_s|Xml|please|like|you|paypal|cgi|cmd|webscr|bin|highlighted|scrollbars|aspScriptTags|phpScriptTags|sort|max|scriptScriptTags|toolbar_item|_|command|command_|number|getElementById|doubleQuotedString|singleLinePerlComments|singleLineCComments|multiLineCComments|singleQuotedString|multiLineDoubleQuotedString|xmlComments|alt|multiLineSingleQuotedString|If|https|1em|000|fff|background|5em|xx|bottom|75em|Gorbatchev|large|serif|CDATA|continue|utf|charset|content|About|family|sans|Helvetica|Arial|Geneva|3em|nogutter|Copyright|syntax|close|write|2004|Alex|open|JavaScript|highlighter|July|02|replaceChild|offset|83'.split('|'),0,{}))
</script>
<!-- shBrushAci.js -->
<script type="text/javascript">
;(function()
{
  // CommonJS
  SyntaxHighlighter = SyntaxHighlighter || (typeof require !== 'undefined'?
          require('shCore').SyntaxHighlighter : null);

  function Brush()
  {
    var keywords = 'aci acl add all allow anyone authmethod compare '
        + 'dayofweek  delete deny dns export extop groupdn import ip '
        + 'parent proxy read search self selfwrite ssf target ' +
        + 'targetattr targattrfilters targetcontrol targetfilter '
        + 'targetscope timeofday userattr userdn write';
    /* Need to separate keywords having another keyword as a prefix */
    var repeated = 'allow targetattr targattrfilters targetcontrol '
        + 'targetfilter targetscope';
    this.regexList = [
      { regex: new RegExp(this.getKeywords(keywords), 'gim'), css: 'keyword' },
      { regex: new RegExp(this.getKeywords(repeated), 'gim'), css: 'keyword' },
      { regex: /version 3\.0/g,                               css: 'keyword' },
      { regex: SyntaxHighlighter.regexLib.multiLineDoubleQuotedString, css: 'string' },
      { regex: /[\(\);]/g,                                    css: 'color3' },
    ];
  };

  Brush.prototype = new SyntaxHighlighter.Highlighter();
  Brush.aliases = ['aci'];

  SyntaxHighlighter.brushes.Aci = Brush;

  // CommonJS
  typeof(exports) != 'undefined' ? exports.Brush = Brush : null;
})();
</script>
<!-- shBrushBash.js -->
<script type="text/javascript">/**
 * SyntaxHighlighter
 * http://alexgorbatchev.com/SyntaxHighlighter
 *
 * SyntaxHighlighter is donationware. If you are using it, please donate.
 * http://alexgorbatchev.com/SyntaxHighlighter/donate.html
 *
 * @version
 * 3.0.83 (July 02 2010)
 * 
 * @copyright
 * Copyright (C) 2004-2010 Alex Gorbatchev.
 *
 * @license
 * Dual licensed under the MIT and GPL licenses.
 */
;(function()
{
 // CommonJS
 typeof(require) != 'undefined' ? SyntaxHighlighter = require('shCore').SyntaxHighlighter : null;

 function Brush()
 {
  var keywords = 'if fi then elif else for do done until while break continue case function return in eq ne ge le';
  var commands =  'alias apropos awk basename bash bc bg builtin bzip2 cal cat cd cfdisk chgrp chmod chown chroot' +
      'cksum clear cmp comm command cp cron crontab csplit cut date dc dd ddrescue declare df ' +
      'diff diff3 dig dir dircolors dirname dirs du echo egrep eject enable env ethtool eval ' +
      'exec exit expand export expr false fdformat fdisk fg fgrep file find fmt fold format ' +
      'free fsck ftp gawk getopts grep groups gzip hash head history hostname id ifconfig ' +
      'import install join kill less let ln local locate logname logout look lpc lpr lprint ' +
      'lprintd lprintq lprm ls lsof make man mkdir mkfifo mkisofs mknod more mount mtools ' +
      'mv netstat nice nl nohup nslookup open op passwd paste pathchk ping popd pr printcap ' +
      'printenv printf ps pushd pwd quota quotacheck quotactl ram rcp read readonly renice ' +
      'remsync rm rmdir rsync screen scp sdiff sed select seq set sftp shift shopt shutdown ' +
      'sleep sort source split ssh strace su sudo sum symlink sync tail tar tee test time ' +
      'times touch top traceroute trap tr true tsort tty type ulimit umask umount unalias ' +
      'uname unexpand uniq units unset unshar useradd usermod users uuencode uudecode v vdir ' +
      'vi watch wc whereis which who whoami Wget xargs yes'
      ;

  this.regexList = [
   { regex: /^#!.*$/gm,           css: 'preprocessor bold' },
   { regex: /\/[\w-\/]+/gm,          css: 'plain' },
   { regex: SyntaxHighlighter.regexLib.singleLinePerlComments,  css: 'comments' },  // one line comments
   { regex: SyntaxHighlighter.regexLib.doubleQuotedString,   css: 'string' },  // double quoted strings
   { regex: SyntaxHighlighter.regexLib.singleQuotedString,   css: 'string' },  // single quoted strings
   { regex: new RegExp(this.getKeywords(keywords), 'gm'),   css: 'keyword' },  // keywords
   { regex: new RegExp(this.getKeywords(commands), 'gm'),   css: 'functions' }  // commands
   ];
 }

 Brush.prototype = new SyntaxHighlighter.Highlighter();
 Brush.aliases = ['bash', 'shell'];

 SyntaxHighlighter.brushes.Bash = Brush;

 // CommonJS
 typeof(exports) != 'undefined' ? exports.Brush = Brush : null;
})();
</script>
<!-- shBrushCsv.js -->
<script type="text/javascript">
;(function()
{
  // CommonJS
  typeof(require) != 'undefined' ? SyntaxHighlighter =
    require('shCore').SyntaxHighlighter : null;

  function Brush()
  {
    this.regexList = [
      { regex: /[#!;].+(\n|\r)/g,                       css: 'comments'},
      { regex: SyntaxHighlighter.regexLib.url,          css: 'a'},
      { regex: /,/g,                                    css: 'color3'},
      { regex: /[^,"';]/g,                              css: 'string'},
    ];
  };

  Brush.prototype = new SyntaxHighlighter.Highlighter();
  Brush.aliases = ['csv'];

  SyntaxHighlighter.brushes.Csv = Brush;

  // CommonJS
  typeof(exports) != 'undefined' ? exports.Brush = Brush : null;
})();
</script>
<!-- shBrushHttp.js -->
<script type="text/javascript">
;(function()
{
  // CommonJS
  typeof(require) != 'undefined' ? SyntaxHighlighter =
    require('shCore').SyntaxHighlighter : null;

  function Brush()
  {
    var keywords = 'CONNECT DELETE GET HEAD OPTIONS PATCH POST PUT TRACE';
    this.regexList = [
      { regex: new RegExp(this.getKeywords(keywords), 'gm'), css: 'keyword'},
      { regex: /HTTP\/\d\.\d/g,                              css: 'color2'},  // e.g. HTTP/1.1
      { regex: /HTTP\/\d\.\d\s\d{3}\s[\w\s]+(\r|\n)/g,       css: 'color2'},  // 1st line of response
      { regex: /:/g,                                         css: 'color3'},
      { regex: /(\"[^\"]+\"|\'[^\']+\'|\[[^\]]+\])/g,        css: 'string'},  // Strings including [Notes]
      { regex: /\s(\/[^\s]+)\s/g,                            css: 'color2'},  // Absolute URI
      { regex: /[\w-]+(?=:)/g,                               css: 'constants'}, // Header names
    ];
  };

  Brush.prototype = new SyntaxHighlighter.Highlighter();
  Brush.aliases = ['http'];

  SyntaxHighlighter.brushes.Http = Brush;

  // CommonJS
  typeof(exports) != 'undefined' ? exports.Brush = Brush : null;
})();
</script>
<!-- shBrushJava.js -->
<script type="text/javascript">/**
 * SyntaxHighlighter
 * http://alexgorbatchev.com/SyntaxHighlighter
 *
 * SyntaxHighlighter is donationware. If you are using it, please donate.
 * http://alexgorbatchev.com/SyntaxHighlighter/donate.html
 *
 * @version
 * 3.0.83 (July 02 2010)
 * 
 * @copyright
 * Copyright (C) 2004-2010 Alex Gorbatchev.
 *
 * @license
 * Dual licensed under the MIT and GPL licenses.
 */
;(function()
{
 // CommonJS
 typeof(require) != 'undefined' ? SyntaxHighlighter = require('shCore').SyntaxHighlighter : null;

 function Brush()
 {
  var keywords = 'abstract assert boolean break byte case catch char class const ' +
      'continue default do double else enum extends ' +
      'false final finally float for goto if implements import ' +
      'instanceof int interface long native new null ' +
      'package private protected public return ' +
      'short static strictfp super switch synchronized this throw throws true ' +
      'transient try void volatile while';

  this.regexList = [
   { regex: SyntaxHighlighter.regexLib.singleLineCComments, css: 'comments' },  // one line comments
   { regex: /\/\*([^\*][\s\S]*)?\*\//gm,      css: 'comments' },   // multiline comments
   { regex: /\/\*(?!\*\/)\*[\s\S]*?\*\//gm,     css: 'preprocessor' }, // documentation comments
   { regex: SyntaxHighlighter.regexLib.doubleQuotedString,  css: 'string' },  // strings
   { regex: SyntaxHighlighter.regexLib.singleQuotedString,  css: 'string' },  // strings
   { regex: /\b([\d]+(\.[\d]+)?|0x[a-f0-9]+)\b/gi,    css: 'value' },   // numbers
   { regex: /(?!\@interface\b)\@[\$\w]+\b/g,     css: 'color1' },  // annotation @anno
   { regex: /\@interface\b/g,         css: 'color2' },  // @interface keyword
   { regex: new RegExp(this.getKeywords(keywords), 'gm'),  css: 'keyword' }  // java keyword
   ];

  this.forHtmlScript({
   left : /(&lt;|<)%[@!=]?/g, 
   right : /%(&gt;|>)/g 
  });
 };

 Brush.prototype = new SyntaxHighlighter.Highlighter();
 Brush.aliases = ['java'];

 SyntaxHighlighter.brushes.Java = Brush;

 // CommonJS
 typeof(exports) != 'undefined' ? exports.Brush = Brush : null;
})();
</script>
<!-- shBrushJScript.js -->
<script type="text/javascript">/**
 * SyntaxHighlighter
 * http://alexgorbatchev.com/SyntaxHighlighter
 *
 * SyntaxHighlighter is donationware. If you are using it, please donate.
 * http://alexgorbatchev.com/SyntaxHighlighter/donate.html
 *
 * @version
 * 3.0.83 (July 02 2010)
 * 
 * @copyright
 * Copyright (C) 2004-2010 Alex Gorbatchev.
 *
 * @license
 * Dual licensed under the MIT and GPL licenses.
 */
;(function()
{
 // CommonJS
 typeof(require) != 'undefined' ? SyntaxHighlighter = require('shCore').SyntaxHighlighter : null;

 function Brush()
 {
  var keywords = 'break case catch continue ' +
      'default delete do else false  ' +
      'for function if in instanceof ' +
      'new null return super switch ' +
      'this throw true try typeof var while with'
      ;

  var r = SyntaxHighlighter.regexLib;
  
  this.regexList = [
   { regex: r.multiLineDoubleQuotedString,     css: 'string' },   // double quoted strings
   { regex: r.multiLineSingleQuotedString,     css: 'string' },   // single quoted strings
   { regex: r.singleLineCComments,       css: 'comments' },   // one line comments
   { regex: r.multiLineCComments,       css: 'comments' },   // multiline comments
   { regex: /\s*#.*/gm,         css: 'preprocessor' },  // preprocessor tags like #region and #endregion
   { regex: new RegExp(this.getKeywords(keywords), 'gm'), css: 'keyword' }   // keywords
   ];
 
  this.forHtmlScript(r.scriptScriptTags);
 };

 Brush.prototype = new SyntaxHighlighter.Highlighter();
 Brush.aliases = ['js', 'jscript', 'javascript'];

 SyntaxHighlighter.brushes.JScript = Brush;

 // CommonJS
 typeof(exports) != 'undefined' ? exports.Brush = Brush : null;
})();
</script>
<!-- shBrushLDIF.js -->
<script type="text/javascript">
;(function()
{
  // CommonJS
  SyntaxHighlighter = SyntaxHighlighter || (typeof require !== 'undefined'?
      require('shCore').SyntaxHighlighter : null);

  function Brush()
  {
    var keywords = 'add changetype control delete deleteoldrdn dn moddn ' +
                   'modify modrdn newrdn newsuperior replace version';
    
    this.regexList = [
      { regex: new RegExp(this.getKeywords(keywords), 'gmi'),     css: 'keyword' },
      { regex: SyntaxHighlighter.regexLib.singleLinePerlComments, css: 'comments' },
      { regex: SyntaxHighlighter.regexLib.url,                    css: 'a' },
      { regex: /\b(\d+\.)+\d+\b/g,                                css: 'constants' },// OID
      { regex: /\b(true|false)\b/g,                               css: 'constants' },
      { regex: /-(\n|$)/g,                                        css: 'color3' },  // Separator
      { regex: /:<|:&lt;|:/g,                                     css: 'color3' },  // Separator
      { regex: /[\w;-]+(?=:.*(\r|\n)?)/g,                         css: 'string' },  // Attr type
    ];
  };

  Brush.prototype = new SyntaxHighlighter.Highlighter();
  Brush.aliases = ['ldif'];

  SyntaxHighlighter.brushes.LDIF = Brush;

  // CommonJS
  typeof(exports) != 'undefined' ? exports.Brush = Brush : null;
})();
</script>
<!-- shBrushPlain.js -->
<script type="text/javascript">/**
 * SyntaxHighlighter
 * http://alexgorbatchev.com/SyntaxHighlighter
 *
 * SyntaxHighlighter is donationware. If you are using it, please donate.
 * http://alexgorbatchev.com/SyntaxHighlighter/donate.html
 *
 * @version
 * 3.0.83 (July 02 2010)
 * 
 * @copyright
 * Copyright (C) 2004-2010 Alex Gorbatchev.
 *
 * @license
 * Dual licensed under the MIT and GPL licenses.
 */
;(function()
{
 // CommonJS
 typeof(require) != 'undefined' ? SyntaxHighlighter = require('shCore').SyntaxHighlighter : null;

 function Brush()
 {
 };

 Brush.prototype = new SyntaxHighlighter.Highlighter();
 Brush.aliases = ['text', 'plain'];

 SyntaxHighlighter.brushes.Plain = Brush;

 // CommonJS
 typeof(exports) != 'undefined' ? exports.Brush = Brush : null;
})();
</script>
<!-- shBrushProperties.js -->
<script type="text/javascript">
;(function()
{
  // CommonJS
  typeof(require) != 'undefined' ? SyntaxHighlighter =
    require('shCore').SyntaxHighlighter : null;

  function Brush()
  {
    this.regexList = [
      { regex: /[#!;].+(\n|\r)/g,                        css: 'comments'},
      { regex: SyntaxHighlighter.regexLib.url,           css: 'a'},
      { regex: /[=:]/g,                                  css: 'color3'},
      { regex: /\[\w+\]/g,                               css: 'keyword'},
      { regex: /([^\s]|\\ )+(\s+)?(?=(=|:).+(\n|\r)?)/g, css: 'string'},
    ];
  };

  Brush.prototype = new SyntaxHighlighter.Highlighter();
  Brush.aliases = ['ini', 'properties'];

  SyntaxHighlighter.brushes.Properties = Brush;

  // CommonJS
  typeof(exports) != 'undefined' ? exports.Brush = Brush : null;
})();
</script>
<!-- shBrushXml.js -->
<script type="text/javascript">/**
 * SyntaxHighlighter
 * http://alexgorbatchev.com/SyntaxHighlighter
 *
 * SyntaxHighlighter is donationware. If you are using it, please donate.
 * http://alexgorbatchev.com/SyntaxHighlighter/donate.html
 *
 * @version
 * 3.0.83 (July 02 2010)
 * 
 * @copyright
 * Copyright (C) 2004-2010 Alex Gorbatchev.
 *
 * @license
 * Dual licensed under the MIT and GPL licenses.
 */
;(function()
{
 // CommonJS
 typeof(require) != 'undefined' ? SyntaxHighlighter = require('shCore').SyntaxHighlighter : null;

 function Brush()
 {
  function process(match, regexInfo)
  {
   var constructor = SyntaxHighlighter.Match,
    code = match[0],
    tag = new XRegExp('(&lt;|<)[\\s\\/\\?]*(?<name>[:\\w-\\.]+)', 'xg').exec(code),
    result = []
    ;
  
   if (match.attributes != null) 
   {
    var attributes,
     regex = new XRegExp('(?<name> [\\w:\\-\\.]+)' +
          '\\s*=\\s*' +
          '(?<value> ".*?"|\'.*?\'|\\w+)',
          'xg');

    while ((attributes = regex.exec(code)) != null) 
    {
     result.push(new constructor(attributes.name, match.index + attributes.index, 'color1'));
     result.push(new constructor(attributes.value, match.index + attributes.index + attributes[0].indexOf(attributes.value), 'string'));
    }
   }

   if (tag != null)
    result.push(
     new constructor(tag.name, match.index + tag[0].indexOf(tag.name), 'keyword')
    );

   return result;
  }
 
  this.regexList = [
   { regex: new XRegExp('(\\&lt;|<)\\!\\[[\\w\\s]*?\\[(.|\\s)*?\\]\\](\\&gt;|>)', 'gm'),   css: 'color2' }, // <![ ... [ ... ]]>
   { regex: SyntaxHighlighter.regexLib.xmlComments,            css: 'comments' }, // <!-- ... -->
   { regex: new XRegExp('(&lt;|<)[\\s\\/\\?]*(\\w+)(?<attributes>.*?)[\\s\\/\\?]*(&gt;|>)', 'sg'), func: process }
  ];
 };

 Brush.prototype = new SyntaxHighlighter.Highlighter();
 Brush.aliases = ['xml', 'xhtml', 'xslt', 'html'];

 SyntaxHighlighter.brushes.Xml = Brush;

 // CommonJS
 typeof(exports) != 'undefined' ? exports.Brush = Brush : null;
})();
</script>
<!-- shCoreEclipse.css -->
<style type="text/css">/**
 * SyntaxHighlighter
 * http://alexgorbatchev.com/SyntaxHighlighter
 *
 * SyntaxHighlighter is donationware. If you are using it, please donate.
 * http://alexgorbatchev.com/SyntaxHighlighter/donate.html
 *
 * @version
 * 3.0.83 (July 02 2010)
 * 
 * @copyright
 * Copyright (C) 2004-2010 Alex Gorbatchev.
 *
 * @license
 * Dual licensed under the MIT and GPL licenses.
 */
.syntaxhighlighter a,
.syntaxhighlighter div,
.syntaxhighlighter code,
.syntaxhighlighter table,
.syntaxhighlighter table td,
.syntaxhighlighter table tr,
.syntaxhighlighter table tbody,
.syntaxhighlighter table thead,
.syntaxhighlighter table caption,
.syntaxhighlighter textarea {
  -moz-border-radius: 0 0 0 0 !important;
  -webkit-border-radius: 0 0 0 0 !important;
  background: none !important;
  border: 0 !important;
  bottom: auto !important;
  float: none !important;
  height: auto !important;
  left: auto !important;
  line-height: 1.2em !important;
  margin: 0 !important;
  outline: 0 !important;
  overflow: visible !important;
  padding: 0 !important;
  position: static !important;
  right: auto !important;
  text-align: left !important;
  top: auto !important;
  vertical-align: baseline !important;
  width: auto !important;
  box-sizing: content-box !important;
  font-family: "Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important;
  font-weight: normal !important;
  font-style: normal !important;
  font-size: 1em !important;
  min-height: inherit !important;
  min-height: auto !important;
}

.syntaxhighlighter {
  width: 100% !important;
  margin: 1em 0 1em 0 !important;
  position: relative !important;
  overflow: auto !important;
  font-size: 1em !important;
}
.syntaxhighlighter.source {
  overflow: hidden !important;
}
.syntaxhighlighter .bold {
  font-weight: bold !important;
}
.syntaxhighlighter .italic {
  font-style: italic !important;
}
.syntaxhighlighter .line {
  white-space: pre !important;
}
.syntaxhighlighter table {
  width: 100% !important;
}
.syntaxhighlighter table caption {
  text-align: left !important;
  padding: .5em 0 0.5em 1em !important;
}
.syntaxhighlighter table td.code {
  width: 100% !important;
}
.syntaxhighlighter table td.code .container {
  position: relative !important;
}
.syntaxhighlighter table td.code .container textarea {
  box-sizing: border-box !important;
  position: absolute !important;
  left: 0 !important;
  top: 0 !important;
  width: 100% !important;
  height: 100% !important;
  border: none !important;
  background: white !important;
  padding-left: 1em !important;
  overflow: hidden !important;
  white-space: pre !important;
}
.syntaxhighlighter table td.gutter .line {
  text-align: right !important;
  padding: 0 0.5em 0 1em !important;
}
.syntaxhighlighter table td.code .line {
  padding: 0 1em !important;
}
.syntaxhighlighter.nogutter td.code .container textarea, .syntaxhighlighter.nogutter td.code .line {
  padding-left: 0em !important;
}
.syntaxhighlighter.show {
  display: block !important;
}
.syntaxhighlighter.collapsed table {
  display: none !important;
}
.syntaxhighlighter.collapsed .toolbar {
  padding: 0.1em 0.8em 0em 0.8em !important;
  font-size: 1em !important;
  position: static !important;
  width: auto !important;
  height: auto !important;
}
.syntaxhighlighter.collapsed .toolbar span {
  display: inline !important;
  margin-right: 1em !important;
}
.syntaxhighlighter.collapsed .toolbar span a {
  padding: 0 !important;
  display: none !important;
}
.syntaxhighlighter.collapsed .toolbar span a.expandSource {
  display: inline !important;
}
.syntaxhighlighter .toolbar {
  position: absolute !important;
  right: 1px !important;
  top: 1px !important;
  width: 11px !important;
  height: 11px !important;
  font-size: 10px !important;
  z-index: 10 !important;
}
.syntaxhighlighter .toolbar span.title {
  display: inline !important;
}
.syntaxhighlighter .toolbar a {
  display: block !important;
  text-align: center !important;
  text-decoration: none !important;
  padding-top: 1px !important;
}
.syntaxhighlighter .toolbar a.expandSource {
  display: none !important;
}
.syntaxhighlighter.ie {
  font-size: .9em !important;
  padding: 1px 0 1px 0 !important;
}
.syntaxhighlighter.ie .toolbar {
  line-height: 8px !important;
}
.syntaxhighlighter.ie .toolbar a {
  padding-top: 0px !important;
}
.syntaxhighlighter.printing .line.alt1 .content,
.syntaxhighlighter.printing .line.alt2 .content,
.syntaxhighlighter.printing .line.highlighted .number,
.syntaxhighlighter.printing .line.highlighted.alt1 .content,
.syntaxhighlighter.printing .line.highlighted.alt2 .content {
  background: none !important;
}
.syntaxhighlighter.printing .line .number {
  color: #bbbbbb !important;
}
.syntaxhighlighter.printing .line .content {
  color: black !important;
}
.syntaxhighlighter.printing .toolbar {
  display: none !important;
}
.syntaxhighlighter.printing a {
  text-decoration: none !important;
}
.syntaxhighlighter.printing .plain, .syntaxhighlighter.printing .plain a {
  color: black !important;
}
.syntaxhighlighter.printing .comments, .syntaxhighlighter.printing .comments a {
  color: #008200 !important;
}
.syntaxhighlighter.printing .string, .syntaxhighlighter.printing .string a {
  color: blue !important;
}
.syntaxhighlighter.printing .keyword {
  color: #006699 !important;
  font-weight: bold !important;
}
.syntaxhighlighter.printing .preprocessor {
  color: gray !important;
}
.syntaxhighlighter.printing .variable {
  color: #aa7700 !important;
}
.syntaxhighlighter.printing .value {
  color: #009900 !important;
}
.syntaxhighlighter.printing .functions {
  color: #ff1493 !important;
}
.syntaxhighlighter.printing .constants {
  color: #0066cc !important;
}
.syntaxhighlighter.printing .script {
  font-weight: bold !important;
}
.syntaxhighlighter.printing .color1, .syntaxhighlighter.printing .color1 a {
  color: gray !important;
}
.syntaxhighlighter.printing .color2, .syntaxhighlighter.printing .color2 a {
  color: #ff1493 !important;
}
.syntaxhighlighter.printing .color3, .syntaxhighlighter.printing .color3 a {
  color: red !important;
}
.syntaxhighlighter.printing .break, .syntaxhighlighter.printing .break a {
  color: black !important;
}

.syntaxhighlighter {
  background-color: white !important;
}
.syntaxhighlighter .line.alt1 {
  background-color: white !important;
}
.syntaxhighlighter .line.alt2 {
  background-color: white !important;
}
.syntaxhighlighter .line.highlighted.alt1, .syntaxhighlighter .line.highlighted.alt2 {
  background-color: #c3defe !important;
}
.syntaxhighlighter .line.highlighted.number {
  color: white !important;
}
.syntaxhighlighter table caption {
  color: black !important;
}
.syntaxhighlighter .gutter {
  color: #787878 !important;
}
.syntaxhighlighter .gutter .line {
  border-right: 3px solid #d4d0c8 !important;
}
.syntaxhighlighter .gutter .line.highlighted {
  background-color: #d4d0c8 !important;
  color: white !important;
}
.syntaxhighlighter.printing .line .content {
  border: none !important;
}
.syntaxhighlighter.collapsed {
  overflow: visible !important;
}
.syntaxhighlighter.collapsed .toolbar {
  color: #3f5fbf !important;
  background: white !important;
  border: 1px solid #d4d0c8 !important;
}
.syntaxhighlighter.collapsed .toolbar a {
  color: #3f5fbf !important;
}
.syntaxhighlighter.collapsed .toolbar a:hover {
  color: #aa7700 !important;
}
.syntaxhighlighter .toolbar {
  color: #a0a0a0 !important;
  background: #d4d0c8 !important;
  border: none !important;
}
.syntaxhighlighter .toolbar a {
  color: #a0a0a0 !important;
}
.syntaxhighlighter .toolbar a:hover {
  color: red !important;
}
.syntaxhighlighter .plain, .syntaxhighlighter .plain a {
  color: black !important;
}
.syntaxhighlighter .comments, .syntaxhighlighter .comments a {
  color: #3f5fbf !important;
}
.syntaxhighlighter .string, .syntaxhighlighter .string a {
  color: #2a00ff !important;
}
.syntaxhighlighter .keyword {
  color: #7f0055 !important;
}
.syntaxhighlighter .preprocessor {
  color: #646464 !important;
}
.syntaxhighlighter .variable {
  color: #aa7700 !important;
}
.syntaxhighlighter .value {
  color: #009900 !important;
}
.syntaxhighlighter .functions {
  color: #ff1493 !important;
}
.syntaxhighlighter .constants {
  color: #0066cc !important;
}
.syntaxhighlighter .script {
  font-weight: bold !important;
  color: #7f0055 !important;
  background-color: none !important;
}
.syntaxhighlighter .color1, .syntaxhighlighter .color1 a {
  color: gray !important;
}
.syntaxhighlighter .color2, .syntaxhighlighter .color2 a {
  color: #ff1493 !important;
}
.syntaxhighlighter .color3, .syntaxhighlighter .color3 a {
  color: red !important;
}

.syntaxhighlighter .keyword {
  font-weight: bold !important;
}
.syntaxhighlighter .xml .keyword {
  color: #3f7f7f !important;
  font-weight: normal !important;
}
.syntaxhighlighter .xml .color1, .syntaxhighlighter .xml .color1 a {
  color: #7f007f !important;
}
.syntaxhighlighter .xml .string {
  font-style: italic !important;
  color: #2a00ff !important;
}
</style>
<!-- shThemeEclipse.css -->
<style type="text/css">/**
 * SyntaxHighlighter
 * http://alexgorbatchev.com/SyntaxHighlighter
 *
 * SyntaxHighlighter is donationware. If you are using it, please donate.
 * http://alexgorbatchev.com/SyntaxHighlighter/donate.html
 *
 * @version
 * 3.0.83 (July 02 2010)
 * 
 * @copyright
 * Copyright (C) 2004-2010 Alex Gorbatchev.
 *
 * @license
 * Dual licensed under the MIT and GPL licenses.
 */
.syntaxhighlighter {
  background-color: white !important;
}
.syntaxhighlighter .line.alt1 {
  background-color: white !important;
}
.syntaxhighlighter .line.alt2 {
  background-color: white !important;
}
.syntaxhighlighter .line.highlighted.alt1, .syntaxhighlighter .line.highlighted.alt2 {
  background-color: #c3defe !important;
}
.syntaxhighlighter .line.highlighted.number {
  color: white !important;
}
.syntaxhighlighter table caption {
  color: black !important;
}
.syntaxhighlighter .gutter {
  color: #787878 !important;
}
.syntaxhighlighter .gutter .line {
  border-right: 3px solid #d4d0c8 !important;
}
.syntaxhighlighter .gutter .line.highlighted {
  background-color: #d4d0c8 !important;
  color: white !important;
}
.syntaxhighlighter.printing .line .content {
  border: none !important;
}
.syntaxhighlighter.collapsed {
  overflow: visible !important;
}
.syntaxhighlighter.collapsed .toolbar {
  color: #3f5fbf !important;
  background: white !important;
  border: 1px solid #d4d0c8 !important;
}
.syntaxhighlighter.collapsed .toolbar a {
  color: #3f5fbf !important;
}
.syntaxhighlighter.collapsed .toolbar a:hover {
  color: #aa7700 !important;
}
.syntaxhighlighter .toolbar {
  color: #a0a0a0 !important;
  background: #d4d0c8 !important;
  border: none !important;
}
.syntaxhighlighter .toolbar a {
  color: #a0a0a0 !important;
}
.syntaxhighlighter .toolbar a:hover {
  color: red !important;
}
.syntaxhighlighter .plain, .syntaxhighlighter .plain a {
  color: black !important;
}
.syntaxhighlighter .comments, .syntaxhighlighter .comments a {
  color: #3f5fbf !important;
}
.syntaxhighlighter .string, .syntaxhighlighter .string a {
  color: #2a00ff !important;
}
.syntaxhighlighter .keyword {
  color: #7f0055 !important;
}
.syntaxhighlighter .preprocessor {
  color: #646464 !important;
}
.syntaxhighlighter .variable {
  color: #aa7700 !important;
}
.syntaxhighlighter .value {
  color: #009900 !important;
}
.syntaxhighlighter .functions {
  color: #ff1493 !important;
}
.syntaxhighlighter .constants {
  color: #0066cc !important;
}
.syntaxhighlighter .script {
  font-weight: bold !important;
  color: #7f0055 !important;
  background-color: none !important;
}
.syntaxhighlighter .color1, .syntaxhighlighter .color1 a {
  color: gray !important;
}
.syntaxhighlighter .color2, .syntaxhighlighter .color2 a {
  color: #ff1493 !important;
}
.syntaxhighlighter .color3, .syntaxhighlighter .color3 a {
  color: red !important;
}

.syntaxhighlighter .keyword {
  font-weight: bold !important;
}
.syntaxhighlighter .xml .keyword {
  color: #3f7f7f !important;
  font-weight: normal !important;
}
.syntaxhighlighter .xml .color1, .syntaxhighlighter .xml .color1 a {
  color: #7f007f !important;
}
.syntaxhighlighter .xml .string {
  font-style: italic !important;
  color: #2a00ff !important;
}
</style>
<script type="text/javascript">SyntaxHighlighter.all();</script>
<!-- END SyntaxHighlighter 3.0.83 -->
<link rel="shortcut icon" href="http://forgerock.org/favicon.ico">
</head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="en" class="book" title="OpenDJ 2.6.0 SDK Developer's Guide"><div class="titlepage"><div><div><h1 class="title"><a name="dev-guide"></a>OpenDJ 2.6.0 SDK Developer's Guide</h1></div><div><div class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">Mark</span> <span class="surname">Craig</span></h3></div><div class="author"><h3 class="author"><span class="firstname">Ludovic</span> <span class="surname">Poitou</span></h3></div></div></div><div><p class="releaseinfo">Software release date: July 04, 2013</p></div><div><p class="copyright">Copyright &copy; 2011-2013 ForgeRock AS</p></div><div><a href="legalnotice.html">Legal Notice</a></div><div><p class="pubdate">Publication date: July&nbsp;03,&nbsp;2013</p></div><div><div class="abstract" title="Abstract"><div class="abstract-title">Abstract</div><p>Hands-on guide to developing applications with the OpenDJ SDK. The
   OpenDJ project offers open source LDAP directory services in Java.</p></div></div></div><hr></div><div class="toc"><div class="toc-title">Table of Contents</div><dl><dt><span class="preface"><a href="#preface">Preface</a></span></dt><dt><span class="chapter"><a href="#chap-understanding-ldap">1. Understanding LDAP</a></span></dt><dt><span class="chapter"><a href="#chap-best-practices">2. Best Practices For LDAP Application Developers</a></span></dt><dt><span class="chapter"><a href="#chap-get-sdk">3. Getting OpenDJ LDAP SDK</a></span></dt><dt><span class="chapter"><a href="#chap-using-the-sdk">4. Using the LDAP SDK</a></span></dt><dt><span class="chapter"><a href="#chap-authenticating">5. Authenticating To the Directory</a></span></dt><dt><span class="chapter"><a href="#chap-reading">6. Searching &amp; Comparing Directory Data</a></span></dt><dt><span class="chapter"><a href="#chap-getting-directory-info">7. Getting Information About the Directory Service</a></span></dt><dt><span class="chapter"><a href="#chap-writing">8. Updating Directory Data</a></span></dt><dt><span class="chapter"><a href="#chap-ldif">9. Working With LDIF</a></span></dt><dt><span class="chapter"><a href="#chap-controls">10. Working With Controls</a></span></dt><dt><span class="chapter"><a href="#chap-extended-ops">11. Working With Extended Operations</a></span></dt><dt><span class="chapter"><a href="#chap-i18n">12. Internationalizing Applications</a></span></dt><dt><span class="chapter"><a href="#chap-simple-proxy">13. Writing a Simple LDAP Proxy</a></span></dt><dt><span class="reference"><a href="#dev-tools-ref">I. Tools Reference</a></span></dt><dt><span class="glossary"><a href="#glossary">OpenDJ Glossary</a></span></dt><dt><span class="index"><a href="#d564e7237">Index</a></span></dt></dl></div><div lang="en" class="preface" title="Preface"><div class="titlepage"><div><div><h2 class="title"><a name="preface"></a>Preface</h2></div></div></div><p>This guide shows you how to work with OpenDJ SDK to create client
 applications in the Java language to connect to LDAP servers and perform
 LDAP operations.</p><div class="section" title="1.&nbsp;Who Should Read this Guide"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d564e102"></a>1.&nbsp;Who Should Read this Guide</h2></div></div></div><p>This guide is written for Java developers who want to build directory
  client applications with OpenDJ LDAP SDK.</p><p>This guide starts by explaining LDAP directories briefly, and
  describing best practices for LDAP client applications. Then it demonstrates
  how to install and use OpenDJ LDAP SDK to build LDAP clients.</p><p>You do not need to be an LDAP wizard to learn something from this
  guide. You do need some background in writing Java 6 and client-server
  applications to get the most out of this guide. You can nevertheless get
  started with this guide, and then learn more as you go along.</p></div><div lang="en" class="section" title="2.&nbsp;Formatting Conventions"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="formatting-conventions"></a>2.&nbsp;Formatting Conventions</h2></div></div></div><p>Some items are formatted differently from other text, like
 <code class="filename">filenames</code>, <span class="command"><strong>commands</strong></span>, and
 <code class="literal">literal values</code>.</p><div class="screen"><pre class="brush: plain;">$ echo Command line sessions are formatted with lines folded for easier reading.
 In HTML documents click the [-] image for a flat, copy-paste version. Click
 the [+] image for an expanded, line-wrapped version. &gt; /dev/null</pre></div><p>In many cases, sections pertaining to UNIX, GNU/Linux, Mac OS X, BSD,
 and so forth are marked (UNIX). Sections pertaining to Microsoft Windows
 might be marked (Windows). To avoid repetition, however, file system
 directory names are often given only in UNIX format as in
 <code class="filename">/path/to/server</code>, even if the text applies to
 <code class="filename">C:\path\to\server</code> as well.</p><p>Absolute path names usually begin with the placeholder
 <code class="filename">/path/to/</code>, which might translate to
 <code class="filename">/opt/</code>, <code class="filename">C:\Program Files\</code>, or
 somewhere else on your system. Unless you install from native packages,
 you create this location before you install.</p><pre class="brush: java;">class Test {
    public static void main(String [] args)  {
        System.out.println("This is a program listing.");
    }
}</pre></div><div lang="en" class="section" title="3.&nbsp;Accessing Documentation Online"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="accessing-doc-online"></a>3.&nbsp;Accessing Documentation Online</h2></div></div></div><p>Core documentation, such as what you are now reading, aims to
 be technically accurate and complete with respect to the software
 documented. Core documentation therefore follows a <a class="link" href="https://wikis.forgerock.org/confluence/display/devcom/Review+Process" target="_blank">three-phase review process</a> designed to eliminate errors. The
 review process help to ensure that documentation you get with a stable release
 is technically accurate and complete.</p><p>Fully reviewed, published core documentation is available at <a class="link" href="http://docs.forgerock.org/" target="_blank">docs.forgerock.org</a>.</p><p>In-progress documentation can be found at each project site under the
 <a class="link" href="http://forgerock.org" target="_blank">Developer
 Community</a> projects page.</p><p>The ForgeRock Community <a class="link" href="https://wikis.forgerock.org/" target="_blank">Wikis</a> provide additional documentation. We encourage
 you to <a class="link" href="https://idp.forgerock.org/openam/UI/Login?service=register" target="_blank">join the community</a>, so that you can update the Wikis,
 too.</p></div><div lang="en" class="section" title="4.&nbsp;Joining the ForgeRock Community"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="joining-the-community"></a>4.&nbsp;Joining the ForgeRock Community</h2></div></div></div><p>After you <a class="link" href="https://idp.forgerock.org/openam/UI/Login?service=register" target="_blank">sign up</a> to join the ForgeRock community, you can edit the Community
 <a class="link" href="https://wikis.forgerock.org/" target="_blank">Wikis</a>,
 and also log bugs and feature requests in the <a class="link" href="https://bugster.forgerock.org/" target="_blank">issue tracker</a>.</p><p>If you have a question regarding a project but cannot find an answer in
 the project documentation or Wiki, browse to the <a class="link" href="http://forgerock.org" target="_blank">Developer Community</a> page for the
 project, where you can find details on joining the project mailing lists, and
 find links to mailing list archives. You can also suggest updates to documentation
 through the <a class="link" href="https://lists.forgerock.org/mailman/listinfo/docs" target="_blank">ForgeRock docs mailing list</a>.</p><p>The Community Wikis describe how to check out and build source code.
 Should you want to contribute a patch, test, or feature, or want to author
 part of the core documentation, first have a look on the ForgeRock site
 at <a class="link" href="http://forgerock.org/get_involved.html" target="_blank">how to get involved</a>.</p></div></div><div lang="en" class="chapter" title="Chapter&nbsp;1.&nbsp;Understanding LDAP"><div class="titlepage"><div><div><h2 class="title"><a name="chap-understanding-ldap"></a>Chapter&nbsp;1.&nbsp;Understanding LDAP</h2></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><dl><dt><span class="section"><a href="#ldap-directory-history">1.1. How Directories &amp; LDAP Evolved</a></span></dt><dt><span class="section"><a href="#directory-data">1.2. Data In LDAP Directories</a></span></dt><dt><span class="section"><a href="#ldap-client-server-communication">1.3. LDAP Client &amp; Server Communication</a></span></dt><dt><span class="section"><a href="#standard-ldapv3-extensions">1.4. Standard LDAPv3 &amp; Extensions</a></span></dt></dl></div><a class="indexterm" name="d564e208"></a><p>A directory resembles a dictionary or a phone book. If you know a
 word, you can look it up its entry in the dictionary to learn its definition
 or its pronunciation. If you know a name, you can look it up its entry in the
 phone book to find the telephone number and street address associated with the
 name. If you are bored, curious, or have lots of time, you can also read
 through the dictionary, phone book, or directory, entry after entry.</p><p>Where a directory differs from a paper dictionary or phone book is
 in how entries are indexed. Dictionaries typically have one index: words
 in alphabetical order. Phone books, too: names in alphabetical order.
 Directories entries on the other hand are often indexed for multiple
 attributes, names, user identifiers, email addresses, telephone numbers.
 This means you can look up a directory entry by the name of the user the
 entry belongs to, but also by her user identifier, her email address, or
 her telephone number, for example.</p><div class="section" title="1.1.&nbsp;How Directories &amp; LDAP Evolved"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ldap-directory-history"></a>1.1.&nbsp;How Directories &amp; LDAP Evolved</h2></div></div></div><p>Phone companies have been managing directories for many decades. The
  Internet itself has relied on distributed directory services like DNS since
  the mid 1980s.</p><p>It was not until the late 1980s, however, that experts from what is now
  the International Telecommunications Union brought forth the X.500 set of
  international standards, including Directory Access Protocol. The X.500
  standards specify Open Systems Interconnect (OSI) protocols and
  data definitions for general-purpose directory services. The X.500 standards
  were designed to meet the needs of systems built according to the X.400
  standards, covering electronic mail services.</p><p>Lightweight Directory Access Protocol has been around since the early
  1990s. LDAP was originally developed as an alternative protocol that would
  allow directory access over Internet protocols rather than OSI protocols,
  and be lightweight enough for desktop implementations. By the mid 1990s, LDAP
  directory servers became generally available and widely used.</p><p>Until the late 1990s, LDAP directory servers were designed primarily
  with quick lookups and high availability for lookups in mind. LDAP directory
  servers replicate data, so when an update is made, that update gets pushed
  out to other peer directory servers. Thus if one directory server goes down
  lookups can continue on other servers. Furthermore, if a directory service
  needs to support more lookups, the administrator can simply add another
  directory server to replicate with its peers.</p><p>As organizations rolled out larger and larger directories serving more
  and more applications, they discovered that they needed high availability
  not only for lookups, but also for updates. Around 2000 directories began
  to support multi-master replication, that is replication with multiple
  read-write servers. Soon thereafter the organizations with the very largest
  directories started to need higher update performance as well as
  availability.</p><p>The OpenDJ code base began in the mid 2000s, when engineers solving the
  update performance issue decided the cost of adapting the existing C-based
  directory technology for high performance updates would be higher than the
  cost of building a next generation, high performance directory using Java
  technology.</p></div><div class="section" title="1.2.&nbsp;Data In LDAP Directories"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="directory-data"></a>1.2.&nbsp;Data In LDAP Directories</h2></div></div></div><a class="indexterm" name="d564e235"></a><a class="indexterm" name="d564e240"></a><p>LDAP directory data is organized into entries, similar to the entries
  for words in the dictionary, or for subscriber names in the phone book.
  A sample entry follows.</p><pre class="brush: plain;">dn: uid=bjensen,ou=People,dc=example,dc=com
uid: bjensen
cn: Babs Jensen
cn: Barbara Jensen
facsimileTelephoneNumber: +1 408 555 1992
gidNumber: 1000
givenName: Barbara
homeDirectory: /home/bjensen
l: Cupertino
mail: bjensen@example.com
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
objectClass: posixAccount
objectClass: top
ou: People
ou: Product Development
roomNumber: 0209
sn: Jensen
telephoneNumber: +1 408 555 1862
uidNumber: 1076
</pre><p>Barbara Jensen's entry has a number of attributes, such as
  <code class="literal">uid: bjensen</code>,
  <code class="literal">telephoneNumber: +1 408 555 1862</code>, and
  <code class="literal">objectClass: posixAccount</code><sup>[<a name="d564e257" href="#ftn.d564e257" class="footnote">1</a>]</sup>. When you look up her entry
  in the directory, you specify one or more attributes and values to match
  in the entries that come back as the result of your search. Typically the
  attributes you search for are indexed in the directory, so the directory
  server can retrieve them more quickly.<sup>[<a name="d564e264" href="#ftn.d564e264" class="footnote">2</a>]</sup></p><p>The entry also has a unique identifier, shown at the top of the entry, 
  <code class="literal">dn: uid=bjensen,ou=People,dc=example,dc=com</code>. DN stands
  for distinguished name. No two entries in the directory have the same
  distinguished name.<sup>[<a name="d564e272" href="#ftn.d564e272" class="footnote">3</a>]</sup></p><p>LDAP entries are arranged hierarchically in the directory. The
  hierarchical organization resembles a file system on a PC or a web server,
  often imagined as an upside-down tree structure, looking similar to a
  pyramid.<sup>[<a name="d564e279" href="#ftn.d564e279" class="footnote">4</a>]</sup>The distinguished name consists of components
  separated by commas,
  <code class="literal">uid=bjensen,ou=People,dc=example,dc=com</code>. Those components
  reflect the hierarchy of directory entries.</p><div class="mediaobject" title="Directory data hierarchy as seen in OpenDJ Control Panel."><a name="figure-data-organization"></a><img src="images/data-organization.png" longdesc="/Users/mark/Documents/workspace/2.6.0-docs/target/docbkx/html/dev-guide/figure-data-organization.html"><div class="longdesc-link" align="right"><br clear="all"><span class="longdesc-link">[<a href="figure-data-organization.html" target="longdesc">D</a>]</span></div></div><p>Barbara Jensen's entry is located under an entry with DN
  <code class="literal">ou=People,dc=example,dc=com</code>, an organization unit and
  parent entry for the people at Example.com. The
  <code class="literal">ou=People</code> entry is located under the entry with DN
  <code class="literal">dc=example,dc=com</code>, the root entry for Example.com.
  DC stands for domain component. The directory has other root entries, such
  as <code class="literal">cn=config</code>, under which the configuration is accessible
  through LDAP, and potentially others such as
  <code class="literal">dc=mycompany,dc=com</code> or <code class="literal">o=myOrganization</code>.
  Thus when you look up entries, you specify the parent entry to look under
  in the same way you need to know whether to look in the New York, Paris,
  or Tokyo phone book to find a telephone number.<sup>[<a name="d564e314" href="#ftn.d564e314" class="footnote">5</a>]</sup></p></div><div class="section" title="1.3.&nbsp;LDAP Client &amp; Server Communication"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ldap-client-server-communication"></a>1.3.&nbsp;LDAP Client &amp; Server Communication</h2></div></div></div><a class="indexterm" name="d564e323"></a><p>You may be used to web service client server communication, where
  each time the web client has something to request of the web server, a
  connection is set up and then torn down. LDAP has a different model. In
  LDAP the client application connects to the server and authenticates, then
  requests any number of operations perhaps processing results in between
  requests, and finally disconnects when done.</p><div class="mediaobject" title="Schematic of LDAP client-server session"><a name="figure-ldap-lifecycle"></a><img src="images/ldap-lifecycle.png" longdesc="/Users/mark/Documents/workspace/2.6.0-docs/target/docbkx/html/dev-guide/figure-ldap-lifecycle.html"><div class="longdesc-link" align="right"><br clear="all"><span class="longdesc-link">[<a href="figure-ldap-lifecycle.html" target="longdesc">D</a>]</span></div></div><a class="indexterm" name="d564e338"></a><a class="indexterm" name="d564e341"></a><a class="indexterm" name="d564e344"></a><a class="indexterm" name="d564e347"></a><a class="indexterm" name="d564e350"></a><a class="indexterm" name="d564e353"></a><a class="indexterm" name="d564e356"></a><div class="itemizedlist"><a name="standard-ldap-operations"></a><p>The standard operations are as follows.</p><ul class="itemizedlist" type="disc"><li class="listitem"><p>Bind (authenticate). The first operation in an LDAP session involves
    the client binding to the LDAP server, with the server authenticating the
    client. Authentication identifies the client's identity in LDAP terms, the
    identity which is later used by the server to authorize (or not) access
    to directory data that the client wants to lookup or change.</p></li><li class="listitem"><p>Search (lookup). After binding, the client can request that the server
    return entries based on an LDAP filter, which is an expression that the
    server uses to find entries that match the request, and a base DN under
    which to search. For example, to lookup all entries for people with email
    address <code class="literal">bjensen@example.com</code> in data for Example.com,
    you would specify a base DN such as
    <code class="literal">ou=People,dc=example,dc=com</code> and the filter
    <code class="literal">(mail=bjensen@example.com)</code>.</p></li><li class="listitem"><p>Compare. After binding, the client can request that the server
    compare an attribute value the client specifies with the value stored
    on an entry in the directory.</p></li><li class="listitem"><p>Modify. After binding, the client can request that the server
    change one or more attribute values stored on one or more entries. Often
    administrators do not allow clients to change directory data, so request
    that your administrator set appropriate access rights for your client
    application if you want to update data.</p></li><li class="listitem"><p>Add. After binding, the client can request to add one or more
    new LDAP entries to the server. </p></li><li class="listitem"><p>Delete. After binding, the client can request that the server
    delete one or more entries. To delete and entry with other entries
    underneath, first delete the children, then the parent.</p></li><li class="listitem"><p>Modify DN. After binding, the client can request that the server
    change the distinguished name of the entry. For example, if Barbara
    changes her unique identifier from <code class="literal">bjensen</code> to something
    else, her DN would have to change. For another example, if you decide
    to consolidate <code class="literal">ou=Customers</code> and
    <code class="literal">ou=Employees</code> under <code class="literal">ou=People</code>
    instead, all the entries underneath much change distinguished names.
    <sup>[<a name="d564e404" href="#ftn.d564e404" class="footnote">6</a>]</sup></p></li><li class="listitem"><p>Unbind. When done making requests, the client should request an
    unbind operation to release resources right away for other clients.</p></li><li class="listitem"><p>Abandon. When a request seems to be taking too long to complete,
    or when a search request returns many more matches than desired, the client
    can send an abandon request to the server to drop the operation in
    progress. The server then drops the connection without a reply to the
    client.</p></li></ul></div></div><div class="section" title="1.4.&nbsp;Standard LDAPv3 &amp; Extensions"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="standard-ldapv3-extensions"></a>1.4.&nbsp;Standard LDAPv3 &amp; Extensions</h2></div></div></div><p>LDAP has standardized two mechanisms for extending the kinds of
  operations that directory servers can perform. One mechanism involves using
  LDAP controls. The other mechanism involves using LDAP extended
  operations.</p><a class="indexterm" name="d564e418"></a><p>LDAP controls are information added to an LDAP message to further
  specify how an LDAP operation should be processed. For example, the
  Server Side Sort Request Control modifies a search to request that the
  directory server return entries to the client in sorted order. The Subtree
  Delete Request Control modifies a delete to request that the server
  also remove child entries of the entry targeted for deletion.</p><a class="indexterm" name="d564e425"></a><p>LDAP extended operations are additional LDAP operations not included
  in the original standard list. For example, the Cancel Extended Operation
  works like an abandon operation, but finishes with a response from the
  server after the cancel is complete. The StartTLS Extended Operation allows
  a client to connect to a server on an unsecure port, but then start
  Transport Layer Security negotiations to protect communications.</p><p>Both LDAP controls and extended operations are demonstrated later in
  this guide. OpenDJ directory server supports many LDAP controls and a few
  LDAP extended operations, controls and extended operations matching those
  demonstrated in this guide.</p></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a id="ftn.d564e257" href="#d564e257" class="para">1</a>] </sup>The
  <code class="literal">objectClass</code> attribute type indicates which types of
  attributes are allowed and optional for the entry. As the entries object
  classes can be updated online, and even the definitions of object classes
  and attributes are expressed as entries that can be updated online, directory
  data is extensible on the fly.</p></div><div class="footnote"><p><sup>[<a id="ftn.d564e264" href="#d564e264" class="para">2</a>] </sup>Attribute values
  do not have to be strings. The directory can use base64 encoding, however,
  to make binary attribute values, such as passwords, certificates, or photos,
  portable in text format.</p></div><div class="footnote"><p><sup>[<a id="ftn.d564e272" href="#d564e272" class="para">3</a>] </sup>Sometimes your distinguished names include
  characters that you must escape. The following example shows an entry that
  includes escaped characters in the DN.</p><div class="screen"><pre class="brush: plain;">$ ldapsearch --port 1389 --baseDN dc=example,dc=com "(uid=escape)"
dn: cn=\" # \+ \, \; \&lt; = \&gt; \\ DN Escape Characters,dc=example,dc=com
objectClass: person
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: top
givenName: " # + , ; &lt; = &gt; \
uid: escape
cn: " # + , ; &lt; = &gt; \ DN Escape Characters
sn: DN Escape Characters
mail: escape@example.com</pre></div></div><div class="footnote"><p><sup>[<a id="ftn.d564e279" href="#d564e279" class="para">4</a>] </sup>Hence pyramid icons are associated with directory
  servers.</p></div><div class="footnote"><p><sup>[<a id="ftn.d564e314" href="#d564e314" class="para">5</a>] </sup>The root entry for the directory, technically the entry with DN
  <code class="literal">""</code> (the empty string), is called the root DSE, and
  contains information about what the server supports, including the other
  root entries it serves.</p></div><div class="footnote"><p><sup>[<a id="ftn.d564e404" href="#d564e404" class="para">6</a>] </sup>Renaming entire branches of entries can be a major
    operation for the directory, so avoid moving entire branches if you
    can.</p></div></div></div><div lang="en" class="chapter" title="Chapter&nbsp;2.&nbsp;Best Practices For LDAP Application Developers"><div class="titlepage"><div><div><h2 class="title"><a name="chap-best-practices"></a>Chapter&nbsp;2.&nbsp;Best Practices For LDAP Application Developers</h2></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><dl><dt><span class="section"><a href="#authenticate-correctly">2.1. Authenticate Correctly</a></span></dt><dt><span class="section"><a href="#reuse-connections">2.2. Reuse Connections</a></span></dt><dt><span class="section"><a href="#health-check-connections">2.3. Health Check Connections</a></span></dt><dt><span class="section"><a href="#request-what-you-need-all-at-once">2.4. Request Exactly What You Need All At Once</a></span></dt><dt><span class="section"><a href="#use-specific-filters">2.5. Use Specific LDAP Filters</a></span></dt><dt><span class="section"><a href="#make-modifications-specific">2.6. Make Modifications Specific</a></span></dt><dt><span class="section"><a href="#trust-result-codes">2.7. Trust Result Codes</a></span></dt><dt><span class="section"><a href="#ismemberof-for-membership">2.8. Check Group Membership on the Account, Not the Group</a></span></dt><dt><span class="section"><a href="#ask-directory-what-it-supports">2.9. Ask the Directory Server What It Supports</a></span></dt><dt><span class="section"><a href="#storing-large-attributes">2.10. Store Large Attribute Values By Reference</a></span></dt><dt><span class="section"><a href="#careful-with-persistent-search-and-server-side-sorting">2.11. Take Care With Persistent Search &amp; Server-Side Sorting</a></span></dt><dt><span class="section"><a href="#reuse-schemas">2.12. Reuse Schemas Where Possible</a></span></dt><dt><span class="section"><a href="#handle-referrals">2.13. Handle Referrals</a></span></dt><dt><span class="section"><a href="#check-result-codes">2.14. Troubleshooting: Check Result Codes</a></span></dt><dt><span class="section"><a href="#check-log-files">2.15. Troubleshooting: Check Server Log Files</a></span></dt><dt><span class="section"><a href="#inspect-network-traffic">2.16. Troubleshooting: Inspect Network Traffic</a></span></dt></dl></div><p>Follow the advice in this chapter to write effective, maintainable,
 high performance directory client applications.</p><div class="section" title="2.1.&nbsp;Authenticate Correctly"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="authenticate-correctly"></a>2.1.&nbsp;Authenticate Correctly</h2></div></div></div><a class="indexterm" name="d564e443"></a><a class="indexterm" name="d564e446"></a><p>Unless your application performs only read operations, you should
  authenticate to the directory server. Some directory administrators require
  authentication even to read directory data.</p><p>Once you authenticate (bind), directory servers like OpenDJ make
  authorization decisions based on your identity. With servers like OpenDJ
  that support proxied authorization, once authenticated your application can
  also request an operation on behalf of another identity, for example the
  identity of the end user.</p><p>Your application therefore should have an account used to authenticate
  such as <code class="literal">cn=My Killer App,ou=Apps,dc=example,dc=com</code>. The
  directory administrator can then authorize appropriate access for your
  application, and also monitor your application's requests to help you
  troubleshoot problems if they arise.</p><p>Your application can use simple, password-based authentication. When
  you opt for password-based authentication, also use Start TLS for example to
  avoid sending the password as clear text over the network. If you prefer to
  manage certificates rather than passwords, directory servers like OpenDJ can
  do client authentication as well.</p></div><div class="section" title="2.2.&nbsp;Reuse Connections"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="reuse-connections"></a>2.2.&nbsp;Reuse Connections</h2></div></div></div><a class="indexterm" name="d564e463"></a><p>LDAP is a stateful protocol. You authenticate (bind), you do stuff,
  you unbind. The server maintains a context that lets it make authorization
  decisions concerning your requests. You should therefore reuse
  connections when possible.</p><p>You can make multiple requests without having to set up a new
  connection and authenticate for every request. You can issue a request and
  get results asynchronously, while you issue another request. You can even
  share connections in a pool, avoiding the overhead of setting up and tearing
  down connections if you use them often.</p></div><div class="section" title="2.3.&nbsp;Health Check Connections"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="health-check-connections"></a>2.3.&nbsp;Health Check Connections</h2></div></div></div><a class="indexterm" name="d564e475"></a><p>In a network built for HTTP applications, your long-lived LDAP
  connections can get cut by network equipment configured to treat idle and
  even just old connections as stale resources to reclaim.</p><p>When you maintain a particularly long-lived connection such as a
  connection for a persistent search, periodically perform a health check to
  make sure nothing on the network quietly decided to drop your connection
  without notification. A health check might involve reading an attribute
  on a well-known entry in the directory.</p><p>OpenDJ LDAP SDK offers
  <code class="literal">Connections.newHeartBeatConnectionFactory()</code> methods to
  ensure your <code class="literal">ConnectionFactory</code> serves connections that
  are periodically checked to detect whether they are still alive.</p></div><div class="section" title="2.4.&nbsp;Request Exactly What You Need All At Once"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="request-what-you-need-all-at-once"></a>2.4.&nbsp;Request Exactly What You Need All At Once</h2></div></div></div><p>By the time your application makes it to production, you should know
  what attributes you want, so request them explicitly and request all
  the attributes you need in the same search. For example, if all you need
  is <code class="literal">mail</code> and <code class="literal">cn</code>, then specify both
  attributes in your <code class="literal">SearchRequest</code>.</p></div><div class="section" title="2.5.&nbsp;Use Specific LDAP Filters"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-specific-filters"></a>2.5.&nbsp;Use Specific LDAP Filters</h2></div></div></div><a class="indexterm" name="d564e509"></a><p>The difference between a general filter
  <code class="literal">(mail=*@example.com)</code> and a good, specific filter like
  <code class="literal">(mail=user@example.com)</code> can be huge numbers of entries
  and enormous amounts of processing time, both for the directory server
  that has to return search results, and also for your application that has
  to sort through the results. Many use cases can be handled with short,
  specific filters. As a rule, prefer equality filters over substring
  filters.</p><p>Some directory servers like OpenDJ reject unindexed searches by
  default, because unindexed searches are generally far more resource intensive.
  If your application needs to use a filter that results in an unindexed search,
  then work with your directory administrator to find a solution, such as having
  the directory maintain the indexes required by your application.</p><p>Furthermore, always use <code class="literal">&amp;</code> with
  <code class="literal">!</code> to restrict the potential result set before returning
  all entries that do not match part of the filter. For example, <code class="literal">(&amp;(location=Oslo)(!(mail=birthday.girl@example.com)))</code>.</p></div><div class="section" title="2.6.&nbsp;Make Modifications Specific"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="make-modifications-specific"></a>2.6.&nbsp;Make Modifications Specific</h2></div></div></div><a class="indexterm" name="d564e536"></a><p>When you modify attributes with multiple values, for example when you
  modify a list of group members, replace or delete specific values
  individually, rather than replacing the entire list of values. Making
  modifications specific helps directory servers replicate your changes more
  effectively.</p></div><div class="section" title="2.7.&nbsp;Trust Result Codes"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="trust-result-codes"></a>2.7.&nbsp;Trust Result Codes</h2></div></div></div><a class="indexterm" name="d564e544"></a><p>Trust the LDAP result code that your application gets from the
  directory server. For example, if you request a modify application and you
  get <code class="literal">ResultCode.SUCCESS</code>, then consider the operation a
  success rather than issuing a search immediately to get the modified
  entry.</p><p>The LDAP replication model is loosely convergent. In other words,
  the directory server can, and probably does, send you
  <code class="literal">ResultCode.SUCCESS</code> before replicating your change to
  every directory server instance across the network. If you issue a read
  immediately after a write, and a load balancer sends your request to another
  directory server instance, you could get a result that differs from what
  you expect.</p><a class="indexterm" name="d564e559"></a><p>The loosely convergent model also means that the entry could have
  changed since you read it. If needed, you can use <a class="link" href="http://tools.ietf.org/html/rfc4528" target="_blank">LDAP assertions</a> to set
  conditions for your LDAP operations.</p></div><div class="section" title="2.8.&nbsp;Check Group Membership on the Account, Not the Group"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ismemberof-for-membership"></a>2.8.&nbsp;Check Group Membership on the Account, Not the Group</h2></div></div></div><a class="indexterm" name="d564e570"></a><p>If you need to determine which groups an account belongs to, request
  <code class="literal">isMemberOf</code> for example with OpenDJ when you read the
  account entry. Other directory servers use other names for this attribute
  that identifies the groups to which an account belongs.</p></div><div class="section" title="2.9.&nbsp;Ask the Directory Server What It Supports"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ask-directory-what-it-supports"></a>2.9.&nbsp;Ask the Directory Server What It Supports</h2></div></div></div><a class="indexterm" name="d564e581"></a><p>Directory servers expose their capabilities, suffixes they support,
  and so forth as attribute values on the root DSE. See the section on
  <a href="../dev-guide/index.html#read-root-dse" class="link"><em class="citetitle">Reading Root
  DSEs</em></a>.</p><p>This allows your application to discover a variety of information at
  run time, rather than storing configuration separately. Thus putting effort
  into querying the directory about its configuration and the features it
  supports can make your application easier to deploy and to maintain.</p><p>For example, rather than hard-coding
  <code class="literal">dc=example,dc=com</code> as a suffix DN in your configuration,
  you can search the root DSE on OpenDJ for <code class="literal">namingContexts</code>,
  and then search under the naming context DNs to locate the entries you are
  looking for in order to initialize your configuration.</p><p>Directory servers also expose their schema over LDAP. The root DSE
  attribute <code class="literal">subschemaSubentry</code> shows the DN of the entry
  holding LDAP schema definitions. See the section, <a href="../dev-guide/index.html#get-schema-information" class="link"><em class="citetitle">Getting Schema
  Information</em></a>. Note that LDAP object class and attribute
  type names are case-insensitive, so <code class="literal">isMemberOf</code> and
  <code class="literal">ismemberof</code> refer to the same attribute for example.</p></div><div class="section" title="2.10.&nbsp;Store Large Attribute Values By Reference"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="storing-large-attributes"></a>2.10.&nbsp;Store Large Attribute Values By Reference</h2></div></div></div><a class="indexterm" name="d564e620"></a><p>When you use large attribute values such as photos or audio messages,
  consider storing the objects themselves elsewhere and keeping only a reference
  to external content on directory entries. In order to serve results quickly
  with high availability, directory servers both cache content and also
  replicate it everywhere.</p><p>Textual entries with a bunch of attributes and perhaps a certificate
  are often no larger than a few KB. Your directory administrator might
  therefore be disappointed to learn that your popular application stores
  users' photo and .mp3 collections as attributes of their accounts.</p></div><div class="section" title="2.11.&nbsp;Take Care With Persistent Search &amp; Server-Side Sorting"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="careful-with-persistent-search-and-server-side-sorting"></a>2.11.&nbsp;Take Care With Persistent Search &amp; Server-Side Sorting</h2></div></div></div><a class="indexterm" name="d564e630"></a><a class="indexterm" name="d564e635"></a><p>A persistent search lets your application receive updates from the
  server as they happen by keeping the connection open and forcing the server
  to check whether to return additional results any time it performs a
  modification in the scope of your search. Directory administrators therefore
  might hesitate to grant persistent search access to your application.
  Directory servers like OpenDJ can let you discover updates with less
  overhead by searching the change log periodically. If you do have to use
  a persistent search instead, try to narrow the scope of your search.</p><p>Directory servers also support a resource-intensive operation called
  server-side sorting. When your application requests a server-side sort, the
  directory server retrieves all the entries matching your search, and then
  returns the whole set of entries in sorted order. For result sets of any size
  server-side sorting therefore ties up server resources that could be used
  elsewhere. Alternatives include both sorting the results after your
  application receives them, and also working with the directory administrator
  to have appropriate browsing (virtual list view) indexes maintained on the
  directory server for applications that must regularly page through long
  lists of search results.</p></div><div class="section" title="2.12.&nbsp;Reuse Schemas Where Possible"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="reuse-schemas"></a>2.12.&nbsp;Reuse Schemas Where Possible</h2></div></div></div><a class="indexterm" name="d564e647"></a><p>Directory servers like OpenDJ come with schema definitions for a wide
  range of standard object classes and attribute types. This is because
  directories are designed to be shared by many applications. Directories
  use unique, typically <a class="link" href="http://www.iana.org/" target="_blank">IANA</a>-registered object identifiers (OID) to avoid
  object class and attribute type name clashes. The overall goal is
  Internet-wide interoperability.</p><p>You therefore should reuse schema definitions that already exist
  whenever you reasonably can. Reuse them as is. Do not try to redefine
  existing schema definitions.</p><p>If you must add schema definitions for your application, extend
  existing object classes with AUXILIARY classes of your own. Take care to
  name your definitions such that they do not clash with other names.</p><p>When you have defined schema required for your application, work with
  the directory administrator to have your definitions added to the directory
  service. Directory servers like OpenDJ let directory administrators update
  schema definitions over LDAP, so there is not generally a need to interrupt
  the service to add your application. Directory administrators can however
  have other reasons why they hesitate to add your schema definitions.
  Coming to the discussion prepared with good schema definitions, explanations
  of why they should be added, and evident regard for interoperability makes
  it easier for the directory administrator to grant your request.</p></div><div class="section" title="2.13.&nbsp;Handle Referrals"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="handle-referrals"></a>2.13.&nbsp;Handle Referrals</h2></div></div></div><a class="indexterm" name="d564e666"></a><a class="indexterm" name="d564e669"></a><p>When a directory server returns a search result, the result is not
  necessarily an entry. If the result is a referral, then your application
  should follow up with an additional search based on the URIs provided in
  the result.</p></div><div class="section" title="2.14.&nbsp;Troubleshooting: Check Result Codes"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="check-result-codes"></a>2.14.&nbsp;Troubleshooting: Check Result Codes</h2></div></div></div><a class="indexterm" name="d564e679"></a><p>LDAP result codes are standard and clearly defined. When you receive
  a <code class="literal">Result</code>, check the <code class="literal">ResultCode</code> value to
  determine what action your application should take. When the result is not
  what you expect, you can also read or at least log the message string from
  <code class="literal">ResultCode.getDiagnosticMessage()</code>.</p></div><div class="section" title="2.15.&nbsp;Troubleshooting: Check Server Log Files"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="check-log-files"></a>2.15.&nbsp;Troubleshooting: Check Server Log Files</h2></div></div></div><p>If you can read the directory server access log, then you can check
  what the server did with your application's request. For example, the
  following OpenDJ access log excerpt shows a successful connection from
  <code class="literal">cn=My Killer App,ou=Apps,dc=example,dc=com</code> performing
  a simple bind after Start TLS, and then a simple search before unbind.
  The lines are wrapped for readability, whereas in the log each record starts
  with the time stamp.</p><pre class="brush: plain;">[20/Apr/2012:13:31:05 +0200] CONNECT conn=5
 from=127.0.0.1:51561 to=127.0.0.1:1389 protocol=LDAP
[20/Apr/2012:13:31:05 +0200] EXTENDED REQ conn=5 op=0 msgID=1 name="StartTLS"
 oid="1.3.6.1.4.1.1466.20037"
[20/Apr/2012:13:31:05 +0200] EXTENDED RES conn=5 op=0 msgID=1 name="StartTLS"
 oid="1.3.6.1.4.1.1466.20037" result=0 etime=0
[20/Apr/2012:13:31:07 +0200] BIND REQ conn=5 op=1 msgID=2 version=3 type=SIMPLE
 dn="cn=My Killer App,ou=Apps,dc=example,dc=com"
[20/Apr/2012:13:31:07 +0200] BIND RES conn=5 op=1 msgID=2 result=0
 authDN="cn=My Killer App,ou=Apps,dc=example,dc=com" etime=1
[20/Apr/2012:13:31:07 +0200] SEARCH REQ conn=5 op=2 msgID=3
 base="dc=example,dc=com" scope=wholeSubtree
 filter="(uid=kvaughan)" attrs="isMemberOf"
[20/Apr/2012:13:31:07 +0200] SEARCH RES conn=5 op=2 msgID=3
 result=0 nentries=1 etime=6
[20/Apr/2012:13:31:07 +0200] UNBIND REQ conn=5 op=3 msgID=4
[20/Apr/2012:13:31:07 +0200] DISCONNECT conn=5 reason="Client Unbind"</pre><p>Notice that each operation type is shown in upper case, and that the
  server tracks both the connection (<code class="literal">conn=5</code>), operation
  (<code class="literal">op=[0-3]</code>), and message ID (<code class="literal">msgID=[1-4]</code>)
  numbers to make it easy to filter records. The <code class="literal">etime</code> refers
  to how long the server worked on the request in milliseconds. Result code
  0 corresponds to <code class="literal">ResultCode.SUCCESS</code>, as described in
  <a class="link" href="http://tools.ietf.org/html/rfc4511#section-4.1.9" target="_blank">RFC 4511</a>.</p></div><div class="section" title="2.16.&nbsp;Troubleshooting: Inspect Network Traffic"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="inspect-network-traffic"></a>2.16.&nbsp;Troubleshooting: Inspect Network Traffic</h2></div></div></div><p>If result codes and server logs are not enough, many network tools
  can interpret LDAP packets. Get the necessary certificates to decrypt
  encrypted packet content.</p></div></div><div lang="en" class="chapter" title="Chapter&nbsp;3.&nbsp;Getting OpenDJ LDAP SDK"><div class="titlepage"><div><div><h2 class="title"><a name="chap-get-sdk"></a>Chapter&nbsp;3.&nbsp;Getting OpenDJ LDAP SDK</h2></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><dl><dt><span class="section"><a href="#about-opendj-ldap-sdk">3.1. About OpenDJ LDAP SDK</a></span></dt><dt><span class="section"><a href="#prepare-ldap-server">3.2. Preparing an LDAP Server</a></span></dt><dt><span class="section"><a href="#getting-the-ldap-sdk">3.3. Getting the LDAP SDK</a></span></dt><dt><span class="section"><a href="#opendj-ldap-sdk-examples">3.4. Accessing Example Java Code</a></span></dt></dl></div><p>This chapter introduces OpenDJ LDAP SDK, demonstrating how to get the
 software and to build a first basic directory client application.</p><div class="section" title="3.1.&nbsp;About OpenDJ LDAP SDK"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="about-opendj-ldap-sdk"></a>3.1.&nbsp;About OpenDJ LDAP SDK</h2></div></div></div><a class="indexterm" name="d564e739"></a><p>OpenDJ LDAP SDK provides a set of modern, developer-friendly Java APIs
  as part of the OpenDJ product suite. The product suite includes the client
  SDK alongside command-line tools and sample code, a 100% pure Java directory
  server, and more. You can use OpenDJ LDAP SDK to create client applications
  for use with any server that complies with the <em class="citetitle">Lightweight
  Directory Access Protocol (LDAP): Technical Specification Road
  Map</em>, <a class="link" href="http://tools.ietf.org/html/rfc4510" target="_blank">RFC 4510</a>.</p><p>OpenDJ LDAP SDK brings you easy-to-use connection management, connection
  pooling, load balancing, and all the standard LDAP operations to read and
  write directory entries. OpenDJ LDAP SDK also lets you build applications with
  capabilities defined in additional draft and experimental RFCs that are
  supported by modern LDAP servers.</p></div><div class="section" title="3.2.&nbsp;Preparing an LDAP Server"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="prepare-ldap-server"></a>3.2.&nbsp;Preparing an LDAP Server</h2></div></div></div><a class="indexterm" name="d564e757"></a><a class="indexterm" name="d564e762"></a><p>Install an LDAP server such as OpenDJ directory server that you can
  use to test the applications you develop. Also, load sample data into your
  server. The sample data used in this guide are available in LDIF form at
  <a class="link" href="http://opendj.forgerock.org/Example.ldif" target="_blank">http://opendj.forgerock.org/Example.ldif</a>.</p></div><div class="section" title="3.3.&nbsp;Getting the LDAP SDK"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="getting-the-ldap-sdk"></a>3.3.&nbsp;Getting the LDAP SDK</h2></div></div></div><p>You can either install a build or build your own from source.</p><p>Before you either download a build of OpenDJ LDAP SDK, or get the
  source code to build your own SDK, make sure you have a Java Development Kit
  installed. See the <em class="citetitle">Release Notes</em> section on
  <a href="../release-notes/index.html#prerequisites-java" class="link"><em class="citetitle">Java
  Environment</em></a> requirements.</p><div class="procedure" title="Procedure&nbsp;3.1.&nbsp;To Include the SDK as a Maven Dependency"><a name="use-maven"></a><div class="procedure-title">Procedure&nbsp;3.1.&nbsp;To Include the SDK as a Maven Dependency</div><a class="indexterm" name="d564e789"></a><p>Let that expensive computer you bought do the work.</p><ul class="procedure"><li class="step" title="Step 1"><p>Include the ForgeRock repository in your list, and include the SDK
    as a dependency.</p><pre class="brush: xml;">&lt;repositories&gt;
  &lt;repository&gt;
    &lt;id&gt;forgerock-staging-repository&lt;/id&gt;
    &lt;name&gt;ForgeRock Release Repository&lt;/name&gt;
    &lt;url&gt;http://maven.forgerock.org/repo/releases&lt;/url&gt;
    &lt;snapshots&gt;
      &lt;enabled&gt;false&lt;/enabled&gt;
    &lt;/snapshots&gt;
  &lt;/repository&gt;
  &lt;repository&gt;
    &lt;id&gt;forgerock-snapshots-repository&lt;/id&gt;
    &lt;name&gt;ForgeRock Snapshot Repository&lt;/name&gt;
    &lt;url&gt;http://maven.forgerock.org/repo/snapshots&lt;/url&gt;
    &lt;releases&gt;
      &lt;enabled&gt;false&lt;/enabled&gt;
    &lt;/releases&gt;
  &lt;/repository&gt;
&lt;/repositories&gt;

...

&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.forgerock.opendj&lt;/groupId&gt;
    &lt;artifactId&gt;opendj-ldap-sdk&lt;/artifactId&gt;
    &lt;version&gt;2.6.0&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;</pre></li></ul></div><div class="procedure" title="Procedure&nbsp;3.2.&nbsp;To Install the Latest SDK &amp; Tools"><a name="install-latest-sdk"></a><div class="procedure-title">Procedure&nbsp;3.2.&nbsp;To Install the Latest SDK &amp; Tools</div><a class="indexterm" name="d564e804"></a><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Download the latest OpenDJ LDAP Client Toolkit nightly build from the
    <a class="link" href="http://forgerock.org/opendj.html" target="_blank">Nightly Builds</a> page.</p></li><li class="step" title="Step 2"><p>Unzip the bundle,
    <code class="filename">opendj-ldap-toolkit-2.6.0.zip</code>,
    where you want to install the SDK.</p><div class="screen"><pre class="brush: plain;">$ unzip opendj-ldap-toolkit-2.6.0.zip</pre></div></li><li class="step" title="Step 3"><p>Add the tools to your PATH.</p><div class="screen"><pre class="brush: plain;">(UNIX)
$ export PATH=/path/to/opendj-ldap-toolkit-2.6.0/bin:$PATH</pre></div><div class="screen"><pre class="brush: plain;">(Windows)
C:\&gt;set PATH=\\path\to\opendj-ldap-toolkit-2.6.0\bat:%PATH%</pre></div></li><li class="step" title="Step 4"><p> Add the OpenDJ LDAP SDK for the APIs, the I18N core library,
     and Grizzly I/O framework for the transport to your CLASSPATH, typically found under
     <code class="filename">opendj-ldap-toolkit-2.6.0/lib/</code>.</p><div class="screen"><pre class="brush: plain;">(UNIX)
$ export CLASSPATH=/path/to/lib/grizzly-framework-2.3.jar:$CLASSPATH
$ export CLASSPATH=/path/to/lib/i18n-core-1.4.0.jar:$CLASSPATH
$ export CLASSPATH=/path/to/lib/opendj-ldap-sdk-2.6.0.jar:$CLASSPATH
     </pre></div><div class="screen"><pre class="brush: plain;">(Windows)
C:\&gt;set CLASSPATH=\\path\to\lib\grizzly-framework-2.3.jar:%CLASSPATH%
C:\&gt;set CLASSPATH=\\path\to\lib\i18n-core-1.4.0.jar:%CLASSPATH%
C:\&gt;set CLASSPATH=\\path\to\lib\opendj-ldap-sdk-2.6.0.jar:%CLASSPATH%</pre></div></li></ol></div><div class="procedure" title="Procedure&nbsp;3.3.&nbsp;To Build Your Own SDK From Source"><a name="proc-roll-your-own-sdk"></a><div class="procedure-title">Procedure&nbsp;3.3.&nbsp;To Build Your Own SDK From Source</div><a class="indexterm" name="d564e843"></a><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Make sure you have Subversion (<span class="command"><strong>svn</strong></span>) and
    Maven (<span class="command"><strong>mvn</strong></span>) installed.</p></li><li class="step" title="Step 2"><p>Check out the source code.</p><div class="screen"><pre class="brush: plain;">$ svn co https://svn.forgerock.org/opendj/trunk/opendj3
...
Checked out revision XXXX.</pre></div></li><li class="step" title="Step 3"><p>Build the modules and install them in the local repository.</p><div class="screen"><pre class="brush: plain;">$ cd opendj3/
$ mvn install
[INFO] Scanning for projects...
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO]
[INFO] OpenDJ Directory Services Project
[INFO] OpenDJ LDAP SDK
[INFO] OpenDJ LDAP Toolkit
[INFO] OpenDJ LDAP SDK Examples
[INFO] OpenDJ Commons REST Adapter
[INFO] OpenDJ Commons REST LDAP Gateway
[INFO] OpenDJ Server 2.x Adapter
[INFO]
       ...
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 2:51.315s
[INFO] Finished at: Wed Apr 10 14:28:36 CEST 2013
[INFO] Final Memory: 37M/382M
[INFO] ------------------------------------------------------------------------</pre></div></li><li class="step" title="Step 4"><p>Unzip the tools and libraries included in the file,
    <code class="filename">opendj3/opendj-ldap-toolkit/target/opendj-ldap-toolkit-2.6.0.zip</code>.</p></li><li class="step" title="Step 5"><p>Add the <code class="filename">opendj-ldap-toolkit-2.6.0/bin</code>
    (UNIX) or <code class="filename">opendj-ldap-toolkit-2.6.0\bat</code>
    (Windows) directory to your PATH.</p></li><li class="step" title="Step 6"><p>Set your CLASSPATH to include the OpenDJ LDAP SDK library,
    <code class="filename">opendj-ldap-sdk-2.6.0.jar</code>, 
    the I18N core library,
    <code class="filename">i18n-core-1.4.0.jar</code>, and the
    Grizzly framework,
    <code class="filename">grizzly-framework-2.3.jar</code>
    under
    <code class="filename">opendj-ldap-toolkit-2.6.0/lib/</code>.</p></li></ol></div><p>After you install OpenDJ LDAP SDK and configure your environment as
  described, if you have a directory server running import sample data,
  and test your configuration with a sample client application.</p><pre class="brush: java;">import org.forgerock.opendj.ldap.Connection;
import org.forgerock.opendj.ldap.LDAPConnectionFactory;
import org.forgerock.opendj.ldap.SearchScope;
import org.forgerock.opendj.ldap.responses.SearchResultEntry;
import org.forgerock.opendj.ldap.responses.SearchResultReference;
import org.forgerock.opendj.ldif.ConnectionEntryReader;
import org.forgerock.opendj.ldif.LDIFEntryWriter;

//Test.java:
//Kick the SDK tires, reading Babs Jensen's entry and displaying LDIF.
//If your LDAP server is not listening on localhost:1389, or if your
//data are different change the appropriate lines below.

class Test {
    public static void main(String[] args) {

        // Create an LDIF writer which will write the search results to stdout.

        final LDIFEntryWriter writer = new LDIFEntryWriter(System.out);
        Connection connection = null;

        try {
            // Connect and bind to the server.
            // CHANGE THIS IF SERVER IS NOT AT localhost:1389.
            final LDAPConnectionFactory factory =
                    new LDAPConnectionFactory("localhost", 1389);

            connection = factory.getConnection();
            // CHANGE THIS IF ANONYMOUS SEARCHES ARE NOT ALLOWED.
            // connection.bind(userName, password);

            // Read the entries and output them as LDIF.
            // CHANGE THIS IF NO uid=bjensen,ou=people,dc=example,dc=com EXISTS.
            final ConnectionEntryReader reader =
                    connection.search("dc=example,dc=com",
                            SearchScope.WHOLE_SUBTREE, "(uid=bjensen)", "*");
            while (reader.hasNext()) {
                if (reader.isEntry()) {
                    // Got an entry.
                    final SearchResultEntry entry = reader.readEntry();
                    writer.writeComment("Search result entry: "
                            + entry.getName().toString());
                    writer.writeEntry(entry);
                } else {
                    // Got a continuation reference.
                    final SearchResultReference ref = reader.readReference();
                    writer.writeComment("Search result reference: "
                            + ref.getURIs().toString());
                }
            }
            writer.flush();
        } catch (final Exception e) {
            // Handle exceptions...
            System.err.println(e.getMessage());
        } finally {
            if (connection != null) {
                connection.close();
            }
        }
    }
}
</pre><p>If all goes well, <code class="filename">Test.java</code> compiles without
  errors. The test program displays Babs Jensen's entry in LDIF.</p><div class="screen"><pre class="brush: plain;">$ javac Test.java
$ java Test
# Search result entry: uid=bjensen,ou=People,dc=example,dc=com
dn: uid=bjensen,ou=People,dc=example,dc=com
givenName: Barbara
objectClass: person
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: top
uid: bjensen
cn: Barbara Jensen
cn: Babs Jensen
sn: Jensen
telephoneNumber: +1 408 555 1862
roomNumber: 0209
ou: Product Development
ou: People
l: Cupertino
mail: bjensen@example.com
facsimileTelephoneNumber: +1 408 555 1992</pre></div></div><div class="section" title="3.4.&nbsp;Accessing Example Java Code"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="opendj-ldap-sdk-examples"></a>3.4.&nbsp;Accessing Example Java Code</h2></div></div></div><a class="indexterm" name="d564e914"></a><p>A number of OpenDJ LDAP SDK examples are available online on the <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/" target="_blank">OpenDJ community site</a>. There you find samples
  whose excerpts are shown in this guide.</p></div></div><div lang="en" class="chapter" title="Chapter&nbsp;4.&nbsp;Using the LDAP SDK"><div class="titlepage"><div><div><h2 class="title"><a name="chap-using-the-sdk"></a>Chapter&nbsp;4.&nbsp;Using the LDAP SDK</h2></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><dl><dt><span class="section"><a href="#sync-vs-async">4.1. Synchronous &amp; Asynchronous Operations</a></span></dt><dt><span class="section"><a href="#error-handling">4.2. Managing Errors</a></span></dt></dl></div><p>As LDAP relies on a connection from the client to the directory server,
 the starting point for working with the LDAP SDK is a new
 <code class="literal">LDAPConnectionFactory</code>, from which you then get either
 a synchronous connection, or pass in a handler to an asynchronous
 connection. You then use the connection to make requests and get responses
 from the directory server.</p><div class="section" title="4.1.&nbsp;Synchronous &amp; Asynchronous Operations"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sync-vs-async"></a>4.1.&nbsp;Synchronous &amp; Asynchronous Operations</h2></div></div></div><a class="indexterm" name="d564e936"></a><a class="indexterm" name="d564e941"></a><p>For synchronous operations your application gets a connection from
  the <code class="literal">LDAPConnectionFactory</code> and requests operations on
  the connection. When finished, your application closes the connection.</p><pre class="brush: java;">
final LDAPConnectionFactory factory = new LDAPConnectionFactory(host, port);
Connection connection = null;

try {
    connection = factory.getConnection();

    // Perform operations on the connection, such as connection.bind(),
    // connection.search(), connection.modify(), etc.

    } catch (final ErrorResultException e) {
        System.err.println(e.getMessage());
        System.exit(e.getResult().getResultCode().intValue());
        return;
    } finally {
        if (connection != null) {
            connection.close();
        }
    }
</pre><p>For a complete example in context, see <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/xref/org/forgerock/opendj/examples/Search.html" target="_blank">Search.java</a>, one of the <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/" target="_blank">OpenDJ LDAP SDK examples</a>.</p><p>For asynchronous operations, your application passes a result handler
  to <code class="literal">LDAPConnectionFactory.getConnectionAsync()</code> that
  implements the <code class="literal">ResultHandler&lt;Connection&gt;</code>
  interface.</p><pre class="brush: java;">
private static final class ConnectResultHandlerImpl
        implements ResultHandler&lt;Connection&gt; {
    @Override
    public void handleErrorResult(final ErrorResultException error) {
        ...
    }

    @Override
    public void handleResult(final Connection connection) {
        // Connect succeeded: save connection and initiate bind.
        SearchAsync.connection = connection;

        final BindRequest request =
                Requests.newSimpleBindRequest(userName, password.toCharArray());
        connection.bindAsync(request, null, new BindResultHandlerImpl());
    }
}

// Main method initiates async operations by getting a connection...
final LDAPConnectionFactory factory = new LDAPConnectionFactory(hostName, port);
factory.getConnectionAsync(new ConnectResultHandlerImpl());

...

if (connection != null) {
    connection.close();
}
</pre><p>When the connection result handler gets a connection, your application
  can pass result handlers for other operations using methods on the connection
  named <code class="literal">*Async()</code>. For most operations, your application
  implements <code class="literal">ResultHandler</code>. For searches, your application
  implements <code class="literal">SearchResultHandler</code>. The result handler is
  notified upon completion of the operation.</p><p>Asynchronous methods are non-blocking, returning a
  <code class="literal">FutureResult</code> whose <code class="literal">get()</code> method lets
  you retrieve the result. Your application must coordinate concurrency when
  you use asynchronous operations.</p><p>For a complete example in context, see <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/xref/org/forgerock/opendj/examples/SearchAsync.html" target="_blank">SearchAsync.java</a>, one of the <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/" target="_blank">OpenDJ LDAP SDK examples</a>.</p></div><div class="section" title="4.2.&nbsp;Managing Errors"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="error-handling"></a>4.2.&nbsp;Managing Errors</h2></div></div></div><a class="indexterm" name="d564e1001"></a><p>LDAP <a class="link" href="http://tools.ietf.org/html/rfc4511#appendix-A" target="_blank">defines many result codes</a> to deal with conditions
  other than success. The <code class="literal">ResultCode</code> class encapsulates the
  LDAP codes and additional client-side codes specific to the SDK.</p><p>Your application deals with most non-success result codes when it
  catches one of the LDAP SDK exceptions corresponding to the operation you
  requested. <code class="literal">ErrorResultException</code> is a common way for the
  SDK to indicate a non-successful result. Your application can then take
  remedial action based on the result code, as in the following synchronous
  excerpt.</p><pre class="brush: java;">
final LDAPConnectionFactory factory = new LDAPConnectionFactory(host, port);
Connection connection = null;

try {
    connection = factory.getConnection();
    connection.bind(name, password);

    // Perform operations on the connection...

} catch (final ErrorResultException e) {

    // Take remedial action based on the result code...
    // e.getResult().getResultCode() returns the code for you to interpret.

} finally {
    if (connection != null) {
        connection.close();
    }
}
</pre><p>Also notice the methods <code class="literal">ResultCode.getName()</code> that
  provides a short, human-readable version of the result code, and
  <code class="literal">Result.getDiagnosticMessage()</code> that can also help debug
  problems after the fact.</p></div></div><div lang="en" class="chapter" title="Chapter&nbsp;5.&nbsp;Authenticating To the Directory"><div class="titlepage"><div><div><h2 class="title"><a name="chap-authenticating"></a>Chapter&nbsp;5.&nbsp;Authenticating To the Directory</h2></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><dl><dt><span class="section"><a href="#simple-auth">5.1. Simple Authentication</a></span></dt><dt><span class="section"><a href="#simple-auth-with-starttls-or-ssl">5.2. Start TLS &amp; SSL Authentication</a></span></dt><dt><span class="section"><a href="#sasl-auth">5.3. SASL Authentication</a></span></dt></dl></div><p>When your client application connects to the directory, the first
 operation to perform is a bind operation. The bind operation authenticates
 the client to the directory.</p><div class="section" title="5.1.&nbsp;Simple Authentication"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="simple-auth"></a>5.1.&nbsp;Simple Authentication</h2></div></div></div><a class="indexterm" name="d564e1037"></a><p>You perform simple authentication by binding with the distinguished
  name of a user's directory entry and the user's password. For this reason
  simple authentication over unsecure network connections should be done only
  in the lab. If your real end users are providing their passwords, your
  application must use simple authentication only if the network is
  secure.</p><p>To bind using Barbara Jensen's identity and simple authentication,
  for example, your application would provide the DN
  <code class="literal">uid=bjensen,ou=People,dc=example,dc=com</code> with the
  password <code class="literal">hifalutin</code>.</p><p>The directory stores the password value used for simple authentication
  in binary form on the <code class="literal">userPassword</code> attribute of the entry.
  In other words, for the purposes of your application the password is not a
  string, but instead an array of bytes. Typically the directory is further
  configured to store only hashed values of user passwords, rather than plain
  text versions. Thus even if someone managed to read the stored password
  values, they would still have to crack the hash in order to learn the
  actual passwords. When your application performing simple authentication
  sends the password value, the directory server therefore hashes the password
  value, and then compares the hashed result with the value of the
  <code class="literal">userPassword</code> on the user entry. If the values match,
  then the directory authenticates the user. Once the user has authenticated,
  the directory determines authorization for operations on the connection
  based on the users identity.</p><pre class="brush: java;">
/**
 * Authenticate over LDAP.
 */
private static void connect()
{
  final LDAPConnectionFactory factory = new LDAPConnectionFactory(
    host, port);
  Connection connection = null;

  try
  {
    connection = factory.getConnection();
    connection.bind(bindDN, bindPassword.toCharArray());
    System.out.println("Authenticated as " + bindDN + ".");
  }
  catch (final ErrorResultException e)
  {
    System.err.println(e.getMessage());
    System.exit(e.getResult().getResultCode().intValue());
    return;
  }
  finally
  {
    if (connection != null) connection.close();
  }
}</pre><p>If the password values do not match, a directory might nevertheless
  authenticate the client application. The LDAP specifications say that in this
  case, however, the directory authenticates the user as anonymous, therefore
  no doubt with fewer rights than the normal user, and surely fewer rights
  than an administrator.</p><p>For a complete example in context, see <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/xref/org/forgerock/opendj/examples/SimpleAuth.html" target="_blank">SimpleAuth.java</a>, one of the <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/" target="_blank">OpenDJ LDAP SDK examples</a>.</p></div><div class="section" title="5.2.&nbsp;Start TLS &amp; SSL Authentication"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="simple-auth-with-starttls-or-ssl"></a>5.2.&nbsp;Start TLS &amp; SSL Authentication</h2></div></div></div><a class="indexterm" name="d564e1075"></a><a class="indexterm" name="d564e1080"></a><p>Simple authentication involves sending a user name and password to
  the directory server. To avoid sending the user name and password in
  the clear, you can use SSL or Start TLS.</p><p>For both SSL and Start TLS, you pass LDAP options to the connection
  factory in order to set an SSL context, and set whether to use Start TLS.
  The SSL context lets you set a trust manager to check server certificates,
  and also set a key manager to provide keys when the server needs to check
  your client certificates. In the simplest, not-so-secure case, you can
  set up a trust manager that trusts all certificates.</p><p>The following example is an excerpt from the OpenDJ LDAP SDK example,
  <code class="filename">org.forgerock.opendj.examples.SimpleAuth.java</code>.</p><pre class="brush: java;">
private static LDAPOptions getTrustAllOptions()
  throws GeneralSecurityException
{
  LDAPOptions lo = new LDAPOptions();
  SSLContext sslContext = new SSLContextBuilder()
    .setTrustManager(TrustManagers.trustAll()).getSSLContext();
  lo.setSSLContext(sslContext);
  lo.setUseStartTLS(useStartTLS);
  return lo;
}</pre><p>A more secure and extensive SSL context would include a trust manager
  using a trust store and trust manager methods to check server certificates.
  If you also want to be able to authenticate to the server using your client
  certificate, you would need a key manager.</p><p>The authentication over SSL or using Start TLS in the trust-all case is
  much like simple authentication over LDAP without connection-level security.
  The primary differences are that you pass the <code class="literal">LDAPOptions</code>
  to the LDAP connection factory, and that you handle the potential security
  exception involved in setting up the SSL context.</p><pre class="brush: java;">
/**
 * Perform authentication over a secure connection, trusting all server
 * certificates.
 */
private static void trustAllConnect()
{
  Connection connection = null;

  try
  {
    final LDAPConnectionFactory factory =
        new LDAPConnectionFactory(host, port, getTrustAllOptions());
    connection = factory.getConnection();
    connection.bind(bindDN, bindPassword.toCharArray());
    System.out.println("Authenticated as " + bindDN + ".");
  }
  catch (final ErrorResultException e)
  {
    System.err.println(e.getMessage());
    System.exit(e.getResult().getResultCode().intValue());
    return;
  }
  catch (final GeneralSecurityException e)
  {
    System.err.println(e.getMessage());
    System.exit(ResultCode.CLIENT_SIDE_CONNECT_ERROR.intValue());
  }
  finally
  {
    if (connection != null)
      connection.close();
  }
}</pre><p>For a complete example in context, see <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/xref/org/forgerock/opendj/examples/SimpleAuth.html" target="_blank">SimpleAuth.java</a>, one of the <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/" target="_blank">OpenDJ LDAP SDK examples</a>.</p></div><div class="section" title="5.3.&nbsp;SASL Authentication"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sasl-auth"></a>5.3.&nbsp;SASL Authentication</h2></div></div></div><a class="indexterm" name="d564e1116"></a><p>Simple Authentication and Security Layer (SASL) provides a way to
  use other mechanisms for authentication such as Kerberos or Digest
  authentication, or even to define your own authentication mechanism. The
  directory server likely advertises supported SASL mechanisms in the root
  DSE. The follow example shows how to search OpenDJ for supported SASL
  mechanisms.</p><div class="screen"><pre class="brush: plain;">$ ldapsearch
 --port 1389
 --bindDN "cn=Directory Manager"
 --bindPassword password
 --baseDN ""
 --searchScope base
 "(objectclass=*)" supportedSASLMechanisms
dn: 
supportedSASLMechanisms: PLAIN
supportedSASLMechanisms: EXTERNAL
supportedSASLMechanisms: DIGEST-MD5
supportedSASLMechanisms: CRAM-MD5</pre></div><p>Notice that neither the Kerberos (GSSAPI SASL) nor the Anonymous
  mechanism is enabled by default, though OpenDJ implements both.</p><p>In order to use a SASL mechanism to bind, your program must set up
  a <code class="literal">SASLBindRequest</code> and pass that to the
  <code class="literal">bind()</code> method of the <code class="literal">Connection</code>.</p><p>This section shows an example using the SASL PLAIN mechanism, which
  takes either a DN or a user ID to authenticate, with an optional DN or user
  ID as the authorization ID that identifies the user who performs operations.
  The SASL PLAIN mechanism itself does not secure the connection, so the
  example uses StartTLS. The example is provided with the OpenDJ LDAP SDK
  examples in <code class="filename">org.forgerock.opendj.examples.SASLAuth.java</code>.
  The following excerpt shows the core of the bind process.</p><pre class="brush: java;">
try
{
  final LDAPConnectionFactory factory =
      new LDAPConnectionFactory(host, port, getTrustAllOptions());
  connection = factory.getConnection();
  PlainSASLBindRequest request =
      Requests.newPlainSASLBindRequest(authcid, passwd.toCharArray())
      .setAuthorizationID(authzid);
  connection.bind(request);
  System.out.println("Authenticated as " + authcid + ".");
}</pre><p>The implementation for <code class="literal">getTrustAllOptions()</code>, the
  same as in the example above, sets up Start TLS. When you run this example
  with both authorization and authentication IDs, <code class="literal">authzid</code>
  and <code class="literal">authcid</code>, set to <code class="literal">u:bjensen</code> and
  password <code class="literal">hifalutin</code>, the bind is successful, and the
  program reaches the final line of the <code class="literal">try</code> block.</p><div class="screen"><pre class="brush: plain;">Authenticated as u:bjensen.</pre></div><p>Behind the scenes, OpenDJ has the SASL PLAIN mechanism configured by
  default to use the Exact Match Identity Mapper to look up user IDs as
  <code class="literal">uid</code> values. If you use another directory server, you might
  have to configure how it maps user IDs to user entries.</p><p>For a complete example in context, see <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/xref/org/forgerock/opendj/examples/SASLAuth.html" target="_blank">SASLAuth.java</a>, one of the <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/" target="_blank">OpenDJ LDAP SDK examples</a>.</p></div></div><div lang="en" class="chapter" title="Chapter&nbsp;6.&nbsp;Searching &amp; Comparing Directory Data"><div class="titlepage"><div><div><h2 class="title"><a name="chap-reading"></a>Chapter&nbsp;6.&nbsp;Searching &amp; Comparing Directory Data</h2></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><dl><dt><span class="section"><a href="#about-searching">6.1. About Searching</a></span></dt><dt><span class="section"><a href="#basedn-and-scope">6.2. Setting Search Base &amp; Scope</a></span></dt><dt><span class="section"><a href="#about-filters">6.3. Working With Search Filters</a></span></dt><dt><span class="section"><a href="#send-search-request">6.4. Sending a Search Request</a></span></dt><dt><span class="section"><a href="#get-search-results">6.5. Getting Search Results</a></span></dt><dt><span class="section"><a href="#handle-entry-attributes">6.6. Working With Entry Attributes</a></span></dt><dt><span class="section"><a href="#handle-ldap-urls">6.7. Working With LDAP URLs</a></span></dt><dt><span class="section"><a href="#sort-search-results">6.8. Sorting Search Results</a></span></dt><dt><span class="section"><a href="#about-comparisons">6.9. About Comparing</a></span></dt></dl></div><p>Traditionally directories excel at serving read requests. This chapter
 covers the read (search and compare) capabilities that OpenDJ LDAP Java SDK
 provides. The data used in examples here is <a class="link" href="http://opendj.forgerock.org/Example.ldif" target="_blank">available
 online</a>.</p><div class="section" title="6.1.&nbsp;About Searching"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="about-searching"></a>6.1.&nbsp;About Searching</h2></div></div></div><a class="indexterm" name="d564e1192"></a><div class="itemizedlist"><p>An LDAP search looks up entries based on the following
   parameters.</p><ul class="itemizedlist" type="disc"><li class="listitem"><p>A <em class="firstterm">filter</em> that indicates which attribute values
    to match</p></li><li class="listitem"><p>A <em class="firstterm">base DN</em> that specifies where in the
    directory information tree to look for matches</p></li><li class="listitem"><p>A <em class="firstterm">scope</em> that defines how far to go under
    the base DN</p></li><li class="listitem"><p>A list of attributes to fetch for an entry when a match is
    found</p></li></ul></div><p>For example, imagine you must write an application where users login
  using their email address and a password. After the user logs in, your
  application displays the user's full name so it is obvious who is logged in.
  Your application is supposed to go to the user directory both for
  authentication, and also to read user profile information. You are told the
  user directory stores user profile entries under base DN
  <code class="literal">ou=People,dc=example,dc=com</code>, that email addresses are
  stored on the standard <code class="literal">mail</code> attribute, and full names are
  store on the standard <code class="literal">cn</code> attribute.</p><p>You figure out how to authenticate from the chapter on <a href="../dev-guide/index.html#chap-authenticating" class="link">authentication</a>,
  in which you learn you need a bind DN and a password to do simple
  authentication. But how do you find the bind DN given the email? How do you
  get the full name?</p><p>The answer to both questions is that you do an LDAP search for the
  user's entry, which has the DN that you use to bind, and you have the server
  fetch the <code class="literal">cn</code> attribute in the results. Your search uses
  the following parameters.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>The filter is
    <code class="literal">(mail=<em class="replaceable"><code>emailAddress</code></em>)</code>, where
    <em class="replaceable"><code>emailAddress</code></em> is the email address the user
    provided.</p></li><li class="listitem"><p>The base DN is the one given to you,
    <code class="literal">ou=People,dc=example,dc=com</code>.</p></li><li class="listitem"><p>For the scope, you figure the user entry is somewhere under the base
    DN, so you opt to search the whole subtree.</p></li><li class="listitem"><p>The attribute to fetch is <code class="literal">cn</code>.</p></li></ul></div><p>The following code excerpt demonstrates how this might be done in a
  minimal command-line program.</p><pre class="brush: java;">// Prompt for mail and password.
Console c = System.console();
if (c == null) {
    System.err.println("No console.");
    System.exit(1);
}

String mail = c.readLine("Email address: ");
char[] password = c.readPassword("Password: ");

// Search using mail address, and then bind with the DN and password.
final LDAPConnectionFactory factory = new LDAPConnectionFactory(host,
        port);
Connection connection = null;
try {
    connection = factory.getConnection();

    // No explicit bind yet so we remain anonymous for now.
    SearchResultEntry entry = connection.searchSingleEntry(baseDN,
            SearchScope.WHOLE_SUBTREE, "(mail=" + mail + ")", "cn");
    DN bindDN = entry.getName();
    connection.bind(bindDN.toString(), password);

    String cn = entry.getAttribute("cn").firstValueAsString();
    System.out.println("Hello, " + cn + "!");
} catch (final ErrorResultException e) {
    System.err.println("Failed to bind.");
    System.exit(e.getResult().getResultCode().intValue());
    return;
} finally {
    if (connection != null) {
        connection.close();
    }
}</pre><p>For a complete example in context, see <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/xref/org/forgerock/opendj/examples/SearchBind.html" target="_blank">SearchBind.java</a>, one of the <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/" target="_blank">OpenDJ LDAP SDK examples</a>.</p></div><div class="section" title="6.2.&nbsp;Setting Search Base &amp; Scope"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="basedn-and-scope"></a>6.2.&nbsp;Setting Search Base &amp; Scope</h2></div></div></div><a class="indexterm" name="d564e1283"></a><a class="indexterm" name="d564e1288"></a><p>Directory servers organize entries somewhat like a file system.
  Directory data is often depicted as an upside-down tree.</p><div class="mediaobject" title="Directory data is often depicted as an upside-down tree."><a name="figure-ldap-tree"></a><img src="images/ldap-tree.png" longdesc="/Users/mark/Documents/workspace/2.6.0-docs/target/docbkx/html/dev-guide/figure-ldap-tree.html"><div class="longdesc-link" align="right"><br clear="all"><span class="longdesc-link">[<a href="figure-ldap-tree.html" target="longdesc">D</a>]</span></div></div><p>In the figure shown above, entries are represented by the relevant
  parts of their DNs. The entry with DN <code class="literal">dc=example,dc=com</code>
  is the base entry for a suffix. Under the base entry, you see two
  organizational units, one for people, <code class="literal">ou=People</code>, the other
  for groups, <code class="literal">ou=Groups</code>. The entries for people include
  those of Babs Jensen, Kirsten Vaughan, and Sam Carter.</p><p>When you are searching for a person's entry somewhere under
  <code class="literal">dc=example,dc=com</code>, you can start from
  <code class="literal">dc=example,dc=com</code>, from
  <code class="literal">ou=People,dc=example,dc=com</code>, or if you have enough
  information to pinpoint the user entry and only want to look up another
  attribute value for example, then directly from the entry such as
  <code class="literal">cn=Babs Jensen,ou=People,dc=example,dc=com</code>. The DN of
  the entry where you choose to start the search is the base DN for the
  search.</p><div class="itemizedlist"><p>When searching, you also define the scope. Scope defines what entries
   the server considers when checking for entries that match your search.</p><ul class="itemizedlist" type="disc"><li class="listitem"><p>For <code class="literal">SearchScope.BASE_OBJECT</code> the server considers
    only the base entry.</p><p>This is the scope you use if you know the full DN of the object
    that interests you. For example, if your base DN points to Babs Jensen's
    entry, <code class="literal">cn=Babs Jensen,ou=People,dc=example,dc=com</code>, and
    you want to read some of Babs's attributes, you would set scope to
    <code class="literal">SearchScope.BASE_OBJECT</code>.</p></li><li class="listitem"><p>For <code class="literal">SearchScope.SINGLE_LEVEL</code> the server considers
    all entries directly below the base entry.</p><p>You use this scope if for example you want to discover organizational
    units under <code class="literal">dc=example,dc=com</code>, or if you want to find
    people's entries and you know they are immediately under
    <code class="literal">ou=People,dc=example,dc=com</code>.</p></li><li class="listitem"><p>For <code class="literal">SearchScope.SUBORDINATES</code> the server considers
    all entries below the base entry.</p><p>This scope can be useful if you know that the base DN for your search
    is an entry that you do not want to match.</p></li><li class="listitem"><p>For <code class="literal">SearchScope.WHOLE_SUBTREE</code> (default) the server
    considers the base entry and all entries below.</p></li></ul></div><p>In addition to a base DN and scope, a search request also calls for a
  search filter.</p></div><div class="section" title="6.3.&nbsp;Working With Search Filters"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="about-filters"></a>6.3.&nbsp;Working With Search Filters</h2></div></div></div><a class="indexterm" name="d564e1378"></a><a class="indexterm" name="d564e1381"></a><p>When you look someone up in the telephone directory, you use the value
  of one attribute of a person's entry (last name), to recover the person's
  directory entry, which has other attributes (phone number, address). LDAP
  works the same way. In LDAP, search requests identify both the scope of the
  directory entries to consider (for example, all people or all organizations),
  and also the entries to retrieve based on some attribute value (for example,
  surname, mail address, phone number, or something else). The way you express
  the attribute value(s) to match is by using a search filter.</p><p>LDAP search filters define what entries actually match your request.
  For example, the following simple equality filter says, "Match all entries
  that have a surname attribute (sn) value equivalent to Jensen."</p><pre class="literallayout">(sn=Jensen)</pre><p>When you pass the directory server this filter as part of your search
  request, the directory server checks the entries in scope for your search to
  see whether they match.<sup>[<a name="d564e1394" href="#ftn.d564e1394" class="footnote">7</a>]</sup> If the directory server finds entries that match,
  it returns those entries as it finds them.</p><p>The example, <code class="literal">(sn=Jensen)</code>, shows a string
  representation of the search filter. The OpenDJ LDAP SDK lets you express
  your filters as strings, or as <code class="literal">Filter</code> objects. In both
  cases, the SDK translates the strings and objects into the binary
  representation sent to the server over the network.</p><p>Equality is just one of the types of comparisons available in LDAP
  filters. Comparison operators include the following.</p><div class="table"><a name="filter-operators"></a><div class="table-title">Table&nbsp;6.1.&nbsp;LDAP Filter Operators</div><div class="table-contents"><table summary="LDAP Filter Operators" width="100%" border="0"><colgroup><col width="14%"><col width="43%"><col width="43%"></colgroup><thead><tr><th>Operator</th><th>Definition</th><th>Example</th></tr></thead><tbody><tr valign="top"><td valign="top"><code class="literal">=</code></td><td valign="top">
     <p>Equality comparison, as in <code class="literal">(sn=Jensen)</code>.</p>
     <p>This can also be used with substring matches. For example, to match
     last names starting with <code class="literal">Jen</code>, use the filter
     <code class="literal">(sn=Jen*)</code>. Substrings are more expensive for the
     directory server to index. Substring searches therefore might not be
     permitted for many attributes.</p>
    </td><td valign="top">
     <p><code class="literal">"(cn=My App)"</code> matches entries with common name
     <code class="literal">My App</code>.</p>
     <p><code class="literal">"(sn=Jen*)"</code> matches entries with surname starting
     with <code class="literal">Jen</code>.</p>
    </td></tr><tr valign="top"><td valign="top"><code class="literal">&lt;=</code></td><td valign="top">
     <p>Less than or equal to comparison, which works
     alphanumerically.</p>
    </td><td valign="top">
     <p><code class="literal">"(cn&lt;=App)"</code> matches entries with
     <code class="literal">commonName</code> up to those starting with App
     (case-insensitive) in alphabetical order.</p>
    </td></tr><tr valign="top"><td valign="top"><code class="literal">&gt;=</code></td><td valign="top">
     <p>Greater than or equal to comparison, which works
     alphanumerically.</p>
    </td><td valign="top">
     <p><code class="literal">"(uidNumber&gt;=1151)"</code> matches entries with
     <code class="literal">uidNumber</code> greater than 1151.</p>
    </td></tr><tr valign="top"><td valign="top"><code class="literal">=*</code></td><td valign="top">
     <p>Presence comparison. For example, to match all entries having a
     <code class="literal">userPassword</code>, use the filter
     <code class="literal">(userPassword=*)</code>.</p>
    </td><td valign="top">
     <p><code class="literal">"(member=*)"</code> matches entries with a
     <code class="literal">member</code> attribute.</p>
    </td></tr><tr valign="top"><td valign="top"><code class="literal">~=</code></td><td valign="top">
     <p>Approximate comparison, matching attribute values similar to the
     value you specify.</p>
    </td><td valign="top">
     <p><code class="literal">"(sn~=jansen)"</code> matches entries with a surname
     that sounds similar to <code class="literal">Jansen</code> (Johnson, Jensen, and
     so forth).</p>
    </td></tr><tr valign="top"><td valign="top"><code class="literal">[:dn][:<em class="replaceable"><code>oid</code></em>]:=</code></td><td valign="top">
     <p>Extensible match comparison.</p>
     <div class="itemizedlist"><p>At the end of the OID or language subtype, you further specify the
      matching rule as follows:</p><ul class="itemizedlist" type="disc"><li class="listitem"><p>Add <code class="literal">.1</code> for less than</p></li><li class="listitem"><p>Add <code class="literal">.2</code> for less than or equal to</p></li><li class="listitem"><p>Add <code class="literal">.3</code> for equal to (default)</p></li><li class="listitem"><p>Add <code class="literal">.4</code> for greater than or equal to</p></li><li class="listitem"><p>Add <code class="literal">.5</code> for greater than</p></li><li class="listitem"><p>Add <code class="literal">.6</code> for substring</p></li></ul></div>
    </td><td valign="top">
     <p><code class="literal">(uid:dn:=bjensen)</code> matches entries where
     <code class="literal">uid</code> having the value <code class="literal">bjensen</code> is
     a component of the entry DN.</p>
     <p><code class="literal">(lastLoginTime: 1.3.6.1.4.1.26027.1.4.5:=-13w)</code>
     matches entries with a last login time more recent than 13 weeks.</p>
     <p>You also use extensible match filters with localized values.
     Directory servers like OpenDJ support a variety of internationalized
     locales, each of which has an OID for collation order, such as
     <code class="literal">1.3.6.1.4.1.42.2.27.9.4.76.1</code> for French. OpenDJ also
     lets you use the language subtype, such as <code class="literal">fr</code>, instead
     of the OID.</p>
     <p><code class="literal">"(cn:dn:=My App)"</code> matches entries who have
     <code class="literal">My App</code> as the common name and also as the value of a
     DN component.</p>
    </td></tr><tr valign="top"><td valign="top"><code class="literal">!</code></td><td valign="top">
     <p>NOT operator, to find entries that do not match the specified filter
     component.</p>
     <p>Take care to limit your search when using <code class="literal">!</code> to
     avoid matching so many entries that the server treats your search as
     unindexed.</p>
    </td><td valign="top">
     <p><code class="literal">'!(objectclass=person)'</code> matches non-person
     entries.</p>
    </td></tr><tr valign="top"><td valign="top"><code class="literal">&amp;</code></td><td valign="top">
     <p>AND operator, to find entries that match all specified filter
     components.</p>
    </td><td valign="top">
     <p><code class="literal">'(&amp;(l=Cupertino)(!(uid=bjensen)))'</code> matches
     entries for users in Cupertino other than the user with ID
     <code class="literal">bjensen</code>.</p>
    </td></tr><tr valign="top"><td valign="top"><code class="literal">|</code></td><td valign="top">
     <p>OR operator, to find entries that match one of the specified filter
     components.</p>
    </td><td valign="top">
     <p><code class="literal">"|(sn=Jensen)(sn=Johnson)"</code> matches entries with
     surname Jensen or surname Johnson.</p>
    </td></tr></tbody></table></div></div><br class="table-break"><p>When taking user input, take care to protect against users providing
  input that has unintended consequences. OpenDJ SDK offers several Filter
  methods to help you. First, you can use strongly typed construction methods
  such as <code class="literal">Filter.equality()</code>.</p><pre class="brush: java;">String userInput = getUserInput();
Filter filter = Filter.equality("cn", userInput);

// Invoking filter.toString() with input of "*" results in a filter
// string "(cn=\2A)".</pre><p>You can also let the SDK escape user input by using a template with
  <code class="literal">Filter.format()</code> as in the following example.</p><pre class="brush: java;">String template = "(|(cn=%s)(uid=user.%s))";
String[] userInput = getUserInput();
Filter filter = Filter.format(template, userInput[0], userInput[1]);</pre><p>Finally, you can explicitly escape user input with
  <code class="literal">Filter.escapeAssertionValue()</code>.</p><pre class="brush: java;">String baseDN = "ou=people,dc=example,dc=com";
String userInput = getUserInput();

// Filter.escapeAssertionValue() transforms user input of "*" to "\2A".
SearchRequest request = Requests.newSearchRequest(
        baseDN, SearchScope.WHOLE_SUBTREE,
        "(cn=" + Filter.escapeAssertionValue(userInput) + "*)", "cn", "mail");</pre></div><div class="section" title="6.4.&nbsp;Sending a Search Request"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="send-search-request"></a>6.4.&nbsp;Sending a Search Request</h2></div></div></div><a class="indexterm" name="d564e1714"></a><a class="indexterm" name="d564e1719"></a><p>As shown in the following excerpt with a synchronous connection, you
  get a <code class="literal">Connection</code> to the directory server from an
  <code class="literal">LDAPConnectionFactory</code>.</p><pre class="brush: java;">final LDAPConnectionFactory factory = new LDAPConnectionFactory(host,
        port);
Connection connection = null;
try {
    connection = factory.getConnection();

    // Do something with the connection...
} catch (Exception e) {
    // Handle exceptions...
} finally {
    if (connection != null) {
        connection.close();
    }
}</pre><p>The <code class="literal">Connection</code> gives you <code class="literal">search()</code>
  methods that either take parameters in the style of the
  <span class="command"><strong>ldapsearch</strong></span> command, or that take a
  <code class="literal">SearchRequest</code> object. If you are sure that the search only
  returns a single entry, you can read the entry with the
  <code class="literal">searchSingleEntry()</code> methods. If you have the distinguished
  name, you can use <code class="literal">readEntry()</code> directly.</p><p>For a complete example in context, see <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/xref/org/forgerock/opendj/examples/Search.html" target="_blank">Search.java</a>, one of the <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/" target="_blank">OpenDJ LDAP SDK examples</a>.</p></div><div class="section" title="6.5.&nbsp;Getting Search Results"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="get-search-results"></a>6.5.&nbsp;Getting Search Results</h2></div></div></div><a class="indexterm" name="d564e1763"></a><p>Depending on the method you use to search, you handle results in
  different ways.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>You can get a <code class="literal">ConnectionEntryReader</code>, and iterate
    over the reader to access individual search results.</p><pre class="brush: java;">Connection connection = ...;
ConnectionEntryReader reader = connection.search("dc=example,dc=com",
    SearchScope.WHOLE_SUBTREE, "(objectClass=person)");
try
{
  while (reader.hasNext())
  {
    if (reader.isEntry())
    {
      SearchResultEntry entry = reader.readEntry();

      // Handle entry...
    }
    else
    {
      SearchResultReference ref = reader.readReference();

      // Handle continuation reference...
    }
  }
}
catch (IOException e)
{
  // Handle exceptions...
}
finally
{
  reader.close();
}</pre><p>For a complete example in context, see <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/xref/org/forgerock/opendj/examples/Search.html" target="_blank">Search.java</a>, one of the <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/" target="_blank">OpenDJ LDAP SDK examples</a>.</p></li><li class="listitem"><p>You can pass in a collection of <code class="literal">SearchResultEntry</code>s
    (and optionally a collection of <code class="literal">SearchResultReference</code>s)
    to which the SDK adds the results. For this to work, you need enough
    memory to hold everything the search returns.</p></li><li class="listitem"><p>You can pass in a <code class="literal">SearchResultHandler</code> to manage
    results.</p></li><li class="listitem"><p>With <code class="literal">searchSingleEntry()</code> and
    <code class="literal">readEntry()</code>, you can get a single
    <code class="literal">SearchResultEntry</code> with methods to access the entry
    content.</p></li></ul></div></div><div class="section" title="6.6.&nbsp;Working With Entry Attributes"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="handle-entry-attributes"></a>6.6.&nbsp;Working With Entry Attributes</h2></div></div></div><a class="indexterm" name="d564e1817"></a><p>When you get an entry object, chances are you want to handle attribute
  values as objects. The OpenDJ LDAP SDK provides the
  <code class="literal">Entry.parseAttribute()</code> method and an
  <code class="literal">AttributeParser</code> with methods for a variety of attribute
  value types. You can use these methods to get attribute values as
  objects.</p><pre class="brush: java;">
// Use Kirsten Vaughan's credentials and her entry.
String name = "uid=kvaughan,ou=People,dc=example,dc=com";
char[] password = "bribery".toCharArray();
connection.bind(name, password);

// Make sure we have a timestamp to play with.
updateEntry(connection, name, "description");

// Read Kirsten's entry.
final SearchResultEntry entry = connection.readEntry(name,
        "cn", "objectClass", "hasSubordinates", "numSubordinates",
        "isMemberOf", "modifyTimestamp");

// Get the entry DN and some attribute values as objects.
DN dn = entry.getName();

Set&lt;String&gt; cn = entry.parseAttribute("cn").asSetOfString("");
Set&lt;AttributeDescription&gt; objectClasses =
        entry.parseAttribute("objectClass").asSetOfAttributeDescription();
boolean hasChildren = entry.parseAttribute("hasSubordinates").asBoolean();
int numChildren = entry.parseAttribute("numSubordinates").asInteger(0);
Set&lt;DN&gt; groups = entry
        .parseAttribute("isMemberOf")
        .usingSchema(Schema.getDefaultSchema()).asSetOfDN();
Calendar timestamp = entry
        .parseAttribute("modifyTimestamp")
        .asGeneralizedTime().toCalendar();

// Do something with the objects.
// ...
</pre><p>For a complete example in context, see <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/xref/org/forgerock/opendj/examples/ParseAttributes.html" target="_blank">ParseAttributes.java</a>, one of the <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/" target="_blank">OpenDJ LDAP SDK examples</a>.</p></div><div class="section" title="6.7.&nbsp;Working With LDAP URLs"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="handle-ldap-urls"></a>6.7.&nbsp;Working With LDAP URLs</h2></div></div></div><a class="indexterm" name="d564e1841"></a><a class="indexterm" name="d564e1846"></a><p>LDAP URLs express search requests in URL form. In the directory data
  you can find them used as <code class="literal">memberURL</code>
  attribute values for dynamic groups, for example. The following URL from the
  configuration for the administrative backend lets the directory server build
  a dynamic group of administrator entries that are children of
  <code class="literal">cn=Administrators,cn=admin data</code>.</p><pre class="literallayout">ldap:///cn=Administrators,cn=admin data??one?(objectclass=*)</pre><p>The static method <code class="literal">LDAPUrl.valueOf()</code> takes an LDAP
  URL string and returns an <code class="literal">LDAPUrl</code> object. You can then use
  the <code class="literal">LDAPUrl.asSearchRequest()</code> method to get the
  <code class="literal">SearchRequest</code> that you pass to one of the search methods
  for the connection.</p></div><div class="section" title="6.8.&nbsp;Sorting Search Results"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sort-search-results"></a>6.8.&nbsp;Sorting Search Results</h2></div></div></div><a class="indexterm" name="d564e1876"></a><a class="indexterm" name="d564e1881"></a><p>If you want to sort search results in your client application, then
  make sure you have enough memory in the JVM to hold the results of the search,
  and use one of the search methods that lets you pass in a collection of
  <code class="literal">SearchResultEntry</code>s. After the collection is populated with
  the results, you can sort them.</p><p>If you are on good terms with your directory administrator, you can
  perhaps use a server-side sort control. The server-side sort request control
  asks the server to sort the results before returning them, and so is a
  memory intensive operation on the directory server. You set up the control
  using <code class="literal">ServerSideSortRequestControl.newControl()</code>. You get
  the control into your search by building a search request to pass to the
  search method, using <code class="literal">SearchRequest.addControl()</code> to attach
  the control before passing in the request.</p><p>If your application needs to scroll through search results a page at
  a time, work with your directory administrator to set up the virtual list
  view indexes that facilitate scrolling through results.</p></div><div class="section" title="6.9.&nbsp;About Comparing"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="about-comparisons"></a>6.9.&nbsp;About Comparing</h2></div></div></div><a class="indexterm" name="d564e1902"></a><p>You use the LDAP compare operation to make an assertion about an
  attribute value on an entry. Unlike the search operation, you must know
  the distinguished name of the entry in advance to request a compare operation.
  You also specify the attribute type name and the value to compare to the
  values stored on the entry.</p><p><code class="literal">Connection</code> has a choice of compare methods,
  depending on how you set up the operation.</p><p>Check the <code class="literal">ResultCode</code> from
  <code class="literal">CompareResult.getResultCode()</code> for
  <code class="literal">ResultCode.COMPARE_TRUE</code> or
  <code class="literal">ResultCode.COMPARE_FALSE</code>.</p></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a id="ftn.d564e1394" href="#d564e1394" class="para">7</a>] </sup>In fact, the directory server probably
  checks an index first, and might not even accept search requests unless it
  can use indexes to match your filter rather than checking all entries in
  scope.</p></div></div></div><div lang="en" class="chapter" title="Chapter&nbsp;7.&nbsp;Getting Information About the Directory Service"><div class="titlepage"><div><div><h2 class="title"><a name="chap-getting-directory-info"></a>Chapter&nbsp;7.&nbsp;Getting Information About the Directory Service</h2></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><dl><dt><span class="section"><a href="#read-root-dse">7.1. Reading Root DSEs</a></span></dt><dt><span class="section"><a href="#check-ldapv3-support">7.2. Checking For LDAPv3 Support</a></span></dt><dt><span class="section"><a href="#get-schema-information">7.3. Getting Schema Information</a></span></dt></dl></div><p>LDAP directories expose what their capabilities through the root
 DSE. They also expose their schema definitions, which define the sort of
 entries and attributes can be stored in a directory, over protocol. OpenDJ
 SDK allows you to look up that information in your client application.</p><div class="section" title="7.1.&nbsp;Reading Root DSEs"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="read-root-dse"></a>7.1.&nbsp;Reading Root DSEs</h2></div></div></div><a class="indexterm" name="d564e1934"></a><a class="indexterm" name="d564e1939"></a><p>The directory entry with distinguished name <code class="literal">""</code> (empty
  string) is called the <em class="firstterm">root DSE</em>. DSE stands for
  DSA-Specific Entry. DSA stands for Directory Server Agent, a single
  directory server.</p><p>The root DSE serves to expose information over LDAP about what the
  directory server supports in terms of LDAP controls, auth password schemes,
  SASL mechanisms, LDAP protocol versions, naming contexts, features, LDAP
  extended operations, and so forth. The root DSE holds all the information
  as values of LDAP attributes. OpenDJ defines these attributes as operational.
  In other words, OpenDJ only returns the attributes if you either request
  them specifically, or request all operational attributes.</p><p>To access the list of what an OpenDJ server supports, for example,
  get all operational attributes from the root DSE entry as in the following
  excerpt.</p><pre class="brush: java;">
final LDAPConnectionFactory factory = new LDAPConnectionFactory(
  host, port);
Connection connection = null;

try
{
  connection = factory.getConnection();

  // Perform an anonymous search on the root DSE.
  final SearchResultEntry entry = connection.searchSingleEntry(
      "",                         // DN is "" for root DSE.
      SearchScope.BASE_OBJECT,    // Read only the root DSE.
      "objectclass=*",            // Every object matches this filter.
      "+");                       // Return all operational attributes.

  final LDIFEntryWriter writer = new LDIFEntryWriter(System.out);
  writer.writeComment("Root DSE for LDAP server at " + host + ":" + port);
  if (entry != null) writer.writeEntry(entry);
  writer.flush();
}</pre><p>For a complete example in context, see <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/xref/org/forgerock/opendj/examples/GetInfo.html" target="_blank">GetInfo.java</a>, one of the <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/" target="_blank">OpenDJ LDAP SDK examples</a>.</p><p>Notice that by default you can access the root DSE after authenticating
  anonymously. When you look at the entry in LDIF, you see that supported
  capabilities are generally identified by object identifier (OID).</p><div class="screen"><pre class="brush: plain;"># Root DSE for LDAP server at localhost:1389
dn: 
supportedControl: 1.2.826.0.1.3344810.2.3
supportedControl: 1.2.840.113556.1.4.1413
supportedControl: 1.2.840.113556.1.4.319
supportedControl: 1.2.840.113556.1.4.473
supportedControl: 1.2.840.113556.1.4.805
supportedControl: 1.3.6.1.1.12
supportedControl: 1.3.6.1.1.13.1
supportedControl: 1.3.6.1.1.13.2
supportedControl: 1.3.6.1.4.1.26027.1.5.2
supportedControl: 1.3.6.1.4.1.42.2.27.8.5.1
supportedControl: 1.3.6.1.4.1.42.2.27.9.5.2
supportedControl: 1.3.6.1.4.1.42.2.27.9.5.8
supportedControl: 1.3.6.1.4.1.4203.1.10.1
supportedControl: 1.3.6.1.4.1.4203.1.10.2
supportedControl: 1.3.6.1.4.1.7628.5.101.1
supportedControl: 2.16.840.1.113730.3.4.12
supportedControl: 2.16.840.1.113730.3.4.16
supportedControl: 2.16.840.1.113730.3.4.17
supportedControl: 2.16.840.1.113730.3.4.18
supportedControl: 2.16.840.1.113730.3.4.19
supportedControl: 2.16.840.1.113730.3.4.2
supportedControl: 2.16.840.1.113730.3.4.3
supportedControl: 2.16.840.1.113730.3.4.4
supportedControl: 2.16.840.1.113730.3.4.5
supportedControl: 2.16.840.1.113730.3.4.9
supportedAuthPasswordSchemes: MD5
supportedAuthPasswordSchemes: SHA1
supportedAuthPasswordSchemes: SHA256
supportedAuthPasswordSchemes: SHA512
supportedAuthPasswordSchemes: SHA384
supportedSASLMechanisms: PLAIN
supportedSASLMechanisms: EXTERNAL
supportedSASLMechanisms: DIGEST-MD5
supportedSASLMechanisms: CRAM-MD5
supportedLDAPVersion: 2
supportedLDAPVersion: 3
etag: 00000000e9155ba0
pwdPolicySubentry: cn=Default Password Policy,cn=Password Policies,cn=config
supportedFeatures: 1.3.6.1.1.14
supportedFeatures: 1.3.6.1.4.1.4203.1.5.1
supportedFeatures: 1.3.6.1.4.1.4203.1.5.2
supportedFeatures: 1.3.6.1.4.1.4203.1.5.3
subschemaSubentry: cn=schema
changelog: cn=changelog
supportedTLSCiphers: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256
supportedTLSCiphers: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256
supportedTLSCiphers: TLS_RSA_WITH_AES_128_CBC_SHA256
supportedTLSCiphers: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256
supportedTLSCiphers: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256
supportedTLSCiphers: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256
supportedTLSCiphers: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256
supportedTLSCiphers: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA
supportedTLSCiphers: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA
supportedTLSCiphers: TLS_RSA_WITH_AES_128_CBC_SHA
supportedTLSCiphers: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA
supportedTLSCiphers: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA
supportedTLSCiphers: TLS_DHE_RSA_WITH_AES_128_CBC_SHA
supportedTLSCiphers: TLS_DHE_DSS_WITH_AES_128_CBC_SHA
supportedTLSCiphers: TLS_ECDHE_ECDSA_WITH_RC4_128_SHA
supportedTLSCiphers: TLS_ECDHE_RSA_WITH_RC4_128_SHA
supportedTLSCiphers: SSL_RSA_WITH_RC4_128_SHA
supportedTLSCiphers: TLS_ECDH_ECDSA_WITH_RC4_128_SHA
supportedTLSCiphers: TLS_ECDH_RSA_WITH_RC4_128_SHA
supportedTLSCiphers: TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA
supportedTLSCiphers: TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA
supportedTLSCiphers: SSL_RSA_WITH_3DES_EDE_CBC_SHA
supportedTLSCiphers: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA
supportedTLSCiphers: TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA
supportedTLSCiphers: SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA
supportedTLSCiphers: SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA
supportedTLSCiphers: SSL_RSA_WITH_RC4_128_MD5
supportedTLSCiphers: TLS_EMPTY_RENEGOTIATION_INFO_SCSV
ds-private-naming-contexts: cn=admin data
ds-private-naming-contexts: cn=ads-truststore
ds-private-naming-contexts: cn=backups
ds-private-naming-contexts: cn=config
ds-private-naming-contexts: cn=monitor
ds-private-naming-contexts: cn=schema
ds-private-naming-contexts: cn=tasks
ds-private-naming-contexts: dc=replicationChanges
supportedTLSProtocols: SSLv2Hello
supportedTLSProtocols: SSLv3
supportedTLSProtocols: TLSv1
supportedTLSProtocols: TLSv1.1
supportedTLSProtocols: TLSv1.2
numSubordinates: 1
namingContexts: dc=example,dc=com
structuralObjectClass: ds-root-dse
lastExternalChangelogCookie: 
lastChangeNumber: 0
firstChangeNumber: 0
supportedExtension: 1.3.6.1.1.8
supportedExtension: 1.3.6.1.4.1.26027.1.6.1
supportedExtension: 1.3.6.1.4.1.26027.1.6.2
supportedExtension: 1.3.6.1.4.1.26027.1.6.3
supportedExtension: 1.3.6.1.4.1.4203.1.11.1
supportedExtension: 1.3.6.1.4.1.1466.20037
supportedExtension: 1.3.6.1.4.1.4203.1.11.3
vendorName: ForgeRock AS.
vendorVersion: OpenDJ 2.5.0
hasSubordinates: true
entryDN: 
entryUUID: d41d8cd9-8f00-3204-a980-0998ecf8427e
</pre></div><p>Three key pieces of information in the entry shown above are attribute
  values for <code class="literal">namingContexts</code> (showing the base DNs under
  which your application can look for user data),
  <code class="literal">subschemaSubentry</code> (indicating where the LDAP schema are
  stored), and <code class="literal">supportedLDAPVersion</code> (with OpenDJ seen to
  support both LDAPv2 and LDAPv3).</p></div><div class="section" title="7.2.&nbsp;Checking For LDAPv3 Support"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="check-ldapv3-support"></a>7.2.&nbsp;Checking For LDAPv3 Support</h2></div></div></div><p>As shown in the previous section, you can check that the root DSE
  attribute <code class="literal">supportedLDAPVersion</code> has a value of 3.</p><p>LDAPv3 has been available since 1997. Client applications built with
  OpenDJ SDK use LDAPv3.</p></div><div class="section" title="7.3.&nbsp;Getting Schema Information"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="get-schema-information"></a>7.3.&nbsp;Getting Schema Information</h2></div></div></div><a class="indexterm" name="d564e1994"></a><p>The root DSE attribute <code class="literal">subschemaSubentry</code> shows
  the DN of the entry holding LDAP schema definitions. LDAP schema defines the
  object classes, attributes types, attribute value syntaxes, matching rules
  and so on that constrain entries held by the LDAP server.</p><p>The <code class="literal">org.forgerock.opendj.ldap.schema</code> package
  is devoted to constructing and querying LDAP schemas. The
  <code class="literal">Schema</code> class for example lets you
  <code class="literal">readSchemaForEntry()</code> to get the relevant schema from the
  subschema subentry, and then <code class="literal">validateEntry()</code> to check
  an entry your application has constructed before sending the entry to the
  server.</p></div></div><div lang="en" class="chapter" title="Chapter&nbsp;8.&nbsp;Updating Directory Data"><div class="titlepage"><div><div><h2 class="title"><a name="chap-writing"></a>Chapter&nbsp;8.&nbsp;Updating Directory Data</h2></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><dl><dt><span class="section"><a href="#about-writes">8.1. About Add, Modify, Rename, &amp; Delete</a></span></dt><dt><span class="section"><a href="#adding-entries">8.2. Adding Directory Entries</a></span></dt><dt><span class="section"><a href="#modifying-attr-values">8.3. Modifying Directory Entry Attribute Values</a></span></dt><dt><span class="section"><a href="#renaming-entries">8.4. Renaming Directory Entries</a></span></dt><dt><span class="section"><a href="#deleting-entries">8.5. Deleting Directory Entries</a></span></dt><dt><span class="section"><a href="#updating-static-groups">8.6. Updating Static Groups</a></span></dt></dl></div><p>Modern directory servers like OpenDJ can handle a high load of write
 requests, replicating changes quickly both on the LAN and over the WAN.</p><p>For a complete example corresponding to the excerpts shown below, see
 <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/xref/org/forgerock/opendj/examples/ShortLife.html" target="_blank">ShortLife.java</a>, one of the <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/" target="_blank">OpenDJ LDAP SDK examples</a>.</p><div class="section" title="8.1.&nbsp;About Add, Modify, Rename, &amp; Delete"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="about-writes"></a>8.1.&nbsp;About Add, Modify, Rename, &amp; Delete</h2></div></div></div><p>The four basic CRUD operations &#8212; create, read, update, and delete
  &#8212; correspond to the LDAP operations add, search, modify (or modify DN),
  and delete.<sup>[<a name="d564e2037" href="#ftn.d564e2037" class="footnote">8</a>]</sup></p><a class="indexterm" name="d564e2040"></a><a class="indexterm" name="d564e2043"></a><a class="indexterm" name="d564e2046"></a><a class="indexterm" name="d564e2049"></a><a class="indexterm" name="d564e2052"></a><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>An add request is used to create a new entry in an LDAP directory.
    The entry must have a unique distinguished name that belongs under a base
    DN served by the directory. The entry must have a list of attributes that
    are valid according to the directory schema.</p></li><li class="listitem"><p>Search requests are described in the chapter on <a href="../dev-guide/index.html#chap-reading" class="link"><em class="citetitle">Searching &amp;
    Comparing Directory Data</em></a>.</p></li><li class="listitem"><p>A modify request is used to add, delete, or replace attribute values
    on an entry in an LDAP directory. The resulting entry must be valid
    according to the directory schema.</p><p>A modify DN request is used to rename or move a directory entry.
    In both cases the distinguished name changes. Renaming involves changing
    the relative distinguished name, for example from
    <code class="literal">cn=Bob,ou=People,dc=example,dc=com</code> to
    <code class="literal">cn=Ted,ou=People,dc=example,dc=com</code>. Moving
    involves changing the container where the entry is found, for example from
    <code class="literal">cn=Barbara Jensen,ou=People,dc=Old Company,dc=com</code> to
    <code class="literal">cn=Barbara Jensen,ou=People,dc=New Company,dc=com</code>.</p><p>Although they are both considered modify DN operations, renaming a
    leaf entry is generally much simpler than moving a container entry that has
    child entries. Not all modify DN operations mobilize equivalent resources
    on the directory server.</p></li><li class="listitem"><p>A delete request is used to remove an entry from an LDAP
    directory.</p><p>Directory servers can restrict deletes to leaf entries, so that you
    cannot remove an entry that has other child entries. For example, you have
    to delete <code class="literal">uid=bjensen,ou=People,dc=example,dc=com</code> and
    other peer entries before you delete
    <code class="literal">ou=People,dc=example,dc=com</code> unless you send a subtree
    delete request control.</p></li></ul></div><p>As a rule, your client application must be authorized to create,
  update, and delete directory data. Therefore to prepare to change directory
  data, you first get a connection, and then bind on that connection as a
  user who is authorized to make the changes you plan to request.</p></div><div class="section" title="8.2.&nbsp;Adding Directory Entries"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="adding-entries"></a>8.2.&nbsp;Adding Directory Entries</h2></div></div></div><a class="indexterm" name="d564e2101"></a><p>The <code class="literal">Connection.add()</code> methods let you provide the
  entry to add as an <code class="literal">AddRequest</code>, an <code class="literal">Entry</code>,
  or as LDIF. If the changes to make are already expressed in LDIF, then
  you can also use <code class="literal">ChangeRecordReader</code>s,
  <code class="literal">ChangeRecord</code>s, and <code class="literal">ChangeRecordWriter</code>s
  to handle the changes.</p><p>The following excerpt demonstrates how to add a simple user entry under
  <code class="literal">ou=People,dc=example,dc=com</code>.</p><pre class="brush: java;">// An entry to add to the directory
Entry entry = new LinkedHashMapEntry("cn=Bob,ou=People,dc=example,dc=com")
    .addAttribute("cn", "Bob")
    .addAttribute("objectclass", "top")
    .addAttribute("objectclass", "person")
    .addAttribute("objectclass", "organizationalPerson")
    .addAttribute("objectclass", "inetOrgPerson")
    .addAttribute("mail", "subgenius@example.com")
    .addAttribute("sn", "Dobbs");

final LDAPConnectionFactory factory = new LDAPConnectionFactory(host, port);
Connection connection = null;
try {
    connection = factory.getConnection();
    // Bind as a user who has the right to add entries.
    connection.bind(adminDN, adminPwd);

    connection.add(entry);

} catch (final ErrorResultException e) {
    System.err.println(e.getMessage());
    System.exit(e.getResult().getResultCode().intValue());
    return;
} finally {
    if (connection != null) {
        connection.close();
    }
}</pre></div><div class="section" title="8.3.&nbsp;Modifying Directory Entry Attribute Values"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="modifying-attr-values"></a>8.3.&nbsp;Modifying Directory Entry Attribute Values</h2></div></div></div><a class="indexterm" name="d564e2134"></a><p>The <code class="literal">Connection.modify()</code> methods let you add, replace,
  and delete attributes values on an entry. Either the modifications are
  expressed in LDIF, or you build a <code class="literal">ModifyRequest</code> to
  express the changes.</p><p>The following excerpt demonstrates how to replace one attribute value
  and to add another.</p><pre class="brush: java;">final LDAPConnectionFactory factory = new LDAPConnectionFactory(host, port);
Connection connection = null;
try {
    connection = factory.getConnection();
    // Bind as a user who has the right to modify entries.
    connection.bind(adminDN, adminPwd);

    // Here, entry is a user entry with DN cn=Bob,ou=People,dc=example,dc=com.
    Entry old = TreeMapEntry.deepCopyOfEntry(entry);
    entry = entry.replaceAttribute("mail", "spammer@example.com")
            .addAttribute("description", "I see the fnords.");
    ModifyRequest request = Entries.diffEntries(old, entry);

    connection.modify(request);

} catch (final ErrorResultException e) {
    System.err.println(e.getMessage());
    System.exit(e.getResult().getResultCode().intValue());
    return;
} finally {
    if (connection != null) {
        connection.close();
    }
}</pre></div><div class="section" title="8.4.&nbsp;Renaming Directory Entries"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="renaming-entries"></a>8.4.&nbsp;Renaming Directory Entries</h2></div></div></div><a class="indexterm" name="d564e2152"></a><p>The <code class="literal">Connection.modifyDN()</code> methods serve to rename
  entries and to move them around.</p><p>The following excerpt demonstrates how to rename an entry.</p><pre class="brush: java;">final LDAPConnectionFactory factory = new LDAPConnectionFactory(host, port);
Connection connection = null;
try {
    connection = factory.getConnection();
    // Bind as a user who has the right to rename entries.
    connection.bind(adminDN, adminPwd);

    // Here, entryDN contains cn=Bob,ou=People,dc=example,dc=com.
    // The second argument is the new relative distinguished name.
    connection.modifyDN(entryDN, "cn=Ted");

} catch (final ErrorResultException e) {
    System.err.println(e.getMessage());
    System.exit(e.getResult().getResultCode().intValue());
    return;
} finally {
    if (connection != null) {
        connection.close();
    }
}</pre><p>If you must move rather than rename entries, have a look at the methods
  for <code class="literal">ModifyDNRequest</code>. You can get a new request by using
  <code class="literal">Requests</code> static methods.</p></div><div class="section" title="8.5.&nbsp;Deleting Directory Entries"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="deleting-entries"></a>8.5.&nbsp;Deleting Directory Entries</h2></div></div></div><a class="indexterm" name="d564e2175"></a><p>The following excerpt demonstrates how to delete an entry with DN
  <code class="literal">cn=Ted,ou=People,dc=example,dc=com</code>.</p><pre class="brush: java;">final LDAPConnectionFactory factory = new LDAPConnectionFactory(host, port);
Connection connection = null;
try {
    connection = factory.getConnection();
    // Bind as a user who has the right to delete entries.
    connection.bind(adminDN, adminPwd);

    connection.delete("cn=Ted,ou=People,dc=example,dc=com");

} catch (final ErrorResultException e) {
    System.err.println(e.getMessage());
    System.exit(e.getResult().getResultCode().intValue());
    return;
} finally {
    if (connection != null) {
        connection.close();
    }
}</pre><p>If you must delete an entire branch of entries instead of a single
  leaf entry, build a <code class="literal">DeleteRequest</code> that includes the
  <code class="literal">SubtreeDeleteRequestControl</code>, as described in the
  section, <a href="../dev-guide/index.html#use-subtree-delete-control" class="link"><em class="citetitle">Subtree Delete
  Request Control</em></a>.</p></div><div class="section" title="8.6.&nbsp;Updating Static Groups"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="updating-static-groups"></a>8.6.&nbsp;Updating Static Groups</h2></div></div></div><a class="indexterm" name="d564e2200"></a><p>Static groups enumerate user entries. Static groups can grow large.
  For an example, see the group entry at the end of <a class="link" href="http://opendj.forgerock.org/big-group.ldif" target="_blank">big-group.ldif</a>:</p><pre class="brush: ldif;">dn: cn=Static,ou=Groups,dc=example,dc=com
objectClass: top
objectClass: groupofnames
cn: Static
member: uid=user.0,ou=People,dc=example,dc=com
member: uid=user.1,ou=People,dc=example,dc=com
member: uid=user.2,ou=People,dc=example,dc=com
...
member: uid=user.10000,ou=People,dc=example,dc=com</pre><p>To update a static group, you either add members or remove members.
  For sample code, see <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/xref/org/forgerock/opendj/examples/UpdateGroup.html" target="_blank">UpdateGroup.java</a>, one of the <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/" target="_blank">OpenDJ LDAP SDK examples</a>.</p><p>The <code class="literal">UpdateGroup</code> example checks that the directory
  server supports the Permissive Modify control. With directory servers such
  as OpenDJ that support the LDAP Permissive Modify control, you can use the
  control to avoid having to determine whether a given member is already in the
  group before performing the operation. Instead you can simply request an
  add or a delete modification for the member.</p><div class="example"><a name="update-group-with-permissive-modify"></a><div class="example-title">Example&nbsp;8.1.&nbsp;Updating a Group With Permissive Modify</div><div class="example-contents"><pre class="brush: java;">final LDAPConnectionFactory factory = new LDAPConnectionFactory(host, port);
Connection connection = null;
try {
    connection = factory.getConnection();

    Collection&lt;String&gt; controls =
            RootDSE.readRootDSE(connection).getSupportedControls();

    final String user = "cn=Directory Manager";
    final char[] password = "password".toCharArray();
    connection.bind(user, password);

    if (controls.contains(PermissiveModifyRequestControl.OID)) {

        final ModifyRequest request = Requests.newModifyRequest(groupDN)
                .addControl(PermissiveModifyRequestControl.newControl(true))
                .addModification(modType, "member", memberDN);
        connection.modify(request);

    } else {

        /* ... */

    }

    String op = (modType == ModificationType.ADD) ? "added to" : "deleted from";
    System.out.println("The entry with DN " + memberDN + " has been "
            + op + " the group with DN " + groupDN + ".");

} catch (final ErrorResultException e) {
    System.err.println(e.getMessage());
    System.exit(e.getResult().getResultCode().intValue());
    return;
} finally {
    if (connection != null) {
        connection.close();
    }
}</pre></div></div><br class="example-break"><p>If the directory server does not support the Permissive Modify control,
  then the example checks whether the member is present in the group by using
  an LDAP compare operation. If a member to be added does not yet belong to the
  group, the example requests an add modification. If a member to be deleted
  does belong to the group, the example requests a delete modification.</p><div class="example"><a name="update-group-with-compare-and-modify"></a><div class="example-title">Example&nbsp;8.2.&nbsp;Updating a Group With Compare &amp; Modify</div><div class="example-contents"><pre class="brush: java;">final LDAPConnectionFactory factory = new LDAPConnectionFactory(host, port);
Connection connection = null;
try {
    connection = factory.getConnection();

    Collection&lt;String&gt; controls =
            RootDSE.readRootDSE(connection).getSupportedControls();

    final String user = "cn=Directory Manager";
    final char[] password = "password".toCharArray();
    connection.bind(user, password);

    if (controls.contains(PermissiveModifyRequestControl.OID)) {

        /* ... */

    } else {

        System.out.println("Checking whether the entry with DN "
                + memberDN + " belongs to the group with DN " + groupDN
                + "...");
        final CompareRequest request =
                Requests.newCompareRequest(groupDN, "member", memberDN);
        CompareResult result = connection.compare(request);

        if (modType == ModificationType.ADD) {
            if (result.getResultCode() == ResultCode.COMPARE_FALSE) {
                System.out.println("Member does not yet belong to group."
                        + " Adding it...");
                final ModifyRequest addMember =
                        Requests.newModifyRequest(groupDN)
                            .addModification(modType, "member", memberDN);
                connection.modify(addMember);
            }
        }

        if (modType == ModificationType.DELETE) {
            if (result.getResultCode() == ResultCode.COMPARE_TRUE) {
                System.out.println("Member belongs to group."
                        + " Removing it...");
                final ModifyRequest delMember =
                        Requests.newModifyRequest(groupDN)
                            .addModification(modType, "member", memberDN);
                connection.modify(delMember);
            }
        }

    }

    String op = (modType == ModificationType.ADD) ? "added to" : "deleted from";
    System.out.println("The entry with DN " + memberDN + " has been "
            + op + " the group with DN " + groupDN + ".");

} catch (final ErrorResultException e) {
    System.err.println(e.getMessage());
    System.exit(e.getResult().getResultCode().intValue());
    return;
} finally {
    if (connection != null) {
        connection.close();
    }
}</pre><p>You can change multiple member values with a single modification. The
   final argument of this form of the
   <code class="literal">ModifyRequest.addModification()</code> method takes a series
   of one or more values. So if you have multiple group members to add or
   delete, you can loop over your list to perform compare individual compare
   requests, then construct a single modify request to add or delete the
   group members. In other words, if you have three members to add, you can
   list the three member DNs as arguments of
   <code class="literal">addModification</code>.</p><pre class="brush: java;">String member1 = "uid=user1,ou=people,dc=example,dc=com";
String member2 = "uid=user1,ou=people,dc=example,dc=com";
String member3 = "uid=user1,ou=people,dc=example,dc=com";
final ModifyRequest addMember =
    Requests.newModifyRequest(groupDN)
        .addModification(modType, "member", member1, member2, member3);
connection.modify(addMember);</pre></div></div><br class="example-break"><p>To try the example, download and import
  <code class="filename">big-group.ldif</code> into your directory server, and then
  run the sample. For example, if OpenDJ is set up to with directory manager
  as <code class="literal">cn=Directory Manager</code>, password
  <code class="literal">password</code> listening on <code class="literal">localhost</code> port
  <code class="literal">1389</code>, and you run the example with arguments
  <code class="literal">localhost 1389 cn=Static,ou=Groups,dc=example,dc=com
  uid=user.5150,ou=People,dc=example,dc=com del</code>, the resulting output
  is <code class="literal">The entry with DN uid=user.5150,ou=People,dc=example,dc=com has
  been deleted from the group with DN
  cn=Static,ou=Groups,dc=example,dc=com.</code>.</p></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a id="ftn.d564e2037" href="#d564e2037" class="para">8</a>] </sup>The LDAP bind operation can potentially result in
  an update. Some directory servers can be configured to write time stamps in
  order to track successful or failed binds for password policy reasons.</p></div></div></div><div lang="en" class="chapter" title="Chapter&nbsp;9.&nbsp;Working With LDIF"><div class="titlepage"><div><div><h2 class="title"><a name="chap-ldif"></a>Chapter&nbsp;9.&nbsp;Working With LDIF</h2></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><dl><dt><span class="section"><a href="#about-ldif">9.1. About LDIF</a></span></dt><dt><span class="section"><a href="#reading-ldif">9.2. Reading LDIF</a></span></dt><dt><span class="section"><a href="#writing-ldif">9.3. Writing LDIF</a></span></dt></dl></div><p>OpenDJ LDAP SDK provides capabilities for working with <a class="link" href="http://tools.ietf.org/html/rfc2849" target="_blank">LDAP Data
 Interchange Format</a> (LDIF) content. This chapter demonstrates how to use
 those capabilities.</p><div class="section" title="9.1.&nbsp;About LDIF"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="about-ldif"></a>9.1.&nbsp;About LDIF</h2></div></div></div><a class="indexterm" name="d564e2284"></a><p>LDAP Data Interchange Format provides a mechanism to represent
  directory data in text format. LDIF data is typically used to initialize
  directory databases, but also may be used to move data between different
  directories that cannot replicate directly, or even as an alternative
  backup format. When you read OpenDJ's external change log, you get changes
  expressed in LDIF.</p><p>LDIF uses base64 encoding to store values that are not safe for use in
  a text file, including values that represent binary objects like JPEG photos
  and X509 certificates, but also values that hold bits of LDIF, and values that
  end in white space. The description in the following LDIF holds, "Space at
  the end of the line " for example. Notice that continuation lines shown in
  the excerpt of the JPEG photo value start with spaces.</p><pre class="brush: ldif;">dn: uid=bjensen,ou=People,dc=example,dc=com
description:: U3BhY2UgYXQgdGhlIGVuZCBvZiB0aGUgbGluZSA=
uid: bjensen
jpegPhoto:: /9j/4AAQSkZJRgABAQEASABIAAD/4gxYSUNDX1BST0ZJTEUAAQEAAAxITGlubwIQAABt
 bnRyUkdCIFhZWiAHzgACAAkABgAxAABhY3NwTVNGVAAAAABJRUMgc1JHQgAAAAAAAAAAAAAAAAAA9tY
 AAQAAAADTLUhQICAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB
 ...
 Pxv8A8lh8J/8AXUfzr1qP/WSfWlzPlsZSi3VHqMA/WinUVB0n/9k=
facsimileTelephoneNumber: +1 408 555 1992
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: posixAccount
objectClass: top
givenName: Barbara
cn: Barbara Jensen
cn: Babs Jensen
telephoneNumber: +1 408 555 1862
sn: Jensen
roomNumber: 0209
homeDirectory: /home/bjensen
ou: Product Development
ou: People
l: Cupertino
mail: bjensen@example.com
uidNumber: 1076
gidNumber: 1000
</pre><p>LDIF can serve to describe not only entries with their attributes but
  also changes to entries. For example, you can express adding a JPEG photo
  to Babs Jensen's entry as follows.</p><pre class="brush: ldif;">dn: uid=bjensen,ou=people,dc=example,dc=com
changetype: modify
add: jpegPhoto
jpegPhoto:&lt; file:///tmp/opendj-logo.jpg
</pre><p>You can also replace and delete attribute values. Notice the dash,
  <code class="literal">-</code>, used to separate changes.</p><pre class="brush: ldif;">dn: uid=bjensen,ou=people,dc=example,dc=com
changetype: modify
replace: roomNumber
roomNumber: 1234
-
delete: description
-
delete: jpegPhoto
</pre><p>LDIF also allows <code class="literal">changetype</code>s of
  <code class="literal">add</code> to create entries, <code class="literal">delete</code> to
  remove entries, and <code class="literal">modrdn</code> to rename entries.</p><p>For more examples, see the LDIF specification, <a class="link" href="http://tools.ietf.org/html/rfc2849" target="_blank">RFC 2849</a>.</p></div><div class="section" title="9.2.&nbsp;Reading LDIF"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="reading-ldif"></a>9.2.&nbsp;Reading LDIF</h2></div></div></div><a class="indexterm" name="d564e2326"></a><p>OpenDJ LDAP SDK provides <code class="literal">ChangeRecordReader</code>s to
  read requests to modify directory data, and <code class="literal">EntryReader</code>s
  to read entries from a data source such as a file or other source. Both of
  these are interfaces.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>The <code class="literal">ConnectionEntryReader</code> class offers methods
    to iterate through entries and references returned by a search.</p></li><li class="listitem"><p>The <code class="literal">LDIFChangeRecordReader</code> and
    <code class="literal">LDIFEntryReader</code> classes offer methods to handle LDIF as
    strings or from an input stream.</p><p>Both classes give you some methods to filter content. You can also
    use the <code class="literal">LDIF</code> static methods to filter content.</p></li></ul></div><p>The following short excerpt shows a reader that takes LDIF change
  records from standard input.</p><pre class="brush: java;">InputStream ldif = System.in;
final LDIFChangeRecordReader reader = new LDIFChangeRecordReader(ldif);</pre></div><div class="section" title="9.3.&nbsp;Writing LDIF"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="writing-ldif"></a>9.3.&nbsp;Writing LDIF</h2></div></div></div><a class="indexterm" name="d564e2367"></a><p><code class="literal">ChangeRecordWriter</code>s let you write requests to modify
  directory data, whereas <code class="literal">EntryWriter</code>s let you write entries
  to a file or an output stream. Both of these are interfaces.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>The <code class="literal">ConnectionChangeRecordWriter</code> and
    <code class="literal">ConnectionEntryWriter</code> classes let you write directly
    to a connection to the directory.</p></li><li class="listitem"><p>The <code class="literal">LDIFChangeRecordWriter</code> and
    <code class="literal">LDIFEntryWriter</code> classes let you write to a file or other
    output stream. Both classes offer methods to filter content.</p></li></ul></div><p>The following excerpt shows a writer pushing LDIF changes to a
  directory server.</p><pre class="brush: java;">final LDIFChangeRecordReader reader = new LDIFChangeRecordReader(ldif);
final LDAPConnectionFactory factory = new LDAPConnectionFactory(host, port);
Connection connection = null;

try {
    connection = factory.getConnection();
    connection.bind(userDN, password.toCharArray());

    final ConnectionChangeRecordWriter writer =
            new ConnectionChangeRecordWriter(connection);
    while (reader.hasNext()) {
        ChangeRecord changeRecord = reader.readChangeRecord();
        writer.writeChangeRecord(changeRecord);
    }
} catch (final ErrorResultException e) {
    System.err.println(e.getMessage());
    System.exit(e.getResult().getResultCode().intValue());
    return;
} catch (final IOException e) {
    System.err.println(e.getMessage());
    System.exit(ResultCode.CLIENT_SIDE_LOCAL_ERROR.intValue());
    return;
} finally {
    if (connection != null) {
        connection.close();
    }
}</pre></div></div><div lang="en" class="chapter" title="Chapter&nbsp;10.&nbsp;Working With Controls"><div class="titlepage"><div><div><h2 class="title"><a name="chap-controls"></a>Chapter&nbsp;10.&nbsp;Working With Controls</h2></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><dl><dt><span class="section"><a href="#about-ldap-controls">10.1. About LDAP Controls</a></span></dt><dt><span class="section"><a href="#get-supported-controls">10.2. Determining Supported Controls</a></span></dt><dt><span class="section"><a href="#use-assertion-request-control">10.3. Assertion Request Control</a></span></dt><dt><span class="section"><a href="#use-authorization-identity-control">10.4. Authorization Identity Controls</a></span></dt><dt><span class="section"><a href="#use-entry-change-notification-control">10.5. Entry Change Notification Response Controls</a></span></dt><dt><span class="section"><a href="#use-get-effective-rights-control">10.6. GetEffectiveRights Request Control</a></span></dt><dt><span class="section"><a href="#use-managedsait-control">10.7. ManageDsaIT Request Control</a></span></dt><dt><span class="section"><a href="#use-matched-values-request-control">10.8. Matched Values Request Control</a></span></dt><dt><span class="section"><a href="#use-password-expired-control">10.9. Password Expired Response Control</a></span></dt><dt><span class="section"><a href="#use-password-expiring-control">10.10. Password Expiring Response Control</a></span></dt><dt><span class="section"><a href="#use-password-policy-controls">10.11. Password Policy Controls</a></span></dt><dt><span class="section"><a href="#use-permissive-modify-request-control">10.12. Permissive Modify Request Control</a></span></dt><dt><span class="section"><a href="#use-persistent-search-request-control">10.13. Persistent Search Request Control</a></span></dt><dt><span class="section"><a href="#use-post-read-control">10.14. Post-Read Controls</a></span></dt><dt><span class="section"><a href="#use-pre-read-control">10.15. Pre-Read Controls</a></span></dt><dt><span class="section"><a href="#use-proxy-authz-control">10.16. Proxied Authorization Request Controls</a></span></dt><dt><span class="section"><a href="#use-server-side-sort-control">10.17. Server-Side Sort Controls</a></span></dt><dt><span class="section"><a href="#use-simple-paged-results-control">10.18. Simple Paged Results Control</a></span></dt><dt><span class="section"><a href="#use-subentry-request-control">10.19. Subentries Request Control</a></span></dt><dt><span class="section"><a href="#use-subtree-delete-control">10.20. Subtree Delete Request Control</a></span></dt><dt><span class="section"><a href="#use-vlv-control">10.21. Virtual List View Controls</a></span></dt><dt><span class="section"><a href="#use-generic-control">10.22. Using a Generic Control</a></span></dt></dl></div><a class="indexterm" name="d564e2406"></a><a class="indexterm" name="d564e2409"></a><p>This chapter demonstrates how to use LDAP controls.</p><p>For complete examples corresponding to the excerpts shown below, see
 <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/xref/org/forgerock/opendj/examples/Controls.html" target="_blank">Controls.java</a>, one of the <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/" target="_blank">OpenDJ LDAP SDK examples</a>.</p><div class="section" title="10.1.&nbsp;About LDAP Controls"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="about-ldap-controls"></a>10.1.&nbsp;About LDAP Controls</h2></div></div></div><p>Controls provide a mechanism whereby the semantics and arguments of
  existing LDAP operations may be extended. One or more controls may be
  attached to a single LDAP message. A control only affects the semantics of
  the message it is attached to. Controls sent by clients are termed
  <span class="emphasis"><em>request controls</em></span>, and those sent by servers are termed
  <span class="emphasis"><em>response controls</em></span>.</p></div><div class="section" title="10.2.&nbsp;Determining Supported Controls"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="get-supported-controls"></a>10.2.&nbsp;Determining Supported Controls</h2></div></div></div><a class="indexterm" name="d564e2438"></a><a class="indexterm" name="d564e2443"></a><p>For OpenDJ, the controls supported are listed in the
  <em class="citetitle">Administration Guide</em> appendix, <a href="../admin-guide/index.html#appendix-controls" class="link"><em class="citetitle">LDAP
  Controls</em></a>. You can access the list of OIDs for
  supported LDAP controls by reading the <code class="literal">supportedControl</code>
  attribute of the root DSE.</p><div class="screen"><pre class="brush: plain;">$ ldapsearch
 --baseDN ""
 --searchScope base
 --port 1389
 "(objectclass=*)" supportedControl
dn: 
supportedControl: 1.2.826.0.1.3344810.2.3
supportedControl: 1.2.840.113556.1.4.1413
supportedControl: 1.2.840.113556.1.4.319
supportedControl: 1.2.840.113556.1.4.473
supportedControl: 1.2.840.113556.1.4.805
supportedControl: 1.3.6.1.1.12
supportedControl: 1.3.6.1.1.13.1
supportedControl: 1.3.6.1.1.13.2
supportedControl: 1.3.6.1.4.1.26027.1.5.2
supportedControl: 1.3.6.1.4.1.42.2.27.8.5.1
supportedControl: 1.3.6.1.4.1.42.2.27.9.5.2
supportedControl: 1.3.6.1.4.1.42.2.27.9.5.8
supportedControl: 1.3.6.1.4.1.4203.1.10.1
supportedControl: 1.3.6.1.4.1.4203.1.10.2
supportedControl: 1.3.6.1.4.1.7628.5.101.1
supportedControl: 2.16.840.1.113730.3.4.12
supportedControl: 2.16.840.1.113730.3.4.16
supportedControl: 2.16.840.1.113730.3.4.17
supportedControl: 2.16.840.1.113730.3.4.18
supportedControl: 2.16.840.1.113730.3.4.19
supportedControl: 2.16.840.1.113730.3.4.2
supportedControl: 2.16.840.1.113730.3.4.3
supportedControl: 2.16.840.1.113730.3.4.4
supportedControl: 2.16.840.1.113730.3.4.5
supportedControl: 2.16.840.1.113730.3.4.9</pre></div><p>The following excerpt shows couple of methods to check whether the
  directory server supports a control.</p><pre class="brush: java;">
/**
 * Controls supported by the LDAP server.
 */
private static Collection&lt;String&gt; controls;

/**
 * Populate the list of supported LDAP control OIDs.
 *
 * @param connection
 *            Active connection to the LDAP server.
 * @throws ErrorResultException
 *             Failed to get list of controls.
 */
static void checkSupportedControls(Connection connection)
        throws ErrorResultException {
    controls = RootDSE.readRootDSE(connection).getSupportedControls();
}

/**
 * Check whether a control is supported. Call {@code checkSupportedControls}
 * first.
 *
 * @param control
 *            Check support for this control, provided by OID.
 * @return True if the control is supported.
 */
static boolean isSupported(final String control) {
    if (controls != null &amp;&amp; !controls.isEmpty()) {
        return controls.contains(control);
    }
    return false;
}
</pre></div><div class="section" title="10.3.&nbsp;Assertion Request Control"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-assertion-request-control"></a>10.3.&nbsp;Assertion Request Control</h2></div></div></div><a class="indexterm" name="d564e2469"></a><a class="indexterm" name="d564e2474"></a><p>The <a class="link" href="http://tools.ietf.org/html/rfc4528" target="_blank">LDAP assertion control</a> lets you specify a condition
  that must be true in order for the operation you request to be processed
  normally. The following excerpt shows, for example, how you might check
  that no description exists on the entry before adding your description.</p><pre class="brush: java;">
if (isSupported(AssertionRequestControl.OID)) {
    final String dn = "uid=bjensen,ou=People,dc=example,dc=com";

    final ModifyRequest request =
            Requests.newModifyRequest(dn)
                .addControl(AssertionRequestControl.newControl(
                        true, Filter.valueOf("!(description=*)")))
                .addModification(ModificationType.ADD, "description",
                        "Created using LDAP assertion control");

    connection.modify(request);

    final LDIFEntryWriter writer = new LDIFEntryWriter(System.out);
    try {
        writer.writeEntry(connection.readEntry(dn, "description"));
        writer.close();
    } catch (final IOException e) {
        // The writer could not write to System.out.
    }
}
</pre><p>OpenDJ directory server supports the LDAP assertion control:</p><pre class="brush: ldif;">dn: uid=bjensen,ou=People,dc=example,dc=com
description: Created using LDAP assertion control</pre></div><div class="section" title="10.4.&nbsp;Authorization Identity Controls"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-authorization-identity-control"></a>10.4.&nbsp;Authorization Identity Controls</h2></div></div></div><a class="indexterm" name="d564e2491"></a><a class="indexterm" name="d564e2496"></a><p>The <a class="link" href="http://tools.ietf.org/html/rfc3829" target="_blank">LDAP Authorization Identity Controls</a> let you get the
  authorization identity established when you bind to the directory server.
  The following excerpt shows simple use of the controls.</p><pre class="brush: java;">
if (isSupported(AuthorizationIdentityRequestControl.OID)) {
    final String dn = "uid=bjensen,ou=People,dc=example,dc=com";
    final char[] pwd = "hifalutin".toCharArray();

    System.out.println("Binding as " + dn);
    final BindRequest request =
            Requests.newSimpleBindRequest(dn, pwd)
                .addControl(AuthorizationIdentityRequestControl.newControl(true));

    final BindResult result = connection.bind(request);
    try {
        final AuthorizationIdentityResponseControl control =
                result.getControl(AuthorizationIdentityResponseControl.DECODER,
                        new DecodeOptions());
        System.out.println("Authorization ID returned: "
                        + control.getAuthorizationID());
    } catch (final DecodeException e) {
        // Failed to decode the response control.
    }
}
</pre><p>OpenDJ directory server supports the LDAP Authorization Identity
  Controls:</p><pre class="brush: plain;">Binding as uid=bjensen,ou=People,dc=example,dc=com
Authorization ID returned: dn:uid=bjensen,ou=People,dc=example,dc=com</pre></div><div class="section" title="10.5.&nbsp;Entry Change Notification Response Controls"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-entry-change-notification-control"></a>10.5.&nbsp;Entry Change Notification Response Controls</h2></div></div></div><a class="indexterm" name="d564e2513"></a><a class="indexterm" name="d564e2518"></a><a class="indexterm" name="d564e2523"></a><p>When performing a persistent search, your application can retrieve
  information using this response control about why the directory server
  returned the entry. See the Internet-Draft on <a class="link" href="http://tools.ietf.org/html/draft-ietf-ldapext-psearch" target="_blank">persistent
  searches</a> for background information.</p><pre class="brush: java;">
if (isSupported(PersistentSearchRequestControl.OID)) {
    final SearchRequest request =
            Requests.newSearchRequest(
                    "dc=example,dc=com", SearchScope.WHOLE_SUBTREE,
                    "(objectclass=inetOrgPerson)", "cn")
                    .addControl(PersistentSearchRequestControl.newControl(
                            true, true, true, // critical,changesOnly,returnECs
                            PersistentSearchChangeType.ADD,
                            PersistentSearchChangeType.DELETE,
                            PersistentSearchChangeType.MODIFY,
                            PersistentSearchChangeType.MODIFY_DN));

    final ConnectionEntryReader reader = connection.search(request);

    try {
        while (reader.hasNext()) {
            if (!reader.isReference()) {
                final SearchResultEntry entry = reader.readEntry();
                System.out.println("Entry changed: "
                        + entry.getName().toString());

                EntryChangeNotificationResponseControl control =
                        entry.getControl(
                                EntryChangeNotificationResponseControl.DECODER,
                                new DecodeOptions());

                PersistentSearchChangeType type = control.getChangeType();
                System.out.println("Change type: " + type.toString());
                if (type.equals(PersistentSearchChangeType.MODIFY_DN)) {
                    System.out.println("Previous DN: "
                            + control.getPreviousName().toString());
                }
                System.out.println("Change number: "
                        + control.getChangeNumber());
                System.out.println(); // Add a blank line.
           }
        }
    } catch (final DecodeException e) {
        // Failed to decode the response control.
    } catch (final ErrorResultIOException e) {
        // Request failed due to an IO problem.
    } catch (final SearchResultReferenceIOException e) {
        // Read a reference, rather than an entry.
    }
}
</pre><p>OpenDJ directory server supports persistent searches and the entry
  change notification response control. When another application renames
  Anne-Louise Barnes's entry, the sample code picks up information from the
  entry change notification response control:</p><pre class="brush: plain;">Entry changed: uid=bdobbs,ou=People,dc=example,dc=com
Change type: modifyDN
Previous DN: uid=abarnes,ou=People,dc=example,dc=com
Change number: -1</pre><p>In this case, <code class="literal">Change number: -1</code> because the server
  did not set a change number value. OpenDJ directory server does not set the
  change number value in the response control. If you need to track the order
  of changes with OpenDJ directory server, read the external change log instead
  of using the entry change notification response control.</p></div><div class="section" title="10.6.&nbsp;GetEffectiveRights Request Control"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-get-effective-rights-control"></a>10.6.&nbsp;GetEffectiveRights Request Control</h2></div></div></div><a class="indexterm" name="d564e2545"></a><a class="indexterm" name="d564e2550"></a><p>Your application can attach the GetEffectiveRights request control to
  retrieve information about what the directory server permits a user to do.
  Use this control during a search to see permissions on the entries returned.
  See the Internet-Draft on the <a class="link" href="http://tools.ietf.org/html/draft-ietf-ldapext-acl-model" target="_blank">Access
  Control Model for LDAP</a> for background.</p><pre class="brush: java;">
if (isSupported(GetEffectiveRightsRequestControl.OID)) {
    final String authDN = "uid=kvaughan,ou=People,dc=example,dc=com";

    final SearchRequest request =
            Requests.newSearchRequest(
                    "dc=example,dc=com", SearchScope.WHOLE_SUBTREE,
                    "(uid=bjensen)", "cn", "aclRights", "aclRightsInfo")
                    .addControl(GetEffectiveRightsRequestControl.newControl(
                            true, authDN, "cn"));

    final ConnectionEntryReader reader = connection.search(request);
    final LDIFEntryWriter writer = new LDIFEntryWriter(System.out);
    try {
        while (reader.hasNext()) {
            if (!reader.isReference()) {
                final SearchResultEntry entry = reader.readEntry();
                writer.writeEntry(entry);
            }
        }
        writer.close();
    } catch (final ErrorResultIOException e) {
        // Request failed due to an IO problem.
    } catch (final SearchResultReferenceIOException e) {
        // Read a reference, rather than an entry.
    } catch (final IOException e) {
        // The writer could not write to System.out.
    }
}
</pre><p>OpenDJ SDK currently implements the request control, but not the
  response control. The results are shown as values of the
  <code class="literal">aclRights</code> and more verbose <code class="literal">aclRightsInfo</code>
  attributes.</p><pre class="brush: ldif;">
dn: uid=bjensen,ou=People,dc=example,dc=com
aclRightsInfo;logs;attributeLevel;selfwrite_delete;cn: acl_summary(main)
 : access allowed(write) on entry/attr(uid=bjensen,ou=People,dc=example,dc=com
 , distinguishedName) to (uid=kvaughan,ou=People,dc=example,dc=com) (not proxied
 ) ( reason: evaluated allow , deciding_aci: allow all Admin group)
aclRightsInfo;logs;entryLevel;read: acl_summary(main): access allowed(read
 ) on entry/attr(uid=bjensen,ou=People,dc=example,dc=com, objectClass) to (
 uid=kvaughan,ou=People,dc=example,dc=com) (not proxied) ( reason
 : evaluated allow , deciding_aci: Anonymous read-search access)
aclRightsInfo;logs;attributeLevel;proxy;cn: acl_summary(main)
 : access not allowed(proxy) on entry/attr(uid=bjensen,ou=People,dc=example,
 dc=com, cn) to (uid=kvaughan,ou=People,dc=example,dc=com) (not proxied
 ) (reason: no acis matched the subject )
aclRights;attributeLevel;cn: search:1,read:1,compare:1,write:1,selfwrite_add:1,
 selfwrite_delete:1,proxy:0
aclRightsInfo;logs;attributeLevel;write;cn: acl_summary(main): access allowed
 (write) on entry/attr(uid=bjensen,ou=People,dc=example,dc=com, cn) to (
 uid=kvaughan,ou=People,dc=example,dc=com) (not proxied
 ) ( reason: evaluated allow , deciding_aci: allow all Admin group)
aclRights;entryLevel: add:1,delete:1,read:1,write:1,proxy:0
aclRightsInfo;logs;attributeLevel;search;cn: acl_summary(main): access allowed(
 search) on entry/attr(uid=bjensen,ou=People,dc=example,dc=com, cn) to (
 uid=kvaughan,ou=People,dc=example,dc=com) (not proxied
 ) ( reason: evaluated allow , deciding_aci: Anonymous read-search access)
aclRightsInfo;logs;entryLevel;write: acl_summary(main): access allowed(write
 ) on entry/attr(uid=bjensen,ou=People,dc=example,dc=com, NULL) to (
 uid=kvaughan,ou=People,dc=example,dc=com) (not proxied
 ) ( reason: evaluated allow , deciding_aci: allow all Admin group)
aclRightsInfo;logs;attributeLevel;selfwrite_add;cn: acl_summary(main
 ): access allowed(write) on entry/attr(uid=bjensen,ou=People,dc=example,
 dc=com, distinguishedName) to (uid=kvaughan,ou=People,dc=example,dc=com) (
 not proxied) ( reason: evaluated allow , deciding_aci: allow all Admin group)
aclRightsInfo;logs;entryLevel;add: acl_summary(main): access allowed(add
 ) on entry/attr(uid=bjensen,ou=People,dc=example,dc=com, NULL) to (
 uid=kvaughan,ou=People,dc=example,dc=com) (not proxied
 ) ( reason: evaluated allow , deciding_aci: allow all Admin group)
aclRightsInfo;logs;attributeLevel;read;cn: acl_summary(main): access allowed(
 read) on entry/attr(uid=bjensen,ou=People,dc=example,dc=com, cn) to (
 uid=kvaughan,ou=People,dc=example,dc=com) (not proxied
 ) ( reason: evaluated allow , deciding_aci: Anonymous read-search access)
cn: Barbara Jensen
cn: Babs Jensen
aclRightsInfo;logs;entryLevel;proxy: acl_summary(main): access not allowed(
 proxy) on entry/attr(uid=bjensen,ou=People,dc=example,dc=com, NULL) to (
 uid=kvaughan,ou=People,dc=example,dc=com) (not proxied
 ) ( reason: no acis matched the subject )
aclRightsInfo;logs;attributeLevel;compare;cn: acl_summary(main): access allowed
 (compare) on entry/attr(uid=bjensen,ou=People,dc=example,dc=com, cn) to (
 uid=kvaughan,ou=People,dc=example,dc=com) (not proxied
 ) ( reason: evaluated allow , deciding_aci: Anonymous read-search access)
aclRightsInfo;logs;entryLevel;delete: acl_summary(main): access allowed(
 delete) on entry/attr(uid=bjensen,ou=People,dc=example,dc=com, NULL) to (
 uid=kvaughan,ou=People,dc=example,dc=com) (not proxied
 ) ( reason: evaluated allow , deciding_aci: allow all Admin group)
</pre></div><div class="section" title="10.7.&nbsp;ManageDsaIT Request Control"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-managedsait-control"></a>10.7.&nbsp;ManageDsaIT Request Control</h2></div></div></div><a class="indexterm" name="d564e2573"></a><a class="indexterm" name="d564e2578"></a><p>The ManageDsaIT control, described in <a class="link" href="http://tools.ietf.org/html/rfc3296" target="_blank">RFC 3296, <em class="citetitle">Named
  Subordinate References in LDAP Directories</em></a>, lets your
  application handle references and other special entries as normal entries.
  Use it when you want to read from or write to reference or special
  entry.</p><pre class="brush: java;">
if (isSupported(ManageDsaITRequestControl.OID)) {
    final String dn = "dc=ref,dc=com";

    final LDIFEntryWriter writer = new LDIFEntryWriter(System.out);
    try {
        System.out.println("Referral without the ManageDsaIT control.");
        SearchRequest request = Requests.newSearchRequest(dn,
                SearchScope.SUBORDINATES, "(objectclass=*)", "");
        final ConnectionEntryReader reader = connection.search(request);
        while (reader.hasNext()) {
            if (reader.isReference()) {
                final SearchResultReference ref = reader.readReference();
                System.out.println("Reference: " + ref.getURIs().toString());
            }
        }

        System.out.println("Referral with the ManageDsaIT control.");
        request.addControl(ManageDsaITRequestControl.newControl(true));
        final SearchResultEntry entry = connection.searchSingleEntry(request);
        writer.writeEntry(entry);
        writer.close();
    } catch (final ErrorResultIOException e) {
        // Request failed due to an IO problem.
    } catch (final SearchResultReferenceIOException e) {
        // Read a reference, rather than an entry.
    } catch (final IOException e) {
        // The writer could not write to System.out.
    }
}
</pre><p>OpenDJ directory server supports the ManageDsaIT Request Control. To use
  the example entry create a new base DN, <code class="literal">dc=ref,dc=com</code>
  before you import the data:</p><pre class="brush: plain;">Referral without the ManageDsaIT control.
Reference: [ldap:///dc=example,dc=com??sub?]
Referral with the ManageDsaIT control.
dn: dc=references,dc=ref,dc=com</pre></div><div class="section" title="10.8.&nbsp;Matched Values Request Control"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-matched-values-request-control"></a>10.8.&nbsp;Matched Values Request Control</h2></div></div></div><a class="indexterm" name="d564e2600"></a><a class="indexterm" name="d564e2605"></a><p>RFC 3876, <a class="link" href="http://tools.ietf.org/html/rfc3876" target="_blank"><em class="citetitle">Returning Matched Values with the
  LDAPv3</em></a>, describes a control that lets your application
  pass a filter in a search request getting a multivalued attribute such that
  the directory server only returns attribute values that match the
  filter.</p><p>Barbara Jensen's entry contains two common name values,
  <code class="literal">Barbara Jensen</code> and <code class="literal">Babs Jensen</code>. The
  following excerpt retrieves only the latter.</p><pre class="brush: java;">
if (isSupported(MatchedValuesRequestControl.OID)) {
    final String dn = "uid=bjensen,ou=People,dc=example,dc=com";
    final SearchRequest request =
            Requests.newSearchRequest(dn, SearchScope.BASE_OBJECT,
                    "(objectclass=*)", "cn")
                    .addControl(MatchedValuesRequestControl.newControl(
                            true, "(cn=Babs Jensen)"));

    final SearchResultEntry entry = connection.searchSingleEntry(request);
    System.out.println("Reading entry with matched values request.");
    final LDIFEntryWriter writer = new LDIFEntryWriter(System.out);
    try {
        writer.writeEntry(entry);
        writer.close();
    } catch (final IOException e) {
        // The writer could not write to System.out.
    }
}
</pre><p>OpenDJ directory server supports the matched values request
  control.</p><pre class="brush: ldif;">Reading entry with matched values request.
dn: uid=bjensen,ou=People,dc=example,dc=com
cn: Babs Jensen
</pre></div><div class="section" title="10.9.&nbsp;Password Expired Response Control"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-password-expired-control"></a>10.9.&nbsp;Password Expired Response Control</h2></div></div></div><a class="indexterm" name="d564e2631"></a><a class="indexterm" name="d564e2636"></a><p>A directory server can return the Password Expired Response Control,
  described in the Internet-Draft <a class="link" href="http://tools.ietf.org/html/draft-vchu-ldap-pwd-policy" target="_blank"><em class="citetitle">Password Policy for LDAP Directories</em></a>, when a bind fails
  because the password has expired. In order to see this, you must configure
  the directory to expire Barbara Jensen's password.</p><pre class="brush: java;">
if (isSupported(PasswordExpiredResponseControl.OID)) {
    final String dn = "uid=bjensen,ou=People,dc=example,dc=com";
    final char[] pwd = "hifalutin".toCharArray();

    try {
        connection.bind(dn, pwd);
    } catch (final ErrorResultException e) {
        final Result result = e.getResult();
        try {
            final PasswordExpiredResponseControl control =
                    result.getControl(PasswordExpiredResponseControl.DECODER,
                            new DecodeOptions());
            if (!(control == null) &amp;&amp; control.hasValue()) {
                System.out.println("Password expired for " + dn);
            }
        } catch (final DecodeException de) {
            // Failed to decode the response control.
        }
    }
}
</pre><p>OpenDJ directory server supports the Password Expired Response Control.
  To obtain the following output from the excerpt, you can change the default
  password policy configuration to set a short maximum password age, change
  Barbara Jensen's password, and wait for it to expire. See the OpenDJ
  <em class="citetitle">Administration Guide</em> procedure explaining how
  <a href="../admin-guide/index.html#default-pwp" class="link"><em class="citetitle">To Adjust the Default Password Policy</em></a> for an example
  of how to adjust the maximum password age.</p><pre class="brush: plain;">Password expired for uid=bjensen,ou=People,dc=example,dc=com</pre></div><div class="section" title="10.10.&nbsp;Password Expiring Response Control"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-password-expiring-control"></a>10.10.&nbsp;Password Expiring Response Control</h2></div></div></div><a class="indexterm" name="d564e2663"></a><a class="indexterm" name="d564e2668"></a><p>The Password Expiring Response Control, described in the Internet-Draft
  <a class="link" href="http://tools.ietf.org/html/draft-vchu-ldap-pwd-policy" target="_blank"><em class="citetitle">Password Policy for LDAP
  Directories</em></a>, warns your application during a bind
  that the password used will soon expire.</p><pre class="brush: java;">
if (isSupported(PasswordExpiringResponseControl.OID)) {
    final String dn = "uid=bjensen,ou=People,dc=example,dc=com";
    final char[] pwd = "hifalutin".toCharArray();

    final BindResult result = connection.bind(dn, pwd);
    try {
        final PasswordExpiringResponseControl control =
                result.getControl(PasswordExpiringResponseControl.DECODER,
                        new DecodeOptions());
        if (!(control == null) &amp;&amp; control.hasValue()) {
            System.out.println("Password for " + dn + " expires in "
                    + control.getSecondsUntilExpiration() + " seconds.");
        }
    } catch (final DecodeException de) {
        // Failed to decode the response control.
    }
}
</pre><p>OpenDJ directory server supports the Password Expiring Response Control.
  To obtain the following output from the excerpt, you can change the default
  password policy configuration to set a maximum password age and a warning
  interval, change Barbara Jensen's password, and wait until you enter the
  warning interval before password expiration. See the OpenDJ
  <em class="citetitle">Administration Guide</em> procedure explaining how
  <a href="../admin-guide/index.html#default-pwp" class="link"><em class="citetitle">To Adjust the Default Password Policy</em></a> for an example
  of how to adjust the maximum password age. Also set a short
  <code class="literal">password-expiration-warning-interval</code> value.</p><pre class="brush: plain;">Password for uid=bjensen,ou=People,dc=example,dc=com
 expires in 237 seconds.</pre></div><div class="section" title="10.11.&nbsp;Password Policy Controls"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-password-policy-controls"></a>10.11.&nbsp;Password Policy Controls</h2></div></div></div><a class="indexterm" name="d564e2698"></a><a class="indexterm" name="d564e2703"></a><p>The Behera Internet-Draft, <a class="link" href="http://tools.ietf.org/html/draft-behera-ldap-password-policy" target="_blank"><em class="citetitle">Password Policy for LDAP Directories</em></a>, describes
  Password Policy Request and Response Controls. You send the request control
  with a request to let the directory server know that your application can
  handle the response control. The directory server sends the response control
  on applicable operations to communicate warnings and errors.</p><pre class="brush: java;">
if (isSupported(PasswordPolicyRequestControl.OID)) {
    final String dn = "uid=bjensen,ou=People,dc=example,dc=com";
    final char[] pwd = "hifalutin".toCharArray();

    try {
        final BindRequest request = Requests.newSimpleBindRequest(dn, pwd)
                .addControl(PasswordPolicyRequestControl.newControl(true));

        final BindResult result = connection.bind(request);

        final PasswordPolicyResponseControl control =
                result.getControl(PasswordPolicyResponseControl.DECODER,
                        new DecodeOptions());
        if (!(control == null) &amp;&amp; !(control.getWarningType() == null)) {
            System.out.println("Password policy warning "
                    + control.getWarningType().toString() + ", value "
                    + control.getWarningValue() + " for " + dn);
        }
    } catch (final ErrorResultException e) {
        final Result result = e.getResult();
        try {
            final PasswordPolicyResponseControl control =
                    result.getControl(PasswordPolicyResponseControl.DECODER,
                            new DecodeOptions());
            if (!(control == null)) {
                System.out.println("Password policy error "
                        + control.getErrorType().toString() + " for " + dn);
            }
        } catch (final DecodeException de) {
            // Failed to decode the response control.
        }
    } catch (final DecodeException e) {
        // Failed to decode the response control.
    }
}
</pre><p>OpenDJ directory server supports the Password Policy Controls. To obtain
  the output from the excerpt, you can change the default password policy
  configuration to set a maximum password age and a warning interval, change
  Barbara Jensen's password, and then run the example during the warning
  interval and after the password has expired. See the OpenDJ
  <em class="citetitle">Administration Guide</em> procedure explaining how
  <a href="../admin-guide/index.html#default-pwp" class="link"><em class="citetitle">To Adjust the Default Password Policy</em></a> for an example
  of how to adjust the maximum password age. Also set a short
  <code class="literal">password-expiration-warning-interval</code> value.</p><p>For a warning:</p><pre class="brush: plain;">Password policy warning timeBeforeExpiration, value 237 for
 uid=bjensen,ou=People,dc=example,dc=com</pre><p>For an error:</p><pre class="brush: plain;">Password policy error passwordExpired for
 uid=bjensen,ou=People,dc=example,dc=com</pre></div><div class="section" title="10.12.&nbsp;Permissive Modify Request Control"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-permissive-modify-request-control"></a>10.12.&nbsp;Permissive Modify Request Control</h2></div></div></div><a class="indexterm" name="d564e2739"></a><a class="indexterm" name="d564e2744"></a><p>Microsoft defined a Permissive Modify Request Control that relaxes
  some constraints when your application performs a modify operation and
  tries to <code class="literal">add</code> an attribute that already exists, or to
  <code class="literal">delete</code> an attribute that does not exist.</p><pre class="brush: java;">
if (isSupported(PermissiveModifyRequestControl.OID)) {
    final String dn = "uid=bjensen,ou=People,dc=example,dc=com";

    final ModifyRequest request =
            Requests.newModifyRequest(dn)
                .addControl(PermissiveModifyRequestControl.newControl(true))
                .addModification(ModificationType.ADD, "uid", "bjensen");

    connection.modify(request);
    System.out.println("Permissive modify did not complain about "
            + "attempt to add uid: bjensen to " + dn + ".");
}
</pre><p>OpenDJ directory server supports the Permissive Modify Request
  Control:</p><pre class="brush: plain;">Permissive modify did not complain about attempt to add
 uid: bjensen to uid=bjensen,ou=People,dc=example,dc=com.</pre></div><div class="section" title="10.13.&nbsp;Persistent Search Request Control"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-persistent-search-request-control"></a>10.13.&nbsp;Persistent Search Request Control</h2></div></div></div><a class="indexterm" name="d564e2766"></a><a class="indexterm" name="d564e2771"></a><a class="indexterm" name="d564e2776"></a><p>See <a class="xref" href="#use-entry-change-notification-control" title="10.5.&nbsp;Entry Change Notification Response Controls">Section&nbsp;10.5, &#8220;Entry Change Notification Response Controls&#8221;</a>.</p></div><div class="section" title="10.14.&nbsp;Post-Read Controls"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-post-read-control"></a>10.14.&nbsp;Post-Read Controls</h2></div></div></div><a class="indexterm" name="d564e2786"></a><a class="indexterm" name="d564e2791"></a><p>RFC 4527, <a class="link" href="http://tools.ietf.org/html/rfc4527" target="_blank"><em class="citetitle">LDAP Read Entry Controls</em></a>,
  describes the post-read controls that let your application get the content
  of an entry immediately after modifications are applied.</p><pre class="brush: java;">
if (isSupported(PostReadRequestControl.OID)) {
    final String dn = "uid=bjensen,ou=People,dc=example,dc=com";

    final ModifyRequest request =
            Requests.newModifyRequest(dn)
            .addControl(PostReadRequestControl.newControl(true, "description"))
            .addModification(ModificationType.REPLACE,
                    "description", "Using the PostReadRequestControl");

    final Result result = connection.modify(request);
    try {
        final PostReadResponseControl control =
                result.getControl(PostReadResponseControl.DECODER,
                        new DecodeOptions());
        final Entry entry = control.getEntry();

        final LDIFEntryWriter writer = new LDIFEntryWriter(System.out);
        writer.writeEntry(entry);
        writer.close();
    } catch (final DecodeException e) {
        // Failed to decode the response control.
    } catch (final IOException e) {
        // The writer could not write to System.out.
    }
}
</pre><p>OpenDJ directory server supports these controls:</p><pre class="brush: ldif;">dn: uid=bjensen,ou=People,dc=example,dc=com
description: Using the PostReadRequestControl</pre></div><div class="section" title="10.15.&nbsp;Pre-Read Controls"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-pre-read-control"></a>10.15.&nbsp;Pre-Read Controls</h2></div></div></div><a class="indexterm" name="d564e2811"></a><a class="indexterm" name="d564e2816"></a><p>RFC 4527, <a class="link" href="http://tools.ietf.org/html/rfc4527" target="_blank"><em class="citetitle">LDAP Read Entry Controls</em></a>,
  describes the pre-read controls that let your application get the content
  of an entry immediately before modifications are applied.</p><pre class="brush: java;">
if (isSupported(PreReadRequestControl.OID)) {
    final String dn = "uid=bjensen,ou=People,dc=example,dc=com";

    final ModifyRequest request =
            Requests.newModifyRequest(dn)
            .addControl(PreReadRequestControl.newControl(true, "mail"))
            .addModification(
                    ModificationType.REPLACE, "mail", "modified@example.com");

    final Result result = connection.modify(request);
    try {
        final PreReadResponseControl control =
                result.getControl(PreReadResponseControl.DECODER,
                        new DecodeOptions());
        final Entry entry = control.getEntry();

        final LDIFEntryWriter writer = new LDIFEntryWriter(System.out);
        writer.writeEntry(entry);
        writer.close();
    } catch (final DecodeException e) {
        // Failed to decode the response control.
    } catch (final IOException e) {
        // The writer could not write to System.out.
    }
}
</pre><p>OpenDJ directory server supports these controls:</p><pre class="brush: ldif;">dn: uid=bjensen,ou=People,dc=example,dc=com
mail: bjensen@example.com</pre></div><div class="section" title="10.16.&nbsp;Proxied Authorization Request Controls"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-proxy-authz-control"></a>10.16.&nbsp;Proxied Authorization Request Controls</h2></div></div></div><a class="indexterm" name="d564e2834"></a><a class="indexterm" name="d564e2839"></a><p>Proxied authorization provides a standard control as defined in
  <a class="link" href="http://tools.ietf.org/html/rfc4370" target="_blank">RFC
  4370</a> (and an earlier Internet-Draft) for binding with the user
  credentials of a proxy, who carries out LDAP operations on behalf of other
  users. You might use proxied authorization, for example, to have your
  application bind with its credentials, and then carry out operations as the
  users who login to the application.</p><pre class="brush: java;">
if (isSupported(ProxiedAuthV2RequestControl.OID)) {
    final String bindDN = "cn=My App,ou=Apps,dc=example,dc=com";
    final String targetDn = "uid=bjensen,ou=People,dc=example,dc=com";
    final String authzId = "dn:uid=kvaughan,ou=People,dc=example,dc=com";

    final ModifyRequest request =
            Requests.newModifyRequest(targetDn)
            .addControl(ProxiedAuthV2RequestControl.newControl(authzId))
            .addModification(ModificationType.REPLACE, "description",
                    "Done with proxied authz");

    connection.bind(bindDN, "password".toCharArray());
    connection.modify(request);
    final Entry entry = connection.readEntry(targetDn, "description");

    final LDIFEntryWriter writer = new LDIFEntryWriter(System.out);
    try {
        writer.writeEntry(entry);
        writer.close();
    } catch (final IOException e) {
        // The writer could not write to System.out.
    }
}</pre><p>OpenDJ supports proxied authorization, and the example works with the
  sample data:</p><pre class="brush: ldif;">dn: uid=bjensen,ou=People,dc=example,dc=com
description: Done with proxied authz</pre></div><div class="section" title="10.17.&nbsp;Server-Side Sort Controls"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-server-side-sort-control"></a>10.17.&nbsp;Server-Side Sort Controls</h2></div></div></div><a class="indexterm" name="d564e2856"></a><a class="indexterm" name="d564e2861"></a><a class="indexterm" name="d564e2866"></a><a class="indexterm" name="d564e2869"></a><p>The server-side sort controls are described in RFC 2891, <a class="link" href="http://tools.ietf.org/html/rfc2891" target="_blank"><em class="citetitle">LDAP Control Extension for Server Side Sorting of Search
  Results</em></a>. If possible, sort on the client side instead to
  reduce load on the server. If not, then you can request a server-side
  sort.</p><pre class="brush: java;">
static void useServerSideSortRequestControl(Connection connection)
        throws ErrorResultException {
    if (isSupported(ServerSideSortRequestControl.OID)) {
        final SearchRequest request =
                Requests.newSearchRequest("ou=People,dc=example,dc=com",
                        SearchScope.WHOLE_SUBTREE, "(sn=Jensen)", "cn")
                        .addControl(ServerSideSortRequestControl.newControl(
                                        true, new SortKey("cn")));

        final SearchResultHandler resultHandler = new MySearchResultHandler();
        final Result result = connection.search(request, resultHandler);

        try {
            final ServerSideSortResponseControl control =
                    result.getControl(ServerSideSortResponseControl.DECODER,
                            new DecodeOptions());
            if (control != null &amp;&amp; control.getResult() == ResultCode.SUCCESS) {
                System.out.println("# Entries are sorted.");
            } else {
                System.out.println("# Entries not necessarily sorted");
            }
        } catch (final DecodeException e) {
            // Failed to decode the response control.
        }
    } else {
        System.out.println("ServerSideSortRequestControl not supported");
    }
}

private static class MySearchResultHandler implements SearchResultHandler {

    @Override
    public void handleErrorResult(ErrorResultException error) {
        // Ignore.
    }

    @Override
    public void handleResult(Result result) {
        // Ignore.
    }

    @Override
    public boolean handleEntry(SearchResultEntry entry) {
        final LDIFEntryWriter writer = new LDIFEntryWriter(System.out);
        try {
            writer.writeEntry(entry);
            writer.flush();
        } catch (final IOException e) {
            // The writer could not write to System.out.
        }
        return true;
    }

    @Override
    public boolean handleReference(SearchResultReference reference) {
        System.out.println("Got a reference: " + reference.toString());
        return false;
    }
}
</pre><p>OpenDJ directory server supports server-side sorting:</p><pre class="brush: ldif;">dn: uid=ajensen,ou=People,dc=example,dc=com
cn: Allison Jensen

dn: uid=bjensen,ou=People,dc=example,dc=com
cn: Barbara Jensen
cn: Babs Jensen

dn: uid=bjense2,ou=People,dc=example,dc=com
cn: Bjorn Jensen

dn: uid=gjensen,ou=People,dc=example,dc=com
cn: Gern Jensen

dn: uid=jjensen,ou=People,dc=example,dc=com
cn: Jody Jensen

dn: uid=kjensen,ou=People,dc=example,dc=com
cn: Kurt Jensen

dn: uid=rjense2,ou=People,dc=example,dc=com
cn: Randy Jensen

dn: uid=rjensen,ou=People,dc=example,dc=com
cn: Richard Jensen

dn: uid=tjensen,ou=People,dc=example,dc=com
cn: Ted Jensen

# Entries are sorted.</pre></div><div class="section" title="10.18.&nbsp;Simple Paged Results Control"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-simple-paged-results-control"></a>10.18.&nbsp;Simple Paged Results Control</h2></div></div></div><a class="indexterm" name="d564e2887"></a><a class="indexterm" name="d564e2892"></a><a class="indexterm" name="d564e2897"></a><p>RFC 2696, <a class="link" href="http://tools.ietf.org/html/rfc2696" target="_blank"><em class="citetitle">LDAP Control Extension for Simple Paged Results
  Manipulation</em></a>, defines a control for simple paging of
  search results that works with a cookie mechanism.</p><pre class="brush: java;">
if (isSupported(SimplePagedResultsControl.OID)) {
    ByteString cookie = ByteString.empty();
    SearchRequest request;
    final SearchResultHandler resultHandler = new MySearchResultHandler();
    Result result;

    int page = 1;
    do {
        System.out.println("# Simple paged results: Page " + page);

        request =
                Requests.newSearchRequest("dc=example,dc=com",
                        SearchScope.WHOLE_SUBTREE, "(sn=Jensen)", "cn")
                        .addControl(SimplePagedResultsControl.newControl(
                                true, 3, cookie));

        result = connection.search(request, resultHandler);
        try {
            SimplePagedResultsControl control =
                    result.getControl(SimplePagedResultsControl.DECODER,
                            new DecodeOptions());
            cookie = control.getCookie();
        } catch (final DecodeException e) {
            // Failed to decode the response control.
        }

        ++page;
    } while (cookie.length() != 0);
}
</pre><p>OpenDJ directory server supports getting simple paged results:</p><pre class="brush: ldif;"># Simple paged results: Page 1
dn: uid=ajensen,ou=People,dc=example,dc=com
cn: Allison Jensen

dn: uid=bjense2,ou=People,dc=example,dc=com
cn: Bjorn Jensen

dn: uid=bjensen,ou=People,dc=example,dc=com
cn: Barbara Jensen
cn: Babs Jensen

# Simple paged results: Page 2
dn: uid=gjensen,ou=People,dc=example,dc=com
cn: Gern Jensen

dn: uid=jjensen,ou=People,dc=example,dc=com
cn: Jody Jensen

dn: uid=kjensen,ou=People,dc=example,dc=com
cn: Kurt Jensen

# Simple paged results: Page 3
dn: uid=rjense2,ou=People,dc=example,dc=com
cn: Randy Jensen

dn: uid=rjensen,ou=People,dc=example,dc=com
cn: Richard Jensen

dn: uid=tjensen,ou=People,dc=example,dc=com
cn: Ted Jensen
</pre></div><div class="section" title="10.19.&nbsp;Subentries Request Control"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-subentry-request-control"></a>10.19.&nbsp;Subentries Request Control</h2></div></div></div><a class="indexterm" name="d564e2915"></a><a class="indexterm" name="d564e2920"></a><p>RFC 3672, <a class="link" href="http://tools.ietf.org/html/rfc3672" target="_blank"><em class="citetitle">Subentries in LDAP</em></a>, describes
  subentries and also the subentries request control. When you perform a search
  without the control and visibility set to <code class="literal">TRUE</code>, subentries
  are only visible in searches with
  <code class="literal">SearchScope.BASE_OBJECT</code>.</p><pre class="brush: java;">
if (isSupported(SubentriesRequestControl.OID)) {
    final SearchRequest request =
            Requests.newSearchRequest("dc=example,dc=com",
                        SearchScope.WHOLE_SUBTREE,
                        "cn=*Class of Service", "cn", "subtreeSpecification")
                    .addControl(SubentriesRequestControl.newControl(
                        true, true));

    final ConnectionEntryReader reader = connection.search(request);
    final LDIFEntryWriter writer = new LDIFEntryWriter(System.out);
    try {
        while (reader.hasNext()) {
            if (reader.isEntry()) {
                final SearchResultEntry entry = reader.readEntry();
                writer.writeEntry(entry);
            }
        }
        writer.close();
    } catch (final ErrorResultIOException e) {
        // Request failed due to an IO problem.
    } catch (final SearchResultReferenceIOException e) {
        // Read a reference, rather than an entry.
    } catch (final IOException e) {
        // The writer could not write to System.out.
    }
}
</pre><p>OpenDJ directory server supports the control.</p><pre class="brush: ldif;">dn: cn=Bronze Class of Service,dc=example,dc=com
cn: Bronze Class of Service
subtreeSpecification: { base "ou=People", specificationFilter "(classOfService=
 bronze)" }

dn: cn=Silver Class of Service,dc=example,dc=com
cn: Silver Class of Service
subtreeSpecification: { base "ou=People", specificationFilter "(classOfService=
 silver)" }

dn: cn=Gold Class of Service,dc=example,dc=com
cn: Gold Class of Service
subtreeSpecification: { base "ou=People", specificationFilter "(classOfService=
 gold)" }
</pre></div><div class="section" title="10.20.&nbsp;Subtree Delete Request Control"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-subtree-delete-control"></a>10.20.&nbsp;Subtree Delete Request Control</h2></div></div></div><a class="indexterm" name="d564e2946"></a><a class="indexterm" name="d564e2951"></a><p>The subtree delete request control, described in the Internet-Draft
  <a class="link" href="http://tools.ietf.org/html/draft-armijo-ldap-treedelete" target="_blank"><em class="citetitle">Tree Delete Control</em></a>, lets
  your application delete an entire branch of entries starting with the entry
  you target for deletion.</p><pre class="brush: java;">
if (isSupported(SubtreeDeleteRequestControl.OID)) {

    final String dn = "ou=Apps,dc=example,dc=com";
    final DeleteRequest request =
            Requests.newDeleteRequest(dn)
                    .addControl(SubtreeDeleteRequestControl.newControl(true));

    final Result result = connection.delete(request);
    if (result.isSuccess()) {
        System.out.println("Successfully deleted " + dn
                + " and all entries below.");
    } else {
        System.out.println("Result: " + result.getDiagnosticMessage());
    }
}
</pre><p>OpenDJ directory server supports the subtree delete control:</p><pre class="brush: plain;">Successfully deleted ou=Apps,dc=example,dc=com and all entries below.</pre></div><div class="section" title="10.21.&nbsp;Virtual List View Controls"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-vlv-control"></a>10.21.&nbsp;Virtual List View Controls</h2></div></div></div><a class="indexterm" name="d564e2971"></a><a class="indexterm" name="d564e2976"></a><a class="indexterm" name="d564e2981"></a><a class="indexterm" name="d564e2984"></a><p>The virtual list view controls are intended to be used by applications
  that let users browse lists of directory entries. The Internet-Draft <a class="link" href="http://tools.ietf.org/html/draft-ietf-ldapext-ldapv3-vlv" target="_blank"><em class="citetitle">LDAP Extensions for Scrolling View Browsing of
  Search Results</em></a> describes the controls. The virtual list
  view request control is used in conjunction with the server-side sort
  control such that the subset of entries the directory server returns from
  a search are a window into the full sorted list.</p><pre class="brush: java;">
if (isSupported(VirtualListViewRequestControl.OID)) {
    ByteString contextID = ByteString.empty();

    // Add a window of 2 entries on either side of the first sn=Jensen entry.
    final SearchRequest request =
            Requests.newSearchRequest("ou=People,dc=example,dc=com",
                    SearchScope.WHOLE_SUBTREE, "(sn=*)", "sn", "givenName")
                    .addControl(ServerSideSortRequestControl.newControl(
                            true, new SortKey("sn")))
                    .addControl(
                            VirtualListViewRequestControl.newAssertionControl(
                                    true,
                                    ByteString.valueOf("Jensen"),
                                    2, 2, contextID));

    final SearchResultHandler resultHandler = new MySearchResultHandler();
    final Result result = connection.search(request, resultHandler);

    try {
        final ServerSideSortResponseControl sssControl =
                result.getControl(ServerSideSortResponseControl.DECODER,
                        new DecodeOptions());
        if (sssControl != null &amp;&amp; sssControl.getResult() == ResultCode.SUCCESS){
            System.out.println("# Entries are sorted.");
        } else {
            System.out.println("# Entries not necessarily sorted");
        }

        final VirtualListViewResponseControl vlvControl =
                result.getControl(VirtualListViewResponseControl.DECODER,
                        new DecodeOptions());
        System.out.println("# Position in list: "
                + vlvControl.getTargetPosition() + "/"
                + vlvControl.getContentCount());
    } catch (final DecodeException e) {
        // Failed to decode the response control.
    }
}
</pre><p>OpenDJ directory server supports the virtual list view controls.
  In order to set up OpenDJ directory server to produce the following output
  with the example code, use OpenDJ Control Panel &gt; Manage Indexes &gt; New
  VLV Index... to set up a virtual list view index for people by last name,
  using the filter <code class="literal">(|(givenName=*)(sn=*))</code>, and sorting first
  by surname, <code class="literal">sn</code>, in ascending order, then by given name
  also in ascending order.</p><pre class="brush: ldif;">dn: uid=skellehe,ou=People,dc=example,dc=com
givenName: Sue
sn: Kelleher

dn: uid=ejohnson,ou=People,dc=example,dc=com
givenName: Emanuel
sn: Johnson

dn: uid=ajensen,ou=People,dc=example,dc=com
givenName: Allison
sn: Jensen

dn: uid=bjense2,ou=People,dc=example,dc=com
givenName: Bjorn
sn: Jensen

dn: uid=bjensen,ou=People,dc=example,dc=com
givenName: Barbara
sn: Jensen

# Entries are sorted.
# Position in list: 92/150</pre></div><div class="section" title="10.22.&nbsp;Using a Generic Control"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-generic-control"></a>10.22.&nbsp;Using a Generic Control</h2></div></div></div><a class="indexterm" name="d564e3008"></a><p>OpenDJ LDAP SDK supports many controls, but you might still need to
  work with additional controls. If so, then in some cases you can use the
  <code class="literal">GenericControl</code> class when adding the control to your
  request.</p><p>For example, the Microsoft <a class="link" href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366983(v=vs.85).aspx" target="_blank">LDAP Server Notification Control</a> with OID
  <code class="literal">1.2.840.113556.1.4.528</code> can be used to register a change
  notification request for a search on Microsoft Active Directory. You can use
  a <code class="literal">GenericControl.newControl()</code> static method to add the
  request control to your search.</p><pre class="brush: java;">        final SearchScope scope = SearchScope.WHOLE_SUBTREE;
        final String filter = "(objectclass=*)";
        final String[] attributes = {
            "objectclass", "objectGUID", "isDeleted", "uSNChanged"
        };

        // Create an LDIF writer which will write the search results to stdout.
        final LDIFEntryWriter writer = new LDIFEntryWriter(System.out);

        // Connect and bind to the server.
        final LDAPConnectionFactory factory =
                new LDAPConnectionFactory(hostName, port);
        Connection connection = null;

        try {
            connection = factory.getConnection();
            connection.bind(userName, password.toCharArray());

            // Read the entries and output them as LDIF.
            final SearchRequest request =
                    Requests
                            .newSearchRequest(baseDN, scope, filter, attributes)
                            .addControl(
                                    GenericControl
                                            .newControl(
                                                    "1.2.840.113556.1.4.528",
                                                    true));
            final ConnectionEntryReader reader = connection.search(request);
            while (reader.hasNext()) {
                if (!reader.isReference()) {
                    final SearchResultEntry entry = reader.readEntry();
                    writer.writeComment("Search result entry: "
                            + entry.getName().toString());
                    writer.writeEntry(entry);
                    writer.flush();
                } else {
                    final SearchResultReference ref = reader.readReference();

                    // Got a continuation reference.
                    writer.writeComment("Search result reference: "
                            + ref.getURIs().toString());
                }
            }
        } </pre><p>When you run the search against Active Directory and then create,
  update, and delete a new user, in this example
  <code class="literal">CN=New User,CN=Users,DC=ad,DC=example,DC=com</code>, Active
  Directory notifies you of changes to directory data.</p><pre class="brush: ldif;"># Search result entry: CN=RID Set,CN=WIN2008R2641,OU=Domain Controllers,
 DC=ad,DC=example,DC=com
dn: CN=RID Set,CN=WIN2008R2641,OU=Domain Controllers,DC=ad,DC=example,DC=com
objectClass: top
objectClass: rIDSet
objectGUID:: 178zQQic3EOoBOB1j2QVgQ==
uSNChanged: 12446

# Search result entry: CN=New User,CN=Users,DC=ad,DC=example,DC=com
dn: CN=New User,CN=Users,DC=ad,DC=example,DC=com
objectClass: top
objectClass: person
objectClass: organizationalPerson
objectClass: user
objectGUID:: 7XE/OoJdFEqAegwAi2eNlA==
uSNChanged: 12753

# Search result entry: CN=New User,CN=Users,DC=ad,DC=example,DC=com
dn: CN=New User,CN=Users,DC=ad,DC=example,DC=com
objectClass: top
objectClass: person
objectClass: organizationalPerson
objectClass: user
objectGUID:: 7XE/OoJdFEqAegwAi2eNlA==
uSNChanged: 12755

# Search result entry: CN=New User,CN=Users,DC=ad,DC=example,DC=com
dn: CN=New User,CN=Users,DC=ad,DC=example,DC=com
objectClass: top
objectClass: person
objectClass: organizationalPerson
objectClass: user
objectGUID:: 7XE/OoJdFEqAegwAi2eNlA==
uSNChanged: 12757

# Search result entry: CN=New User,CN=Users,DC=ad,DC=example,DC=com
dn: CN=New User,CN=Users,DC=ad,DC=example,DC=com
objectClass: top
objectClass: person
objectClass: organizationalPerson
objectClass: user
objectGUID:: 7XE/OoJdFEqAegwAi2eNlA==
uSNChanged: 12758

# Search result entry: CN=New User\0ADEL:3a3f71ed-5d82-4a14-807a-0c008b678d94,
# CN=Deleted Objects,DC=ad,DC=example,DC=com
dn: CN=New User\0ADEL:3a3f71ed-5d82-4a14-807a-0c008b678d94,CN=Deleted Objects,
 DC=ad,DC=example,DC=com
objectClass: top
objectClass: person
objectClass: organizationalPerson
objectClass: user
objectGUID:: 7XE/OoJdFEqAegwAi2eNlA==
isDeleted: TRUE
uSNChanged: 12759
</pre><p>The <code class="literal">GenericControl</code> class is useful with controls that
  do not require you to encode complex request values, or decode complex
  response values. If the control you want to you requires complex encoding
  or decoding, you might have to implement
  <code class="literal">org.forgerock.opendj.ldap.controls.Control</code>.</p></div></div><div lang="en" class="chapter" title="Chapter&nbsp;11.&nbsp;Working With Extended Operations"><div class="titlepage"><div><div><h2 class="title"><a name="chap-extended-ops"></a>Chapter&nbsp;11.&nbsp;Working With Extended Operations</h2></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><dl><dt><span class="section"><a href="#about-ldap-extended-operations">11.1. About LDAP Extended Operations</a></span></dt><dt><span class="section"><a href="#get-supported-extended-operations">11.2. Determining Supported Extended Operations</a></span></dt><dt><span class="section"><a href="#use-cancel-extended-operation">11.3. Cancel Extended Operation</a></span></dt><dt><span class="section"><a href="#use-password-modify-extended-operation">11.4. Password Modify Extended Operation</a></span></dt><dt><span class="section"><a href="#use-starttls-extended-operation">11.5. Start TLS Extended Operation</a></span></dt><dt><span class="section"><a href="#use-who-am-i-extended-operation">11.6. Who am I? Extended Operation</a></span></dt></dl></div><a class="indexterm" name="d564e3050"></a><a class="indexterm" name="d564e3053"></a><p>This chapter demonstrates how to use LDAP extended operations.</p><p>For complete examples corresponding to the excerpts shown below, see
 <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/xref/org/forgerock/opendj/examples/ExtendedOperations.html" target="_blank">ExtendedOperations.java</a>, one of the <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/" target="_blank">OpenDJ LDAP SDK examples</a>.</p><div class="section" title="11.1.&nbsp;About LDAP Extended Operations"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="about-ldap-extended-operations"></a>11.1.&nbsp;About LDAP Extended Operations</h2></div></div></div><p>Extended operations allow additional operations to be defined for
  services not already available in the protocol</p></div><div class="section" title="11.2.&nbsp;Determining Supported Extended Operations"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="get-supported-extended-operations"></a>11.2.&nbsp;Determining Supported Extended Operations</h2></div></div></div><a class="indexterm" name="d564e3076"></a><a class="indexterm" name="d564e3081"></a><p>For OpenDJ, the extended operations supported are listed in the
  <em class="citetitle">Administration Guide</em> appendix, <a href="../admin-guide/index.html#appendix-extended-ops" class="link"><em class="citetitle">LDAP Extended
  Operations</em></a>. You can access the list of OIDs for
  supported LDAP controls by reading the <code class="literal">supportedExtension</code>
  attribute of the root DSE.</p><div class="screen"><pre class="brush: plain;">$ ldapsearch
 --baseDN ""
 --searchScope base
 --port 1389
 "(objectclass=*)" supportedExtension
dn: 
supportedExtension: 1.3.6.1.1.8
supportedExtension: 1.3.6.1.4.1.26027.1.6.1
supportedExtension: 1.3.6.1.4.1.26027.1.6.2
supportedExtension: 1.3.6.1.4.1.26027.1.6.3
supportedExtension: 1.3.6.1.4.1.4203.1.11.1
supportedExtension: 1.3.6.1.4.1.4203.1.11.3
supportedExtension: 1.3.6.1.4.1.1466.20037</pre></div><p>The following excerpt shows code to check for supported extended
  operations.</p><pre class="brush: java;">
/**
 * Controls supported by the LDAP server.
 */
private static Collection&lt;String&gt; extendedOperations;

/**
 * Populate the list of supported LDAP extended operation OIDs.
 * 
 * @param connection
 *            Active connection to the LDAP server.
 * @throws ErrorResultException
 *             Failed to get list of extended operations.
 */
static void checkSupportedExtendedOperations(Connection connection)
        throws ErrorResultException {
    extendedOperations = RootDSE.readRootDSE(connection)
            .getSupportedExtendedOperations();
}

/**
 * Check whether an extended operation is supported. Call
 * {@code checkSupportedExtendedOperations} first.
 * 
 * @param extendedOperation
 *            Check support for this extended operation, provided by OID.
 * @return True if the control is supported.
 */
static boolean isSupported(final String extendedOperation) {
    if (extendedOperations != null &amp;&amp; !extendedOperations.isEmpty()) {
        return extendedOperations.contains(extendedOperation);
    }
    return false;
}
</pre></div><div class="section" title="11.3.&nbsp;Cancel Extended Operation"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-cancel-extended-operation"></a>11.3.&nbsp;Cancel Extended Operation</h2></div></div></div><a class="indexterm" name="d564e3107"></a><a class="indexterm" name="d564e3112"></a><p>RFC 3909, <a class="link" href="http://tools.ietf.org/html/rfc3909" target="_blank"><em class="citetitle">LDAP Cancel Operation</em></a>, defines
  an extended operation that lets you cancel an operation in progress and get
  an indication of the outcome.</p><p>The Cancel extended request uses the request ID of operation you
  want to cancel, and so therefore works with asynchronous searches and
  updates. Depending on the delay between your application sending the Cancel
  request and the directory server receiving the request, the server might have
  already finished processing the original request before it receives your
  Cancel request.</p><p>You can add a Cancel extended request for example to stop handling
  entries returned from a search if the directory server returns more entries
  than you want.</p><pre class="brush: java;">
private static final CountDownLatch COMPLETION_LATCH = new CountDownLatch(1);
private static final CountDownLatch CANCEL_LATCH = new CountDownLatch(1);
private static final LDIFEntryWriter WRITER = new LDIFEntryWriter(System.out);

static int requestID;
static int entryCount = 0;

// The requestID is obtained from the future result of the asynchronous search.
// For more context see the example, SearchAsync.java.

private static final class SearchResultHandlerImpl
        implements SearchResultHandler {

    @Override
    public synchronized boolean handleEntry(final SearchResultEntry entry) {
        try {
            // Cancel the search if it returns too many results.
            if (entryCount &lt; 10) {
                WRITER.writeComment("Search result entry: "
                        + entry.getName().toString());
                WRITER.writeEntry(entry);
                ++entryCount;
            } else {
                CancelExtendedRequest request =
                        Requests.newCancelExtendedRequest(requestID);
                connection.extendedRequestAsync(
                        request, null, new CancelResultHandlerImpl());
                return false;
            }
        } catch (final IOException e) {
            System.err.println(e.getMessage());
            resultCode = ResultCode.CLIENT_SIDE_LOCAL_ERROR.intValue();
            COMPLETION_LATCH.countDown();
            return false;
        }
        return true;
    }
    ...
}

private static final class CancelResultHandlerImpl
        implements ResultHandler&lt;ExtendedResult&gt; {

    @Override
    public void handleErrorResult(final ErrorResultException error) {
        System.err.println("Cancel request failed with result code: "
                + error.getResult().getResultCode().intValue());
        CANCEL_LATCH.countDown();
    }

    @Override
    public void handleResult(final ExtendedResult result) {
        System.err.println("Cancel request succeeded");
        CANCEL_LATCH.countDown();
    }

}
</pre><p>OpenDJ directory server supports the cancel operation. If OpenDJ
  directory server manages to return all entries in
  <code class="filename">Example.ldif</code> before it receives the Cancel extended
  request, you can see the Cancel request fail because the request ID refers
  to the search, which is no longer in progress. Try adding a new base DN using
  OpenDJ control panel and adding the default 2000 generated entries to ensure
  more search results. For example if <code class="literal">dc=example,dc=org</code>
  contains 2000 generated entries, and the <code class="literal">SearchAsync</code>
  example is run with the arguments <code class="literal">sub objectclass=* cn</code>
  for scope, filter, and attributes respectively, then the example produces
  something like the following output:</p><pre class="brush: plain;">
Canceled: Processing on this operation was terminated as a result of receiving
 a cancel request (message ID 3)
# Search result entry: dc=example,dc=org
dn: dc=example,dc=org

# Search result entry: ou=People,dc=example,dc=org
dn: ou=People,dc=example,dc=org

# Search result entry: uid=user.0,ou=People,dc=example,dc=org
dn: uid=user.0,ou=People,dc=example,dc=org
cn: Aaccf Amar

...

Cancel request succeeded</pre></div><div class="section" title="11.4.&nbsp;Password Modify Extended Operation"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-password-modify-extended-operation"></a>11.4.&nbsp;Password Modify Extended Operation</h2></div></div></div><a class="indexterm" name="d564e3148"></a><a class="indexterm" name="d564e3153"></a><p>RFC 3062, <a class="link" href="http://tools.ietf.org/html/rfc3062" target="_blank"><em class="citetitle">LDAP Password Modify Extended
  Operation</em></a>, defines an extended operation for modifying
  user passwords that does not depend on the authentication identity, nor on
  the way passwords are stored.</p><pre class="brush: java;">
if (isSupported(PasswordModifyExtendedRequest.OID)) {
    final String userIdentity = "u:scarter";
    final char[] oldPassword = "sprain".toCharArray();
    final char[] newPassword = "secret12".toCharArray();

    final PasswordModifyExtendedRequest request =
            Requests.newPasswordModifyExtendedRequest()
                .setUserIdentity(userIdentity)
                .setOldPassword(oldPassword)
                .setNewPassword(newPassword);

    final PasswordModifyExtendedResult result =
            connection.extendedRequest(request);
    if (result.isSuccess()) {
        System.out.println("Changed password for " + userIdentity);
    } else {
        System.err.println(result.getDiagnosticMessage());
    }
}
</pre><p>OpenDJ directory server supports the password modify operation.</p><pre class="brush: plain;">Changed password for u:scarter</pre></div><div class="section" title="11.5.&nbsp;Start TLS Extended Operation"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-starttls-extended-operation"></a>11.5.&nbsp;Start TLS Extended Operation</h2></div></div></div><p>Use Start TLS when setting up your connection to protect what your
  application sends to and receives from the directory server. For an example,
  read the section on <a href="../dev-guide/index.html#simple-auth-with-starttls-or-ssl" class="link"><em class="citetitle">Start TLS &amp;
  SSL Authentication</em></a>.</p></div><div class="section" title="11.6.&nbsp;Who am I? Extended Operation"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="use-who-am-i-extended-operation"></a>11.6.&nbsp;Who am I? Extended Operation</h2></div></div></div><a class="indexterm" name="d564e3182"></a><a class="indexterm" name="d564e3187"></a><p>RFC 4532, <a class="link" href="http://tools.ietf.org/html/rfc4532" target="_blank"><em class="citetitle">LDAP "Who am I?" Operation</em></a>,
  defines an extended operation that lets your application determine the
  current authorization ID.</p><pre class="brush: java;">
if (isSupported(WhoAmIExtendedRequest.OID)) {

    final String name = "uid=bjensen,ou=People,dc=example,dc=com";
    final char[] password = "hifalutin".toCharArray();

    final Result result = connection.bind(name, password);
    if (result.isSuccess()) {

        final WhoAmIExtendedRequest request =
                Requests.newWhoAmIExtendedRequest();
        final WhoAmIExtendedResult extResult =
                connection.extendedRequest(request);

        if (extResult.isSuccess()) {
            System.out.println("Authz ID: "  + extResult.getAuthorizationID());
        }
    }
}
</pre><p>OpenDJ directory server supports the "Who am I?" operation.</p><pre class="brush: plain;">Authz ID: dn:uid=bjensen,ou=People,dc=example,dc=com</pre></div></div><div lang="en" class="chapter" title="Chapter&nbsp;12.&nbsp;Internationalizing Applications"><div class="titlepage"><div><div><h2 class="title"><a name="chap-i18n"></a>Chapter&nbsp;12.&nbsp;Internationalizing Applications</h2></div></div></div><a class="indexterm" name="d564e3206"></a><p>When you internationalize your application &#8212; adapting your
 application for use in different languages and regions &#8212; how much you
 do depends on what you must later localize. Directory servers often support
 localized user data. OpenDJ directory server supports use of the locales
 provided by your Java installation, and also supports many language subtypes,
 for example.</p><p>Therefore if your application is not end user facing and the
 administrators managing your application all use the same language as you do,
 you might be content to use language subtypes in LDAP filters, as described
 in the section on <a href="../dev-guide/index.html#about-filters" class="link"><em class="citetitle">Working With
 Search Filters</em></a>.</p><p>For end user facing applications where you must return localized
 messages, and for applications where administrators need localized log
 messages, you can use the <a class="link" href="http://commons.forgerock.org/i18n-framework/" target="_blank">ForgeRock I18N
 Framework</a>.</p></div><div lang="en" class="chapter" title="Chapter&nbsp;13.&nbsp;Writing a Simple LDAP Proxy"><div class="titlepage"><div><div><h2 class="title"><a name="chap-simple-proxy"></a>Chapter&nbsp;13.&nbsp;Writing a Simple LDAP Proxy</h2></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><dl><dt><span class="section"><a href="#connection-pooling">13.1. Connection Pooling</a></span></dt><dt><span class="section"><a href="#load-balancing-and-failover">13.2. Load Balancing &amp; Failover</a></span></dt><dt><span class="section"><a href="#handling-client-connections">13.3. Listening For &amp; Handling Client Connections</a></span></dt><dt><span class="section"><a href="#dn-attr-rewriting">13.4. DN &amp; Attribute Rewriting</a></span></dt></dl></div><a class="indexterm" name="d564e3226"></a><p>The OpenDJ LDAP SDK <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/xref/org/forgerock/opendj/examples/Proxy.html" target="_blank">example Proxy</a> demonstrates a simple LDAP proxy that forwards requests
 to one or more remote directory servers. Although the implementation is
 intended as an example, it does demonstrate use of the asynchronous API,
 load balancing, and connection pooling.</p><a class="indexterm" name="d564e3236"></a><p>The Proxy example sets up connections pools with load balancing to the
 directory servers. It passes the connection factories to a
 <code class="literal">ProxyBackend</code> that handles the requests passed back
 to the directory servers. It also sets up an LDAP listener to receive incoming
 connections from clients of the Proxy.</p><p>The <code class="literal">ProxyBackend</code> uses separate connection factories,
 one for bind operations, the other for other operations. It uses the proxied
 authorization control to ensure operations are performed using the bind
 identity for the operation.</p><p>The <code class="literal">ProxyBackend</code>'s function is to handle each client
 request, encapsulating the result handlers that allow it to deal with each
 basic operation. It authenticates to the directory server to check incoming
 credentials, and adds the proxied authorization control to requests other than
 binds. The <code class="literal">ProxyBackend</code> handles all operations using
 asynchronous connections and methods.</p><div class="section" title="13.1.&nbsp;Connection Pooling"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="connection-pooling"></a>13.1.&nbsp;Connection Pooling</h2></div></div></div><a class="indexterm" name="d564e3262"></a><p>As shown in the Proxy example, the
  <code class="literal">Connections.newFixedConnectionPool()</code> returns a connection
  pool of the maximum size you specify.</p><pre class="brush: java;">final List&lt;ConnectionFactory&gt; factories = new LinkedList&lt;~&gt;();

factories.add(Connections.newFixedConnectionPool(Connections
        .newAuthenticatedConnectionFactory(Connections
                .newHeartBeatConnectionFactory(new LDAPConnectionFactory(
                        remoteAddress, remotePort)),
                        Requests.newSimpleBindRequest(proxyDN,
                                proxyPassword.toCharArray())),
                                Integer.MAX_VALUE));</pre><p>Connections are returned to the pool when you <code class="literal">close()</code>
  them. Notice that <code class="literal">Connections</code> also provides methods to
  return <code class="literal">ConnectionFactory</code>s with a heart beat check on
  connections provided by the factory, and connection factories that
  authenticate connections before returning them.</p><p>Connections in the pool are intended for reuse. The Proxy gets an
  authenticated connection, which is a connection where the OpenDJ LDAP
  SDK passes a bind request immediately when getting the connection. The Proxy
  then uses proxied authorization to handle the identity from the client
  requesting the operation. As a rule, either handle binds separately and use
  proxied authorization as in the Proxy example, or else make sure that the
  first operation on a connection retrieved from the pool is a bind that
  correctly authenticates the user currently served by the connection.</p><p>When you <code class="literal">close()</code> a connection from the pool, the
  OpenDJ LDAP SDK does not perform an <code class="literal">unbind()</code>. This is why
  you must be careful about how you manage authentication on connections from a
  pool.</p></div><div class="section" title="13.2.&nbsp;Load Balancing &amp; Failover"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="load-balancing-and-failover"></a>13.2.&nbsp;Load Balancing &amp; Failover</h2></div></div></div><a class="indexterm" name="d564e3298"></a><p>The <code class="literal">Connections.newLoadBalancer()</code> method returns a
  load balancer based on the algorithm you choose. Algorithms include both
  round robin for equitably sharing load across local directory servers, and
  also failover usually used for switching automatically from an unresponsive
  server group to an alternative server group. The algorithms take collections
  of connection factories, such as those that you set up for connection
  pooling.</p><p>The following excerpt shows how to set up round robin load balancing
  across directory servers.</p><pre class="brush: java;">final List&lt;ConnectionFactory&gt; factories = new LinkedList&lt;ConnectionFactory&gt;();

// Set up a ConnectionFactory for each directory server in the pool as shown in
// the previous example, and then set up a load balancer.

final RoundRobinLoadBalancingAlgorithm algorithm =
        new RoundRobinLoadBalancingAlgorithm(factories);

final ConnectionFactory factory = Connections.newLoadBalancer(algorithm);</pre><p>With multiple pools of directory servers, for example in a deployment
  across multiple data centers, also use fail over load balancing. Fail over
  load balancing directs all requests to the first (preferred) pool of servers
  until problems are encountered with the connections to that pool. Then it
  fails over to the next pool in the list. Therefore in each data center you
  can set up round robin load balancing, and then set up fail over load
  balancing across data centers.</p><pre class="brush: java;">// localFactory:  ConnectionFactory to servers in the local data center
// remoteFactory: ConnectionFactory for servers in a remote data center
// localFactory and remoteFactory use round robin load balancing "internally".

final List&lt;ConnectionFactory&gt; factories =
        Arrays.asList(localFactory, remoteFactory);

final FailoverLoadBalancingAlgorithm algorithm =
        new FailoverLoadBalancingAlgorithm(factories);

final ConnectionFactory factory = Connections.newLoadBalancer(algorithm);</pre><p>The algorithms also include constructors that let you adjust timeouts
  and so forth.</p></div><div class="section" title="13.3.&nbsp;Listening For &amp; Handling Client Connections"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="handling-client-connections"></a>13.3.&nbsp;Listening For &amp; Handling Client Connections</h2></div></div></div><a class="indexterm" name="d564e3321"></a><p>You create an <code class="literal">LDAPListener</code> to handle incoming client
  connections. The <code class="literal">LDAPListener</code> takes a connection handler
  that deals with the connections, in this case connections back to the
  directory servers handling client requests.</p><pre class="brush: java;">
final LDAPListenerOptions options = new LDAPListenerOptions().setBacklog(4096);
LDAPListener listener = null;
try {
    listener = new LDAPListener(localAddress, localPort, connectionHandler,
            options);
    System.out.println("Press any key to stop the server...");
    System.in.read();
} catch (final IOException e) {
    System.out.println("Error listening on " + localAddress + ":" + localPort);
    e.printStackTrace();
} finally {
    if (listener != null) {
        listener.close();
    }
}
</pre><p>You get a <code class="literal">ServerConnectionFactory</code> to handle requests
  coming from clients. The <code class="literal">ServerConnectionFactory</code> takes a
  request handler that deals with the incoming client requests. The request
  handler implements handlers for all supported operations. The Proxy example
  implements a <code class="literal">ProxyBackend</code> to handle requests. The
  <code class="literal">ProxyBackend</code> sends the requests on to the backend
  directory servers and routes the results returned back to client
  applications.</p><pre class="brush: java;">
final ProxyBackend backend = new ProxyBackend(factory, bindFactory);
final ServerConnectionFactory&lt;LDAPClientContext, Integer&gt; connectionHandler =
        Connections.newServerConnectionFactory(backend);
</pre><p>See the Proxy example code for details about the
  <code class="literal">ProxyBackend</code> implementation.</p></div><div class="section" title="13.4.&nbsp;DN &amp; Attribute Rewriting"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dn-attr-rewriting"></a>13.4.&nbsp;DN &amp; Attribute Rewriting</h2></div></div></div><a class="indexterm" name="d564e3360"></a><p>Suppose you have a client application that expects a different
  attribute name, such as <code class="literal">fullname</code> for a standard attribute
  like <code class="literal">cn</code> (common name), and that expects a distinguished
  name (DN) suffix different from what is stored in the directory. If you
  cannot change the application, one possible alternative is a proxy layer
  that does DN and attribute rewriting.<sup>[<a name="d564e3373" href="#ftn.d564e3373" class="footnote">9</a>]</sup></p><div class="screen"><pre class="brush: plain;"># A search accessing the directory server
$ ldapsearch -b dc=example,dc=com -p 1389 "(cn=Babs Jensen)" cn
dn: uid=bjensen,ou=People,dc=example,dc=com
cn: Barbara Jensen
cn: Babs Jensen

# The same search search accessing a proxy that rewrites requests and responses
$ ldapsearch -b o=example -p 8389 "(fullname=Babs Jensen)" fullname
dn: uid=bjensen,ou=People,o=example
fullname: Barbara Jensen
fullname: Babs Jensen
</pre></div><p>The OpenDJ LDAP SDK <a class="link" href="http://opendj.forgerock.org/opendj-ldap-sdk-examples/xref/org/forgerock/opendj/examples/RewriterProxy.html" target="_blank">RewriterProxy</a> example builds on the Proxy example, rewriting requests
  and search result entries. When you read the example, look for the
  <code class="literal">rewrite()</code> methods.</p><p>In the above output, the rewriter proxy listens on port 8389,
  connecting to a directory server listening on 1389. The directory server
  contains data from <a class="link" href="http://opendj.forgerock.org/Example.ldif" target="_blank"><code class="filename">Example.ldif</code></a>.</p></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a id="ftn.d564e3373" href="#d564e3373" class="para">9</a>] </sup>Some servers, such as
  OpenDJ directory server, can do attribute rewriting without a proxy layer.
  See your directory server's documentation for details.</p></div></div></div><div class="reference" title="Tools Reference"><div class="titlepage"><div><div><h1 class="title"><a name="dev-tools-ref"></a>Tools Reference</h1></div></div><hr></div><div class="partintro" title="Tools Reference"><div></div><p>You can find the tools under the <code class="filename">bin/</code> or
   <code class="filename">bat\</code> folder where you installed OpenDJ LDAP SDK
   toolkit as described in the procedure explaining how <a href="../dev-guide/index.html#install-latest-sdk" class="link"><em class="citetitle">To Install the
   Latest SDK &amp; Tools</em></a>. For example,
   <code class="filename">/path/to/opendj-ldap-toolkit-2.6.0/bin</code>.</p><div class="toc"><div class="toc-title">Table of Contents</div><dl><dt><span class="refentrytitle"><a href="#authrate-1">authrate</a></span><span class="refpurpose"> &#8212; measure bind throughput and response time</span></dt><dt><span class="refentrytitle"><a href="#ldapcompare-1">ldapcompare</a></span><span class="refpurpose"> &#8212; perform LDAP compare operations</span></dt><dt><span class="refentrytitle"><a href="#ldapmodify-1">ldapmodify</a></span><span class="refpurpose"> &#8212; perform LDAP modify, add, delete, mod DN operations</span></dt><dt><span class="refentrytitle"><a href="#ldappasswordmodify-1">ldappasswordmodify</a></span><span class="refpurpose"> &#8212; perform LDAP password modifications</span></dt><dt><span class="refentrytitle"><a href="#ldapsearch-1">ldapsearch</a></span><span class="refpurpose"> &#8212; perform LDAP search operations</span></dt><dt><span class="refentrytitle"><a href="#ldifdiff-1">ldifdiff</a></span><span class="refpurpose"> &#8212; compare small LDIF files</span></dt><dt><span class="refentrytitle"><a href="#ldifmodify-1">ldifmodify</a></span><span class="refpurpose"> &#8212; apply LDIF changes to LDIF</span></dt><dt><span class="refentrytitle"><a href="#ldifsearch-1">ldifsearch</a></span><span class="refpurpose"> &#8212; search LDIF with LDAP filters</span></dt><dt><span class="refentrytitle"><a href="#modrate-1">modrate</a></span><span class="refpurpose"> &#8212; measure modification throughput and response time</span></dt><dt><span class="refentrytitle"><a href="#searchrate-1">searchrate</a></span><span class="refpurpose"> &#8212; measure search throughput and response time</span></dt></dl></div></div><div lang="en" class="refentry" title="authrate"><a name="authrate-1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>authrate &#8212; measure bind throughput and response time</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">authrate</code>  {options} [filter format string] [attributes...]</p></div></div><div class="refsect1" title="Description"><a name="d564e3443"></a><h2>Description</h2><p>This utility can be used to measure bind throughput and response time
  of a directory service using user-defined bind or search-then-bind
  operations.</p><p>Format strings may be used in the bind DN option as well as the authid
  and authzid SASL bind options. A search operation may be used to retrieve the
  bind DN by specifying the base DN and a filter. The retrieved entry DN will
  be appended as the last argument in the argument list when evaluating format
  strings.</p></div><div class="refsect1" title="Options"><a name="d564e3450"></a><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl><dt><span class="term"><code class="option">-a, --dereferencePolicy {dereferencePolicy}</code></span></dt><dd><p>Alias dereference policy ('never', 'always', 'search', or 'find')</p><p>Default value: never</p></dd><dt><span class="term"><code class="option">-b, --baseDN {baseDN}</code></span></dt><dd><p>Base DN format string</p></dd><dt><span class="term"><code class="option">-c, --numConnections {numConnections}</code></span></dt><dd><p>Number of connections</p><p>Default value: 1</p></dd><dt><span class="term"><code class="option">-e, --percentile {percentile}</code></span></dt><dd><p>Calculate max response time for a percentile of operations</p></dd><dt><span class="term"><code class="option">-f, --keepConnectionsOpen</code></span></dt><dd><p>Keep connections open</p></dd><dt><span class="term"><code class="option">-g, --argument {generator function or static string}</code></span></dt><dd><p>Argument used to evaluate the Java style format strings in program
     parameters (Base DN, Search Filter). The set of all arguments provided
     form the the argument list in order. Besides static string arguments, they
     can be generated per iteration with the following functions:</p><div class="variablelist"><dl><dt><span class="term">"inc({filename})"</span></dt><dd><p>Consecutive, incremental line from file</p></dd><dt><span class="term">"inc({min},{max})"</span></dt><dd><p>Consecutive, incremental number</p></dd><dt><span class="term">"rand({filename})"</span></dt><dd><p>Random line from file</p></dd><dt><span class="term">"rand({min},{max})"</span></dt><dd><p>Random number</p></dd><dt><span class="term">"randstr({length},<em class="replaceable"><code>charSet</code></em>)"</span></dt><dd><p>Random string of specified length and optionally from
      characters in the charSet string. A range of character can be specified
      with [start-end] charSet notation. If no charSet is specified,
      the default charSet of [A-Z][a-z][0-9] will be used.</p></dd></dl></div></dd><dt><span class="term"><code class="option">-i, --statInterval {statInterval}</code></span></dt><dd><p>Display results each specified number of seconds</p><p>Default value: 5</p></dd><dt><span class="term"><code class="option">-I, --invalidPassword {invalidPassword}</code></span></dt><dd><p>Percent of bind operations with simulated invalid password</p><p>Default value: 0</p></dd><dt><span class="term"><code class="option">-m, --maxIterations {maxIterations}</code></span></dt><dd><p>Max iterations, 0 for unlimited</p><p>Default value: 0</p></dd><dt><span class="term"><code class="option">-M, --targetThroughput {targetThroughput}</code></span></dt><dd><p>Target average throughput to achieve</p><p>Default value: 0</p></dd><dt><span class="term"><code class="option">-s, --searchScope {searchScope}</code></span></dt><dd><p>Search scope ('base', 'one', 'sub', or 'subordinate')</p><p>Default value: sub</p></dd><dt><span class="term"><code class="option">-S, --scriptFriendly</code></span></dt><dd><p>Use script-friendly mode</p></dd></dl></div><div class="refsect2" title="LDAP Connection Options"><a name="d564e3588"></a><h3>LDAP Connection Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-E, --reportAuthzID</code></span></dt><dd><p>Use the authorization identity control</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p> Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server port number</p><p>Default value: 389</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-q, --useStartTLS</code></span></dt><dd><p>Use StartTLS to secure communication with the server</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">--usePasswordPolicyControl</code></span></dt><dd><p>Use the password policy request control</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd><dt><span class="term"><code class="option">-Z, --useSSL</code></span></dt><dd><p>Use SSL for secure communication with the server</p></dd></dl></div></div><div class="refsect2" title="Utility Input/Output Options"><a name="d564e3724"></a><h3>Utility Input/Output Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd><dt><span class="term"><code class="option">-v, --verbose</code></span></dt><dd><p>Use verbose mode</p></dd></dl></div></div><div class="refsect2" title="General Options"><a name="d564e3749"></a><h3>General Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" title="Exit Codes"><a name="d564e3767"></a><h2>Exit Codes</h2><div class="variablelist"><dl><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">89</span></dt><dd><p>An error occurred while parsing the command-line arguments.</p></dd></dl></div></div><div class="refsect1" title="Examples"><a name="d564e3783"></a><h2>Examples</h2><p>The following example demonstrates measuring simple bind
  performance.</p><div class="screen"><pre class="brush: plain;">$ authrate -p 1389 -g "rand(names.txt)"
 -D "uid=%s,ou=people,dc=example,dc=com" -w password -c 10 -f
-----------------------------------------------------------------
     Throughput                            Response Time         
   (ops/second)                           (milliseconds)         
recent  average  recent  average  99.9%  99.99%  99.999%  err/sec
-----------------------------------------------------------------
9796.9   9816.6   1.029    1.029  12.413  161.451  161.835      0.0
14201.1  12028.1   0.704    0.835  9.508  161.456  167.573      0.0
14450.0  12835.9   0.692    0.782  8.989  161.835  174.518      0.0
12934.3  12860.6   0.773    0.779  9.253  161.339  174.426      0.0
14154.5  13121.0   0.706    0.764  9.025  161.451  177.101      0.0
^C</pre></div><p>The <code class="filename">names.txt</code> contains all the user IDs for the
  sample suffix, and all user password values have been set to
  <code class="literal">password</code> for this example.</p></div></div><div lang="en" class="refentry" title="ldapcompare"><div class="refentry.separator"><hr></div><a name="ldapcompare-1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>ldapcompare &#8212; perform LDAP compare operations</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">ldapcompare</code>  {options} [[attribute] |  [:] |  [value]] [DN...]</p></div></div><div class="refsect1" title="Description"><a name="d564e3835"></a><h2>Description</h2><p>This utility can be used to perform LDAP compare operations in the
  directory.</p></div><div class="refsect1" title="Options"><a name="d564e3840"></a><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl><dt><span class="term"><code class="option">--assertionFilter {filter}</code></span></dt><dd><p>Use the LDAP assertion control with the provided filter</p></dd><dt><span class="term"><code class="option">-c, --continueOnError</code></span></dt><dd><p>Continue processing even if there are errors</p></dd><dt><span class="term"><code class="option">-f, --filename {file}</code></span></dt><dd><p>LDIF file containing one DN per line of entries to compare</p></dd><dt><span class="term"><code class="option">-J, --control {controloid[:criticality[:value|::b64value|:&lt;filePath]]}</code></span></dt><dd><p>Use a request control with the provided information</p></dd><dt><span class="term"><code class="option">-n, --dry-run</code></span></dt><dd><p>Show what would be done but do not perform any operation</p></dd><dt><span class="term"><code class="option">-Y, --proxyAs {authzID}</code></span></dt><dd><p>Use the proxied authorization control with the given authorization
     ID</p></dd></dl></div><div class="refsect2" title="LDAP Connection Options"><a name="d564e3888"></a><h3>LDAP Connection Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-E, --reportAuthzID</code></span></dt><dd><p>Use the authorization identity control</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p> Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server port number</p><p>Default value: 389</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-q, --useStartTLS</code></span></dt><dd><p>Use StartTLS to secure communication with the server</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">--usePasswordPolicyControl</code></span></dt><dd><p>Use the password policy request control</p></dd><dt><span class="term"><code class="option">-V, --ldapVersion {version}</code></span></dt><dd><p>LDAP protocol version number</p><p>Default value: 3</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd><dt><span class="term"><code class="option">-Z, --useSSL</code></span></dt><dd><p>Use SSL for secure communication with the server</p></dd></dl></div></div><div class="refsect2" title="Utility Input/Output Options"><a name="d564e4033"></a><h3>Utility Input/Output Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">-i, --encoding {encoding}</code></span></dt><dd><p>Use the specified character set for command-line input</p></dd><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd><dt><span class="term"><code class="option">-v, --verbose</code></span></dt><dd><p>Use verbose mode</p></dd></dl></div></div><div class="refsect2" title="General Options"><a name="d564e4065"></a><h3>General Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">--version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" title="Exit Codes"><a name="d564e4083"></a><h2>Exit Codes</h2><div class="variablelist"><dl><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term"><em class="replaceable"><code>ldap-error</code></em></span></dt><dd><p>An LDAP error occurred while processing the operation.</p><p>LDAP result codes are described in <a class="link" href="http://tools.ietf.org/html/rfc4511#appendix-A" target="_top">RFC
      4511</a>. Also see the additional information for details.</p></dd><dt><span class="term">89</span></dt><dd><p>An error occurred while parsing the command-line arguments.</p></dd></dl></div></div><div class="refsect1" title="Files"><a name="d564e4111"></a><h2>Files</h2><p>You can use <code class="filename">~/.opendj/tools.properties</code> to set
  the defaults for bind DN, host name, and port number as in the following
  example.</p><pre class="brush: ini;">hostname=directory.example.com
port=1389
bindDN=uid=kvaughan,ou=People,dc=example,dc=com

ldapcompare.port=1389
ldapdelete.port=1389
ldapmodify.port=1389
ldappasswordmodify.port=1389
ldapsearch.port=1389</pre></div><div class="refsect1" title="Examples"><a name="d564e4121"></a><h2>Examples</h2><p>The following examples demonstrate comparing Babs Jensen's UID.</p><p>The following example uses a matching UID value.</p><div class="screen"><pre class="brush: plain;">$ ldapcompare -p 1389 uid:bjensen uid=bjensen,ou=people,dc=example,dc=com
Comparing type uid with value bjensen in entry
uid=bjensen,ou=people,dc=example,dc=com
Compare operation returned true for entry
uid=bjensen,ou=people,dc=example,dc=com</pre></div><p>The following example uses a UID value that does not match.</p><div class="screen"><pre class="brush: plain;">$ ldapcompare -p 1389 uid:beavis uid=bjensen,ou=people,dc=example,dc=com
Comparing type uid with value beavis in entry
uid=bjensen,ou=people,dc=example,dc=com
Compare operation returned false for entry
uid=bjensen,ou=people,dc=example,dc=com</pre></div></div></div><div lang="en" class="refentry" title="ldapmodify"><div class="refentry.separator"><hr></div><a name="ldapmodify-1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>ldapmodify &#8212; perform LDAP modify, add, delete, mod DN operations</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">ldapmodify</code>  {options}</p></div></div><div class="refsect1" title="Description"><a name="d564e4162"></a><h2>Description</h2><p>This utility can be used to perform LDAP modify, add, delete, and
  modify DN operations in the directory.</p><p>When not using a file to specify modifications, end your input with
  EOF (Ctrl+D on UNIX, Ctrl+Z on Windows).</p></div><div class="refsect1" title="Options"><a name="d564e4169"></a><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl><dt><span class="term"><code class="option">-a, --defaultAdd</code></span></dt><dd><p>Treat records with no changetype as add operations</p></dd><dt><span class="term"><code class="option">--assertionFilter {filter}</code></span></dt><dd><p>Use the LDAP assertion control with the provided filter</p></dd><dt><span class="term"><code class="option">-c, --continueOnError</code></span></dt><dd><p>Continue processing even if there are errors</p></dd><dt><span class="term"><code class="option">-f, --filename {file}</code></span></dt><dd><p>LDIF file containing the changes to apply</p></dd><dt><span class="term"><code class="option">-J, --control {controloid[:criticality[:value|::b64value|:&lt;filePath]]}</code></span></dt><dd><p>Use a request control with the provided information</p></dd><dt><span class="term"><code class="option">-n, --dry-run</code></span></dt><dd><p>Show what would be done but do not perform any operation</p></dd><dt><span class="term"><code class="option">--postReadAttributes {attrList}</code></span></dt><dd><p>Use the LDAP ReadEntry post-read control</p></dd><dt><span class="term"><code class="option">--preReadAttributes {attrList}</code></span></dt><dd><p>Use the LDAP ReadEntry pre-read control</p></dd><dt><span class="term"><code class="option">-Y, --proxyAs {authzID}</code></span></dt><dd><p>Use the proxied authorization control with the given authorization
     ID</p></dd></dl></div><div class="refsect2" title="LDAP Connection Options"><a name="d564e4238"></a><h3>LDAP Connection Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-E, --reportAuthzID</code></span></dt><dd><p>Use the authorization identity control</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p> Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server port number</p><p>Default value: 389</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-q, --useStartTLS</code></span></dt><dd><p>Use StartTLS to secure communication with the server</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">--usePasswordPolicyControl</code></span></dt><dd><p>Use the password policy request control</p></dd><dt><span class="term"><code class="option">-V, --ldapVersion {version}</code></span></dt><dd><p>LDAP protocol version number</p><p>Default value: 3</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd><dt><span class="term"><code class="option">-Z, --useSSL</code></span></dt><dd><p>Use SSL for secure communication with the server</p></dd></dl></div></div><div class="refsect2" title="Utility Input/Output Options"><a name="d564e4383"></a><h3>Utility Input/Output Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">-i, --encoding {encoding}</code></span></dt><dd><p>Use the specified character set for command-line input</p></dd><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd><dt><span class="term"><code class="option">-v, --verbose</code></span></dt><dd><p>Use verbose mode</p></dd></dl></div></div><div class="refsect2" title="General Options"><a name="d564e4415"></a><h3>General Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">--version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" title="Exit Codes"><a name="d564e4433"></a><h2>Exit Codes</h2><div class="variablelist"><dl><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term"><em class="replaceable"><code>ldap-error</code></em></span></dt><dd><p>An LDAP error occurred while processing the operation.</p><p>LDAP result codes are described in <a class="link" href="http://tools.ietf.org/html/rfc4511#appendix-A" target="_top">RFC
      4511</a>. Also see the additional information for details.</p></dd><dt><span class="term">89</span></dt><dd><p>An error occurred while parsing the command-line arguments.</p></dd></dl></div></div><div class="refsect1" title="Files"><a name="d564e4461"></a><h2>Files</h2><p>You can use <code class="filename">~/.opendj/tools.properties</code> to set
  the defaults for bind DN, host name, and port number as in the following
  example.</p><pre class="brush: ini;">hostname=directory.example.com
port=1389
bindDN=uid=kvaughan,ou=People,dc=example,dc=com

ldapcompare.port=1389
ldapdelete.port=1389
ldapmodify.port=1389
ldappasswordmodify.port=1389
ldapsearch.port=1389</pre></div><div class="refsect1" title="Examples"><a name="d564e4471"></a><h2>Examples</h2><p>The following example demonstrates use of the command to add an entry
  to the directory.</p><div class="screen"><pre class="brush: plain;">$ cat newuser.ldif 
dn: uid=newuser,ou=People,dc=example,dc=com
uid: newuser
facsimileTelephoneNumber: +1 408 555 1213
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: posixAccount
objectClass: top
givenName: New
cn: New User
cn: Real Name
telephoneNumber: +1 408 555 1212
sn: Jensen
roomNumber: 1234
homeDirectory: /home/newuser
uidNumber: 10389
mail: newuser@example.com
l: South Pole
ou: Product Development
ou: People
gidNumber: 10636

$ ldapmodify -p 1389 -a -f newuser.ldif
 -D uid=kvaughan,ou=people,dc=example,dc=com -w bribery
Processing ADD request for uid=newuser,ou=People,dc=example,dc=com
ADD operation successful for DN uid=newuser,ou=People,dc=example,dc=com</pre></div><p>The following example demonstrates adding a Description attribute
 to the new user's entry.</p><div class="screen"><pre class="brush: plain;">$ cat newdesc.ldif 
dn: uid=newuser,ou=People,dc=example,dc=com
changetype: modify
add: description
description: A new user's entry

$ ldapmodify -p 1389 -f newdesc.ldif
 -D uid=kvaughan,ou=people,dc=example,dc=com -w bribery
Processing MODIFY request for uid=newuser,ou=People,dc=example,dc=com
MODIFY operation successful for DN uid=newuser,ou=People,dc=example,dc=com</pre></div><p>The following example demonstrates changing the Description attribute
 for the new user's entry.</p><div class="screen"><pre class="brush: plain;">$ cat moddesc.ldif 
dn: uid=newuser,ou=People,dc=example,dc=com
changetype: modify
replace: description
description: Another description

$ ldapmodify -p 1389 -f moddesc.ldif
 -D uid=kvaughan,ou=people,dc=example,dc=com -w bribery
Processing MODIFY request for uid=newuser,ou=People,dc=example,dc=com
MODIFY operation successful for DN uid=newuser,ou=People,dc=example,dc=com</pre></div><p>The following example demonstrates deleting the new user's entry.</p><div class="screen"><pre class="brush: plain;">$ cat deluser.ldif 
dn: uid=newuser,ou=People,dc=example,dc=com
changetype: delete

$ ldapmodify -p 1389 -f deluser.ldif
 -D uid=kvaughan,ou=people,dc=example,dc=com -w bribery
Processing DELETE request for uid=newuser,ou=People,dc=example,dc=com
DELETE operation successful for DN uid=newuser,ou=People,dc=example,dc=com</pre></div></div></div><div lang="en" class="refentry" title="ldappasswordmodify"><div class="refentry.separator"><hr></div><a name="ldappasswordmodify-1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>ldappasswordmodify &#8212; perform LDAP password modifications</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">ldappasswordmodify</code>  {options}</p></div></div><div class="refsect1" title="Description"><a name="d564e4518"></a><h2>Description</h2><p>This utility can be used to perform LDAP password modify operations in
  the directory.</p></div><div class="refsect1" title="Options"><a name="d564e4523"></a><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl><dt><span class="term"><code class="option">-a, --authzID {authzID}</code></span></dt><dd><p>Authorization ID for the user entry whose password should be changed</p><p>The authorization ID is a string having either the prefix
     <code class="literal">dn:</code> followed by the user's distinguished name, or
     the prefix <code class="literal">u:</code> followed by a user identifier that
     depends on the identity mapping used to match the user identifier to
     an entry in the directory. Examples include
     <code class="literal">dn:uid=bjensen,ou=People,dc=example,dc=com</code>, and, if
     we assume that <code class="literal">bjensen</code> is mapped to Barbara Jensen's
     entry, <code class="literal">u:bjensen</code>.</p></dd><dt><span class="term"><code class="option">-A, --provideDNForAuthzID</code></span></dt><dd><p>Use the bind DN as the authorization ID for the password modify
     operation</p></dd><dt><span class="term"><code class="option">-c, --currentPassword {currentPassword}</code></span></dt><dd><p>Current password for the target user</p></dd><dt><span class="term"><code class="option">-C, --currentPasswordFile {file}</code></span></dt><dd><p>Path to a file containing the current password for the target user</p></dd><dt><span class="term"><code class="option">-F, --newPasswordFile {file}</code></span></dt><dd><p>Path to a file containing the new password to provide for the
     target user</p></dd><dt><span class="term"><code class="option">-J, --control {controloid[:criticality[:value|::b64value|:&lt;filePath]]}</code></span></dt><dd><p>Use a request control with the provided information</p></dd><dt><span class="term"><code class="option">-n, --newPassword {newPassword}</code></span></dt><dd><p>New password to provide for the target user</p></dd></dl></div><div class="refsect2" title="LDAP Connection Options"><a name="d564e4595"></a><h3>LDAP Connection Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-E, --reportAuthzID</code></span></dt><dd><p>Use the authorization identity control</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p> Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server port number</p><p>Default value: 389</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-q, --useStartTLS</code></span></dt><dd><p>Use StartTLS to secure communication with the server</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">--usePasswordPolicyControl</code></span></dt><dd><p>Use the password policy request control</p></dd><dt><span class="term"><code class="option">-V, --ldapVersion {version}</code></span></dt><dd><p>LDAP protocol version number</p><p>Default value: 3</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd><dt><span class="term"><code class="option">-Z, --useSSL</code></span></dt><dd><p>Use SSL for secure communication with the server</p></dd></dl></div></div><div class="refsect2" title="Utility Input/Output Options"><a name="d564e4740"></a><h3>Utility Input/Output Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd><dt><span class="term"><code class="option">-v, --verbose</code></span></dt><dd><p>Use verbose mode</p></dd></dl></div></div><div class="refsect2" title="General Options"><a name="d564e4772"></a><h3>General Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">--version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" title="Exit Codes"><a name="d564e4790"></a><h2>Exit Codes</h2><div class="variablelist"><dl><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term"><em class="replaceable"><code>ldap-error</code></em></span></dt><dd><p>An LDAP error occurred while processing the operation.</p><p>LDAP result codes are described in <a class="link" href="http://tools.ietf.org/html/rfc4511#appendix-A" target="_top">RFC
      4511</a>. Also see the additional information for details.</p></dd><dt><span class="term">89</span></dt><dd><p>An error occurred while parsing the command-line arguments.</p></dd></dl></div></div><div class="refsect1" title="Files"><a name="d564e4818"></a><h2>Files</h2><p>You can use <code class="filename">~/.opendj/tools.properties</code> to set
  the defaults for bind DN, host name, and port number as in the following
  example.</p><pre class="brush: ini;">hostname=directory.example.com
port=1389
bindDN=uid=kvaughan,ou=People,dc=example,dc=com

ldapcompare.port=1389
ldapdelete.port=1389
ldapmodify.port=1389
ldappasswordmodify.port=1389
ldapsearch.port=1389</pre></div><div class="refsect1" title="Examples"><a name="d564e4828"></a><h2>Examples</h2><p>The following example demonstrates a user changing the password
  for her entry.</p><div class="screen"><pre class="brush: plain;">$ cat /tmp/currpwd.txt /tmp/newpwd.txt
bribery
secret12
$ ldappasswordmodify -p 1389 -C /tmp/currpwd.txt -N /tmp/newpwd.txt
-A -D uid=kvaughan,ou=people,dc=example,dc=com -w bribery
The LDAP password modify operation was successful</pre></div></div></div><div lang="en" class="refentry" title="ldapsearch"><div class="refentry.separator"><hr></div><a name="ldapsearch-1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>ldapsearch &#8212; perform LDAP search operations</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">ldapsearch</code>  {options} [filter] [attributes...]</p></div></div><div class="refsect1" title="Description"><a name="d564e4867"></a><h2>Description</h2><p>This utility can be used to perform LDAP search operations in the
  directory.</p></div><div class="refsect1" title="Options"><a name="d564e4872"></a><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl><dt><span class="term"><code class="option">-a, --dereferencePolicy {dereferencePolicy}</code></span></dt><dd><p>Alias dereference policy ('never', 'always', 'search', or 'find')</p><p>Default value: never</p></dd><dt><span class="term"><code class="option">-A, --typesOnly</code></span></dt><dd><p>Only retrieve attribute names but not their values</p></dd><dt><span class="term"><code class="option">--assertionFilter {filter}</code></span></dt><dd><p>Use the LDAP assertion control with the provided filter</p></dd><dt><span class="term"><code class="option">-b, --baseDN {baseDN}</code></span></dt><dd><p>Base DN format string</p></dd><dt><span class="term"><code class="option">-c, --continueOnError</code></span></dt><dd><p>Continue processing even if there are errors</p></dd><dt><span class="term"><code class="option">-C, --persistentSearch ps[:changetype[:changesonly[:entrychgcontrols]]]</code></span></dt><dd><p>Use the persistent search control</p></dd><dt><span class="term"><code class="option">--countEntries</code></span></dt><dd><p>Count the number of entries returned by the server</p></dd><dt><span class="term"><code class="option">-e, --getEffectiveRightsAttribute {attribute}</code></span></dt><dd><p>Specifies geteffectiverights control specific attribute list</p></dd><dt><span class="term"><code class="option">-f, --filename {file}</code></span></dt><dd><p>LDIF file containing the changes to apply</p></dd><dt><span class="term"><code class="option">-g, --getEffectiveRightsAuthzid {authzID}</code></span></dt><dd><p>Use geteffectiverights control with the provided authzid</p></dd><dt><span class="term"><code class="option">-G, --virtualListView {before:after:index:count | before:after:value}</code></span></dt><dd><p>Use the virtual list view control to retrieve the specified results page</p></dd><dt><span class="term"><code class="option">-J, --control {controloid[:criticality[:value|::b64value|:&lt;filePath]]}</code></span></dt><dd><p>Use a request control with the provided information</p></dd><dt><span class="term"><code class="option">-l, --timeLimit {timeLimit}</code></span></dt><dd><p>Maximum length of time in seconds to allow for the search</p><p>Default value: 0</p></dd><dt><span class="term"><code class="option">--matchedValuesFilter {filter}</code></span></dt><dd><p>Use the LDAP matched values control with the provided filter</p></dd><dt><span class="term"><code class="option">-n, --dry-run</code></span></dt><dd><p>Show what would be done but do not perform any operation</p></dd><dt><span class="term"><code class="option">-s, --searchScope {searchScope}</code></span></dt><dd><p>Search scope ('base', 'one', 'sub', or 'subordinate')</p><p>Default value: sub</p><p><code class="literal">subordinate</code> is an LDAP extension that might
     not work with all LDAP servers.</p></dd><dt><span class="term"><code class="option">-S, --sortOrder {sortOrder}</code></span></dt><dd><p>Sort the results using the provided sort order</p></dd><dt><span class="term"><code class="option">--simplePageSize {numEntries}</code></span></dt><dd><p>Use the simple paged results control with the given page size</p><p>Default value: 1000</p></dd><dt><span class="term"><code class="option">-Y, --proxyAs {authzID}</code></span></dt><dd><p>Use the proxied authorization control with the given authorization
     ID</p></dd><dt><span class="term"><code class="option">-z, --sizeLimit {sizeLimit}</code></span></dt><dd><p>Maximum number of entries to return from the search</p><p>Default value: 0</p></dd></dl></div><div class="refsect2" title="LDAP Connection Options"><a name="d564e5032"></a><h3>LDAP Connection Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-E, --reportAuthzID</code></span></dt><dd><p>Use the authorization identity control</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p> Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server port number</p><p>Default value: 389</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-q, --useStartTLS</code></span></dt><dd><p>Use StartTLS to secure communication with the server</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">--usePasswordPolicyControl</code></span></dt><dd><p>Use the password policy request control</p></dd><dt><span class="term"><code class="option">-V, --ldapVersion {version}</code></span></dt><dd><p>LDAP protocol version number</p><p>Default value: 3</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd><dt><span class="term"><code class="option">-Z, --useSSL</code></span></dt><dd><p>Use SSL for secure communication with the server</p></dd></dl></div></div><div class="refsect2" title="Utility Input/Output Options"><a name="d564e5177"></a><h3>Utility Input/Output Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">-i, --encoding {encoding}</code></span></dt><dd><p>Use the specified character set for command-line input</p></dd><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd><dt><span class="term"><code class="option">-t, --dontWrap</code></span></dt><dd><p>Do not wrap long lines</p></dd><dt><span class="term"><code class="option">-v, --verbose</code></span></dt><dd><p>Use verbose mode</p></dd></dl></div></div><div class="refsect2" title="General Options"><a name="d564e5216"></a><h3>General Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">--version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" title="Filter"><a name="d564e5234"></a><h2>Filter</h2><p>The filter argument is a string representation of an LDAP search filter
  as in <code class="literal">(cn=Babs Jensen)</code>, <code class="literal">(&amp;(objectClass=Person)(|(sn=Jensen)(cn=Babs J*)))</code>, or
  <code class="literal">(cn:caseExactMatch:=Fred Flintstone)</code>.</p></div><div class="refsect1" title="Attribute"><a name="d564e5248"></a><h2>Attribute</h2><p>The optional attribute list specifies the attributes to return in the
  entries found by the search. In addition to identifying attributes by name
  such as <code class="literal">cn sn mail</code> and so forth, you can use the following
  notations, too.</p><div class="variablelist"><dl><dt><span class="term"><code class="literal">*</code></span></dt><dd><p>Return all user attributes such as <code class="literal">cn</code>,
     <code class="literal">sn</code>, and <code class="literal">mail</code>.</p></dd><dt><span class="term"><code class="literal">+</code></span></dt><dd><p>Return all operational attributes such as <code class="literal">etag</code>
     and <code class="literal">pwdPolicySubentry</code>.</p></dd><dt><span class="term"><code class="literal">@<em class="replaceable"><code>objectclass</code></em></code></span></dt><dd><p>Return all attributes of the specified object class, where
     <em class="replaceable"><code>objectclass</code></em> is one of the object classes
     on the entries returned by the search.</p></dd></dl></div></div><div class="refsect1" title="Exit Codes"><a name="d564e5298"></a><h2>Exit Codes</h2><div class="variablelist"><dl><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term"><em class="replaceable"><code>ldap-error</code></em></span></dt><dd><p>An LDAP error occurred while processing the operation.</p><p>LDAP result codes are described in <a class="link" href="http://tools.ietf.org/html/rfc4511#appendix-A" target="_top">RFC
      4511</a>. Also see the additional information for details.</p></dd><dt><span class="term">89</span></dt><dd><p>An error occurred while parsing the command-line arguments.</p></dd></dl></div></div><div class="refsect1" title="Files"><a name="d564e5326"></a><h2>Files</h2><p>You can use <code class="filename">~/.opendj/tools.properties</code> to set
  the defaults for bind DN, host name, and port number as in the following
  example.</p><pre class="brush: ini;">hostname=directory.example.com
port=1389
bindDN=uid=kvaughan,ou=People,dc=example,dc=com

ldapcompare.port=1389
ldapdelete.port=1389
ldapmodify.port=1389
ldappasswordmodify.port=1389
ldapsearch.port=1389</pre></div><div class="refsect1" title="Examples"><a name="d564e5336"></a><h2>Examples</h2><p>The following example searches for entries with UID containing
  <code class="literal">jensen</code>, returning only DNs and uid values.</p><div class="screen"><pre class="brush: plain;">$ ldapsearch -p 1389 -b dc=example,dc=com "(uid=*jensen*)" uid
dn: uid=ajensen,ou=People,dc=example,dc=com
uid: ajensen

dn: uid=bjensen,ou=People,dc=example,dc=com
uid: bjensen

dn: uid=gjensen,ou=People,dc=example,dc=com
uid: gjensen

dn: uid=jjensen,ou=People,dc=example,dc=com
uid: jjensen

dn: uid=kjensen,ou=People,dc=example,dc=com
uid: kjensen

dn: uid=rjensen,ou=People,dc=example,dc=com
uid: rjensen

dn: uid=tjensen,ou=People,dc=example,dc=com
uid: tjensen


Result Code:  0 (Success)</pre></div><p>You can also use <code class="literal">@<em class="replaceable"><code>objectclass</code></em></code> notation in the attribute list to return
  the attributes of a particular object class. The following example shows
  how to return attributes of the <code class="literal">inetOrgPerson</code> object
  class.</p><div class="screen"><pre class="brush: plain;">$ ldapsearch -p 1389 -b dc=example,dc=com "(uid=bjensen)" @inetorgperson
dn: uid=bjensen,ou=People,dc=example,dc=com
givenName: Barbara
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: posixAccount
objectClass: top
uid: bjensen
cn: Barbara Jensen
cn: Babs Jensen
telephoneNumber: +1 408 555 1862
sn: Jensen
roomNumber: 0209
mail: bjensen@example.com
l: Cupertino
ou: Product Development
ou: People
facsimileTelephoneNumber: +1 408 555 1992</pre></div><p>You can use <code class="literal">+</code> in the attribute list to return
  all operational attributes, as in the following example.</p><div class="screen"><pre class="brush: plain;">$ ldapsearch -p 1389 -b dc=example,dc=com "(uid=bjensen)" +
dn: uid=bjensen,ou=People,dc=example,dc=com
numSubordinates: 0
structuralObjectClass: inetOrgPerson
etag: 0000000073c29972
pwdPolicySubentry: cn=Default Password Policy,cn=Password Policies,cn=config
subschemaSubentry: cn=schema
hasSubordinates: false
entryDN: uid=bjensen,ou=people,dc=example,dc=com
entryUUID: fc252fd9-b982-3ed6-b42a-c76d2546312c</pre></div></div></div><div lang="en" class="refentry" title="ldifdiff"><div class="refentry.separator"><hr></div><a name="ldifdiff-1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>ldifdiff &#8212; compare small LDIF files</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">ldifdiff</code>  [options]  <em class="replaceable"><code>source</code></em>.ldif   <em class="replaceable"><code>target</code></em>.ldif </p></div></div><div class="refsect1" title="Description"><a name="d564e5401"></a><h2>Description</h2><p>This utility can be used to compare two LDIF files and report the
  differences in LDIF format.</p></div><div class="refsect1" title="Options"><a name="d564e5406"></a><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl><dt><span class="term"><code class="option">-a, --ignoreAttrs {file}</code></span></dt><dd><p>File containing a list of attributes to ignore when computing the
     difference.</p></dd><dt><span class="term"><code class="option">--checkSchema</code></span></dt><dd><p>Takes into account the syntax of the attributes as defined in the
     schema to make the value comparison. The provided LDIF files must conform
     to the server schema.</p></dd><dt><span class="term"><code class="option">-e, --ignoreEntries {file}</code></span></dt><dd><p>File containing a list of entries (DN) to ignore when computing the
     difference.</p></dd><dt><span class="term"><code class="option">-S, --singleValueChanges</code></span></dt><dd><p>Each attribute-level change should be written as a separate
     modification per attribute value rather than one modification per
     entry.</p></dd><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information.</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information.</p></dd></dl></div></div><div class="refsect1" title="Exit Codes"><a name="d564e5454"></a><h2>Exit Codes</h2><div class="variablelist"><dl><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" title="Examples"><a name="d564e5470"></a><h2>Examples</h2><p>The following example demonstrates use of the command with two
  small LDIF files.</p><div class="screen"><pre class="brush: plain;">$ cat /path/to/newuser.ldif
dn: uid=newuser,ou=People,dc=example,dc=com
uid: newuser
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: top
cn: New User
sn: User
ou: People
mail: newuser@example.com
userPassword: changeme

$ cat /path/to/neweruser.ldif
dn: uid=newuser,ou=People,dc=example,dc=com
uid: newuser
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: top
cn: New User
sn: User
ou: People
mail: newuser@example.com
userPassword: secret12
description: A new description.

$ ldifdiff /path/to/newuser.ldif /path/to/neweruser.ldif
dn: uid=newuser,ou=People,dc=example,dc=com
changetype: modify
add: userPassword
userPassword: secret12
-
delete: userPassword
userPassword: changeme
-
add: description
description: A new description.
</pre></div></div></div><div lang="en" class="refentry" title="ldifmodify"><div class="refentry.separator"><hr></div><a name="ldifmodify-1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>ldifmodify &#8212; apply LDIF changes to LDIF</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">ldifmodify</code>  {options}  source  [changes]</p></div></div><div class="refsect1" title="Description"><a name="d564e5509"></a><h2>Description</h2><p>This utility can be used to apply a set of modify, add, and delete
  operations against data in an LDIF file.</p></div><div class="refsect1" title="Options"><a name="d564e5514"></a><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl><dt><span class="term"><code class="option">-c, --continueOnError</code></span></dt><dd><p>Continue processing even if there are errors</p></dd><dt><span class="term"><code class="option">-o, --outputLDIF {file}</code></span></dt><dd><p>Write updated entries to {file} instead of stdout</p><p>Default value: stdout</p></dd><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information.</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information.</p></dd></dl></div></div><div class="refsect1" title="Exit Codes"><a name="d564e5550"></a><h2>Exit Codes</h2><div class="variablelist"><dl><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" title="Examples"><a name="d564e5566"></a><h2>Examples</h2><p>The following example demonstrates use of the command.</p><div class="screen"><pre class="brush: plain;">$ cat /path/to/newuser.ldif
dn: uid=newuser,ou=People,dc=example,dc=com
uid: newuser
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: top
cn: New User
sn: User
ou: People
mail: newuser@example.com
userPassword: changeme

$ cat /path/to/newdiff.ldif
dn: uid=newuser,ou=People,dc=example,dc=com
changetype: modify
add: userPassword
userPassword: secret12
-
delete: userPassword
userPassword: changeme
-
add: description
description: A new description.

$ ldifmodify -o neweruser.ldif /path/to/newuser.ldif /path/to/newdiff.ldif
$ cat neweruser.ldif 
dn: uid=newuser,ou=People,dc=example,dc=com
uid: newuser
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: top
cn: New User
sn: User
ou: People
mail: newuser@example.com
userPassword: secret12
description: A new description.
</pre></div></div></div><div lang="en" class="refentry" title="ldifsearch"><div class="refentry.separator"><hr></div><a name="ldifsearch-1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>ldifsearch &#8212; search LDIF with LDAP filters</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">ldifsearch</code>  {options}  source  [filter] [attribute...]</p></div></div><div class="refsect1" title="Description"><a name="d564e5607"></a><h2>Description</h2><p>This utility can be used to perform search operations against data in
  an LDIF file.</p></div><div class="refsect1" title="Options"><a name="d564e5612"></a><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl><dt><span class="term"><code class="option">-A, --typesOnly</code></span></dt><dd><p>Only retrieve attribute names but not their values</p></dd><dt><span class="term"><code class="option">-b, --baseDN {baseDN}</code></span></dt><dd><p>Search base DN</p></dd><dt><span class="term"><code class="option">-f, --filterFile {filterFile}</code></span></dt><dd><p>File containing a list of search filter strings</p></dd><dt><span class="term"><code class="option">-l, --timeLimit {timeLimit}</code></span></dt><dd><p>Maximum length of time in seconds to allow for the search</p><p>Default value: 0</p></dd><dt><span class="term"><code class="option">-o, --outputFile {File}</code></span></dt><dd><p>Write search results to {file} instead of stdout</p><p>Default: stdout</p></dd><dt><span class="term"><code class="option">-s, --searchScope {scope}</code></span></dt><dd><p>Search scope ('base', 'one', 'sub', or 'subordinate')</p><p>Default value: sub</p></dd><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information.</p></dd><dt><span class="term"><code class="option">-z, --sizeLimit {sizeLimit}</code></span></dt><dd><p>Maximum number of matching entries to return from the search</p><p>Default value: 0</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information.</p></dd></dl></div></div><div class="refsect1" title="Filter"><a name="d564e5689"></a><h2>Filter</h2><p>The filter argument is a string representation of an LDAP search filter
  as in <code class="literal">(cn=Babs Jensen)</code>, <code class="literal">(&amp;(objectClass=Person)(|(sn=Jensen)(cn=Babs J*)))</code>, or
  <code class="literal">(cn:caseExactMatch:=Fred Flintstone)</code>.</p></div><div class="refsect1" title="Attribute"><a name="d564e5703"></a><h2>Attribute</h2><p>The optional attribute list specifies the attributes to return in the
  entries found by the search. In addition to identifying attributes by name
  such as <code class="literal">cn sn mail</code> and so forth, you can use the following
  notations, too.</p><div class="variablelist"><dl><dt><span class="term"><code class="literal">*</code></span></dt><dd><p>Return all user attributes such as <code class="literal">cn</code>,
     <code class="literal">sn</code>, and <code class="literal">mail</code>.</p></dd><dt><span class="term"><code class="literal">+</code></span></dt><dd><p>Return all operational attributes such as <code class="literal">etag</code>
     and <code class="literal">pwdPolicySubentry</code>.</p></dd><dt><span class="term"><code class="literal">@<em class="replaceable"><code>objectclass</code></em></code></span></dt><dd><p>Return all attributes of the specified object class, where
     <em class="replaceable"><code>objectclass</code></em> is one of the object classes
     on the entries returned by the search.</p></dd></dl></div></div><div class="refsect1" title="Exit Codes"><a name="d564e5753"></a><h2>Exit Codes</h2><div class="variablelist"><dl><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">&gt; 0</span></dt><dd><p>An error occurred.</p></dd></dl></div></div><div class="refsect1" title="Examples"><a name="d564e5769"></a><h2>Examples</h2><p>The following example demonstrates use of the command.</p><div class="screen"><pre class="brush: plain;">$ ldifsearch -b dc=example,dc=com /path/to/Example.ldif uid=bjensen
dn: uid=bjensen,ou=People,dc=example,dc=com
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: posixAccount
objectClass: top
uid: bjensen
userpassword: hifalutin
facsimiletelephonenumber: +1 408 555 1992
givenname: Barbara
cn: Barbara Jensen
cn: Babs Jensen
telephonenumber: +1 408 555 1862
sn: Jensen
roomnumber: 0209
homeDirectory: /home/bjensen
mail: bjensen@example.com
l: Cupertino
ou: Product Development
ou: People
uidNumber: 1076
gidNumber: 1000
</pre></div><p>You can also use <code class="literal">@<em class="replaceable"><code>objectclass</code></em></code> notation in the attribute list to return
  the attributes of a particular object class. The following example shows
  how to return attributes of the <code class="literal">posixAccount</code> object
  class.</p><div class="screen"><pre class="brush: plain;">$ ldifsearch --ldifFile /path/to/Example.ldif
 --baseDN dc=example,dc=com "(uid=bjensen)" @posixaccount
dn: uid=bjensen,ou=People,dc=example,dc=com
objectClass: person
objectClass: organizationalPerson
objectClass: inetOrgPerson
objectClass: posixAccount
objectClass: top
uid: bjensen
userpassword: hifalutin
cn: Barbara Jensen
cn: Babs Jensen
homeDirectory: /home/bjensen
uidNumber: 1076
gidNumber: 1000</pre></div></div></div><div lang="en" class="refentry" title="modrate"><div class="refentry.separator"><hr></div><a name="modrate-1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>modrate &#8212; measure modification throughput and response time</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">modrate</code>  {options} [[attribute] |  [:] |  [value format string]...]</p></div></div><div class="refsect1" title="Description"><a name="d564e5823"></a><h2>Description</h2><p>This utility can be used to measure modify throughput and response time
  of a directory service using user-defined modifications.</p></div><div class="refsect1" title="Options"><a name="d564e5828"></a><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl><dt><span class="term"><code class="option">-A, --asynchronous</code></span></dt><dd><p>Use asynchronous mode and don't wait for results before sending the
     next request</p></dd><dt><span class="term"><code class="option">-b, --baseDN {baseDN}</code></span></dt><dd><p>Base DN format string</p></dd><dt><span class="term"><code class="option">-c, --numConnections {numConnections}</code></span></dt><dd><p>Number of connections</p><p>Default value: 1</p></dd><dt><span class="term"><code class="option">-e, --percentile {percentile}</code></span></dt><dd><p>Calculate max response time for a percentile of operations</p></dd><dt><span class="term"><code class="option">-f, --keepConnectionsOpen</code></span></dt><dd><p>Keep connections open</p></dd><dt><span class="term"><code class="option">-F, --noRebind</code></span></dt><dd><p>Keep connections open and don't rebind</p></dd><dt><span class="term"><code class="option">-g, --argument {generator function or static string}</code></span></dt><dd><p>Argument used to evaluate the Java style format strings in program
     parameters (Base DN, Search Filter). The set of all arguments provided
     form the the argument list in order. Besides static string arguments, they
     can be generated per iteration with the following functions:</p><div class="variablelist"><dl><dt><span class="term">"inc({filename})"</span></dt><dd><p>Consecutive, incremental line from file</p></dd><dt><span class="term">"inc({min},{max})"</span></dt><dd><p>Consecutive, incremental number</p></dd><dt><span class="term">"rand({filename})"</span></dt><dd><p>Random line from file</p></dd><dt><span class="term">"rand({min},{max})"</span></dt><dd><p>Random number</p></dd><dt><span class="term">"randstr({length},<em class="replaceable"><code>charSet</code></em>)"</span></dt><dd><p>Random string of specified length and optionally from
      characters in the charSet string. A range of character can be specified
      with [start-end] charSet notation. If no charSet is specified,
      the default charSet of [A-Z][a-z][0-9] will be used.</p></dd></dl></div></dd><dt><span class="term"><code class="option">-i, --statInterval {statInterval}</code></span></dt><dd><p>Display results each specified number of seconds</p><p>Default value: 5</p></dd><dt><span class="term"><code class="option">-m, --maxIterations {maxIterations}</code></span></dt><dd><p>Max iterations, 0 for unlimited</p><p>Default value: 0</p></dd><dt><span class="term"><code class="option">-M, --targetThroughput {targetThroughput}</code></span></dt><dd><p>Target average throughput to achieve</p><p>Default value: 0</p></dd><dt><span class="term"><code class="option">-S, --scriptFriendly</code></span></dt><dd><p>Use script-friendly mode</p></dd><dt><span class="term"><code class="option">-t, --numConcurrentTasks {numConcurrentTasks}</code></span></dt><dd><p>Number of concurrent tasks per connection</p><p>Default value: 1</p></dd></dl></div><div class="refsect2" title="LDAP Connection Options"><a name="d564e5962"></a><h3>LDAP Connection Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-E, --reportAuthzID</code></span></dt><dd><p>Use the authorization identity control</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p> Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server port number</p><p>Default value: 389</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-q, --useStartTLS</code></span></dt><dd><p>Use StartTLS to secure communication with the server</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">--usePasswordPolicyControl</code></span></dt><dd><p>Use the password policy request control</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd><dt><span class="term"><code class="option">-Z, --useSSL</code></span></dt><dd><p>Use SSL for secure communication with the server</p></dd></dl></div></div><div class="refsect2" title="Utility Input/Output Options"><a name="d564e6098"></a><h3>Utility Input/Output Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd><dt><span class="term"><code class="option">-v, --verbose</code></span></dt><dd><p>Use verbose mode</p></dd></dl></div></div><div class="refsect2" title="General Options"><a name="d564e6123"></a><h3>General Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" title="Exit Codes"><a name="d564e6141"></a><h2>Exit Codes</h2><div class="variablelist"><dl><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">89</span></dt><dd><p>An error occurred while parsing the command-line arguments.</p></dd></dl></div></div><div class="refsect1" title="Examples"><a name="d564e6157"></a><h2>Examples</h2><p>The following example demonstrates testing directory performance by
  using the modrate command to write random 16-character description values
  to all entries in a sample file.</p><div class="screen"><pre class="brush: plain;">$ grep ^uid: /path/to/Example.ldif | sed -e "s/uid: //" &gt; names.txt
$ modrate -p 1389 -D "cn=Directory Manager" -w password  -A -F -c 4 -t 4
 -b "uid=%s,ou=people,dc=example,dc=com" -g "rand(names.txt)"
 -g "randstr(16)" 'description:%2$s'
--------------------------------------------------------------------------
     Throughput                            Response Time                  
   (ops/second)                           (milliseconds)                  
recent  average  recent  average  99.9%  99.99%  99.999%  err/sec  req/res
--------------------------------------------------------------------------
1085.9   1088.5  993.849  993.849  2135.220  2510.361  2510.361  0.0  2.3
2086.7   1648.8  1963.980  1683.038  3015.025  3078.628  3215.050  0.0  1.0
3097.3   2092.6  1332.930  1524.278  2940.131  3024.811  3215.050  0.0  1.0
3848.3   2501.4  1045.000  1352.583  2902.235  3015.863  3215.050  0.0  1.0
3641.2   2717.4  1106.157  1290.003  2901.379  3015.597  3215.050  0.0  1.0
3759.4   2883.0  1065.732  1243.534  2900.400  3015.501  3215.050  0.0  1.0
^C</pre></div></div></div><div lang="en" class="refentry" title="searchrate"><div class="refentry.separator"><hr></div><a name="searchrate-1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>searchrate &#8212; measure search throughput and response time</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">searchrate</code>  {options} [filter format string] [attributes...]</p></div></div><div class="refsect1" title="Description"><a name="d564e6196"></a><h2>Description</h2><p>This utility can be used to measure search throughput and response time
  of a directory service using user-defined searches.</p></div><div class="refsect1" title="Options"><a name="d564e6201"></a><h2>Options</h2><p>The following options are supported.</p><div class="variablelist"><dl><dt><span class="term"><code class="option">-a, --dereferencePolicy {dereferencePolicy}</code></span></dt><dd><p>Alias dereference policy ('never', 'always', 'search', or 'find')</p><p>Default value: never</p></dd><dt><span class="term"><code class="option">-A, --asynchronous</code></span></dt><dd><p>Use asynchronous mode and don't wait for results before sending the
     next request</p></dd><dt><span class="term"><code class="option">-b, --baseDN {baseDN}</code></span></dt><dd><p>Base DN format string</p></dd><dt><span class="term"><code class="option">-c, --numConnections {numConnections}</code></span></dt><dd><p>Number of connections</p><p>Default value: 1</p></dd><dt><span class="term"><code class="option">-e, --percentile {percentile}</code></span></dt><dd><p>Calculate max response time for a percentile of operations</p></dd><dt><span class="term"><code class="option">-f, --keepConnectionsOpen</code></span></dt><dd><p>Keep connections open</p></dd><dt><span class="term"><code class="option">-F, --noRebind</code></span></dt><dd><p>Keep connections open and don't rebind</p></dd><dt><span class="term"><code class="option">-g, --argument {generator function or static string}</code></span></dt><dd><p>Argument used to evaluate the Java style format strings in program
     parameters (Base DN, Search Filter). The set of all arguments provided
     form the the argument list in order. Besides static string arguments, they
     can be generated per iteration with the following functions:</p><div class="variablelist"><dl><dt><span class="term">"inc({filename})"</span></dt><dd><p>Consecutive, incremental line from file</p></dd><dt><span class="term">"inc({min},{max})"</span></dt><dd><p>Consecutive, incremental number</p></dd><dt><span class="term">"rand({filename})"</span></dt><dd><p>Random line from file</p></dd><dt><span class="term">"rand({min},{max})"</span></dt><dd><p>Random number</p></dd><dt><span class="term">"randstr({length},<em class="replaceable"><code>charSet</code></em>)"</span></dt><dd><p>Random string of specified length and optionally from
      characters in the charSet string. A range of character can be specified
      with [start-end] charSet notation. If no charSet is specified,
      the default charSet of [A-Z][a-z][0-9] will be used.</p></dd></dl></div></dd><dt><span class="term"><code class="option">-i, --statInterval {statInterval}</code></span></dt><dd><p>Display results each specified number of seconds</p><p>Default value: 5</p></dd><dt><span class="term"><code class="option">-m, --maxIterations {maxIterations}</code></span></dt><dd><p>Max iterations, 0 for unlimited</p><p>Default value: 0</p></dd><dt><span class="term"><code class="option">-M, --targetThroughput {targetThroughput}</code></span></dt><dd><p>Target average throughput to achieve</p><p>Default value: 0</p></dd><dt><span class="term"><code class="option">-s, --searchScope {searchScope}</code></span></dt><dd><p>Search scope ('base', 'one', 'sub', or 'subordinate')</p><p>Default value: sub</p></dd><dt><span class="term"><code class="option">-S, --scriptFriendly</code></span></dt><dd><p>Use script-friendly mode</p></dd><dt><span class="term"><code class="option">-t, --numConcurrentTasks {numConcurrentTasks}</code></span></dt><dd><p>Number of concurrent tasks per connection</p><p>Default value: 1</p></dd></dl></div><div class="refsect2" title="LDAP Connection Options"><a name="d564e6353"></a><h3>LDAP Connection Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">-D, --bindDN {bindDN}</code></span></dt><dd><p>DN to use to bind to the server</p><p>Default value: cn=Directory Manager</p></dd><dt><span class="term"><code class="option">-E, --reportAuthzID</code></span></dt><dd><p>Use the authorization identity control</p></dd><dt><span class="term"><code class="option">-h, --hostname {host}</code></span></dt><dd><p>Directory server hostname or IP address</p><p>Default value: localhost.localdomain</p></dd><dt><span class="term"><code class="option">-j, --bindPasswordFile {bindPasswordFile}</code></span></dt><dd><p>Bind password file</p></dd><dt><span class="term"><code class="option">-K, --keyStorePath {keyStorePath}</code></span></dt><dd><p> Certificate key store path</p></dd><dt><span class="term"><code class="option">-N, --certNickname {nickname}</code></span></dt><dd><p>Nickname of certificate for SSL client authentication</p></dd><dt><span class="term"><code class="option">-o, --saslOption {name=value}</code></span></dt><dd><p>SASL bind options</p></dd><dt><span class="term"><code class="option">-p, --port {port}</code></span></dt><dd><p>Directory server port number</p><p>Default value: 389</p></dd><dt><span class="term"><code class="option">-P, --trustStorePath {trustStorePath}</code></span></dt><dd><p>Certificate trust store path</p></dd><dt><span class="term"><code class="option">-q, --useStartTLS</code></span></dt><dd><p>Use StartTLS to secure communication with the server</p></dd><dt><span class="term"><code class="option">-T, --trustStorePassword {trustStorePassword}</code></span></dt><dd><p>Certificate trust store PIN</p></dd><dt><span class="term"><code class="option">-u, --keyStorePasswordFile {keyStorePasswordFile}</code></span></dt><dd><p>Certificate key store PIN file</p></dd><dt><span class="term"><code class="option">-U, --trustStorePasswordFile {path}</code></span></dt><dd><p>Certificate trust store PIN file</p></dd><dt><span class="term"><code class="option">--usePasswordPolicyControl</code></span></dt><dd><p>Use the password policy request control</p></dd><dt><span class="term"><code class="option">-w, --bindPassword {bindPassword}</code></span></dt><dd><p>Password to use to bind to the server</p></dd><dt><span class="term"><code class="option">-W, --keyStorePassword {keyStorePassword}</code></span></dt><dd><p>Certificate key store PIN</p></dd><dt><span class="term"><code class="option">-X, --trustAll</code></span></dt><dd><p>Trust all server SSL certificates</p></dd><dt><span class="term"><code class="option">-Z, --useSSL</code></span></dt><dd><p>Use SSL for secure communication with the server</p></dd></dl></div></div><div class="refsect2" title="Utility Input/Output Options"><a name="d564e6489"></a><h3>Utility Input/Output Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">--noPropertiesFile</code></span></dt><dd><p>No properties file will be used to get default command line
      argument values</p></dd><dt><span class="term"><code class="option">--propertiesFilePath {propertiesFilePath}</code></span></dt><dd><p>Path to the file containing default property values used for
      command line arguments</p></dd><dt><span class="term"><code class="option">-v, --verbose</code></span></dt><dd><p>Use verbose mode</p></dd></dl></div></div><div class="refsect2" title="General Options"><a name="d564e6514"></a><h3>General Options</h3><div class="variablelist"><dl><dt><span class="term"><code class="option">-V, --version</code></span></dt><dd><p>Display version information</p></dd><dt><span class="term"><code class="option">-?, -H, --help</code></span></dt><dd><p>Display usage information</p></dd></dl></div></div></div><div class="refsect1" title="Exit Codes"><a name="d564e6532"></a><h2>Exit Codes</h2><div class="variablelist"><dl><dt><span class="term">0</span></dt><dd><p>The command completed successfully.</p></dd><dt><span class="term">89</span></dt><dd><p>An error occurred while parsing the command-line arguments.</p></dd></dl></div></div><div class="refsect1" title="Examples"><a name="d564e6548"></a><h2>Examples</h2><p>The following example demonstrates measuring search performance.</p><div class="screen"><pre class="brush: plain;">$ grep ^uid: /path/to/Example.ldif | sed -e "s/uid: //" &gt; names.txt
$ searchrate -p 1389 -b dc=example,dc=com -A -F -c 4 -t 4
 -g "rand(names.txt)" "(uid=%s)"
-------------------------------------------------------------------------------
     Throughput                            Response Time                       
   (ops/second)                           (milliseconds)                       
recent  average  recent  average  99.9%  99.99%  99.999%  err/sec  Entries/Srch
-------------------------------------------------------------------------------
1475.9   1475.9   0.423    0.423  6.938  126.236 126.236      0.0           1.0
2596.5   2038.4   0.254    0.315  6.866  12.980  126.236      0.0           1.0
3210.7   2428.2   0.205    0.267  5.733  11.710  126.236      0.0           1.0
3080.5   2591.0   0.215    0.252  5.733  10.541  126.236      0.0           1.0
3236.9   2720.1   0.203    0.240  5.258  10.514  126.236      0.0           1.0
3181.1   2796.8   0.207    0.234  5.258  10.384  126.236      0.0           1.0
3202.5   2854.8   0.206    0.229  4.825  10.384  126.236      0.0           1.0
^C</pre></div></div></div></div><div lang="en" class="glossary" title="OpenDJ Glossary"><div class="titlepage"><div><div><h2 class="title"><a name="glossary"></a>OpenDJ Glossary</h2></div></div></div><dl><dt>Abandon operation</dt><dd><p>LDAP operation to stop processing of a request in progress, after
   which the directory server drops the connection without a reply to the
   client application.</p></dd><dt>Access control</dt><dd><p>Control to grant or to deny access to a resource.</p></dd><dt><a name="access-control-instruction"></a>Access control instruction (ACI)</dt><dd><p>Instruction added as a directory entry attribute for fine-grained
   control over what a given user or group member is authorized to do in terms
   of LDAP operations and access to user data.</p><p>ACIs are implemented independently from privileges, which apply to
   administrative operations.</p><p>See Also <a class="glossseealso" href="#privilege">Privilege</a>.</p></dd><dt>Access control list (ACL)</dt><dd><p>An access control list connects a user or group of users to one or
   more security entitlements. For example, users in group "sales" are granted
   the entitlement "read-only" to some financial data.</p></dd><dt><code class="filename">access</code> log</dt><dd><p>Directory server log tracing the operations the server processes
   including timestamps, connection information, and information about the
   operation itself.</p></dd><dt>Account lockout</dt><dd><p>The act of making an account temporarily or permanently inactive
   after successive authentication failures.</p></dd><dt>Active user</dt><dd><p>A user that has the ability to authenticate and use the services,
   having valid credentials.</p></dd><dt>Add operation</dt><dd><p>LDAP operation to add a new entry or entries to the directory.</p></dd><dt>Anonymous</dt><dd><p>A user that does not need to authenticate, and is unknown to the
   system.</p></dd><dt>Anonymous bind</dt><dd><p>A bind operation using simple authentication with an empty DN and an
   empty password, allowing "anonymous" access such as reading public
   information.</p></dd><dt><a name="approximate-index"></a>Approximate index</dt><dd><p>Index is used to match values that "sound like" those provided in the
   filter.</p></dd><dt>Attribute</dt><dd><p>Properties of a directory entry, stored as one or more key-value pairs.
   Typical examples include the common name (<code class="literal">cn</code>) to store
   the user's full name and variations of the name, user ID
   (<code class="literal">uid</code>) to store a unique identifier for the entry, and
   <code class="literal">mail</code> to store email addresses.</p></dd><dt><code class="filename">audit</code> log</dt><dd><p>Type of access log that dumps changes in LDIF.</p></dd><dt>Authentication</dt><dd><p>The process of verifying who is requesting access to a resource; the
   act of confirming the identity of a principal.</p></dd><dt>Authorization</dt><dd><p>The process of determining whether access should be granted to an
   individual based on information about that individual; the act of
   determining whether to grant or to deny a principal access to a
   resource.</p></dd><dt>Backend</dt><dd><p>Repository that a directory server can access to store data. Different
   implementations with different capabilities exist.</p></dd><dt>Binary copy</dt><dd><p>Binary backup archive of one directory server that can be restored on
   another directory server.</p></dd><dt>Bind operation</dt><dd><p>LDAP authentication operation to determine the client's identity in
   LDAP terms, the identity which is later used by the server to authorize (or
   not) access to directory data that the client wants to lookup or
   change.</p></dd><dt>Collective attribute</dt><dd><p>A standard mechanism for defining attributes that appear on all the
   entries in a particular subtree.</p></dd><dt>Compare operation</dt><dd><p>LDAP operation to compare a specified attribute value with the value
   stored on an entry in the directory.</p></dd><dt>Control</dt><dd><p>Information added to an LDAP message to further specify how an LDAP
   operation should be processed. OpenDJ supports many LDAP controls.</p></dd><dt>Database cache</dt><dd><p>Memory space set aside to hold database content.</p></dd><dt><code class="filename">debug</code> log</dt><dd><p>Directory server log tracing details needed to troubleshoot a problem
   in the server.</p></dd><dt>Delete operation</dt><dd><p>LDAP operation to remove an existing entry or entries from the
   directory.</p></dd><dt><a name="directory"></a>Directory</dt><dd><p>A directory is a network service which lists participants in the
   network such as users, computers, printers, and groups. The directory
   provides a convenient, centralized, and robust mechanism for publishing and
   consuming information about network participants.</p></dd><dt>Directory hierarchy</dt><dd><p>A directory can be organized into a hierarchy in order to make it
   easier to browse or manage. Directory hierarchies normally represent
   something in the physical world, such as organizational hierarchies or
   physical locations. For example, the top level of a directory may represent
   a company, the next level down divisions, the next level down departments,
   and so on. Alternately, the top level may represent the world, the next
   level down countries, next states or provinces, next cities, and so
   on.</p></dd><dt><a name="directory-manager"></a>Directory manager</dt><dd><p>Default Root DN who has privileges to do full administration of the
   OpenDJ server, including bypassing access control evaluation, changing
   access controls, and changing administrative privileges.</p><p>See Also <a class="glossseealso" href="#root-dn">Root DN</a>.</p></dd><dt>Directory object</dt><dd><p>A directory object is an item in a directory. Example objects include
   users, user groups, computers and more. Objects may be organized into a
   hierarchy and contain identifying attributes.</p><p>See Also <a class="glossseealso" href="#entry">Entry</a>.</p></dd><dt>Directory server</dt><dd><p>Server application for centralizing information about network participants.
   A highly available directory service consists of multiple directory servers
   configured to replicate directory data.</p><p>See Also <a class="glossseealso" href="#directory">Directory</a>, <a class="glossseealso" href="#replication">Replication</a>.</p></dd><dt>Directory Services Markup Language (DSML)</dt><dd><p>Standard language to access directory services using XML. DMSL v1
   defined an XML mapping of LDAP objects, while DSMLv2 maps the LDAP Protocol
   and data model to XML.</p></dd><dt>Distinguished name (DN)</dt><dd><p>Fully qualified name for a directory entry, such as
   <code class="literal">uid=bjensen,ou=People,dc=example,dc=com</code>, built by
   concatenating the entry RDN (<code class="literal">uid=bjensen</code>) with the DN of
   the parent entry (<code class="literal">ou=People,dc=example,dc=com</code>).</p></dd><dt>Dynamic group</dt><dd><p>Group that specifies members using LDAP URLs.</p></dd><dt><a name="entry"></a>Entry</dt><dd><p>As generic and hierarchical data stores, directories always contain
   different kinds of entries, either nodes (or containers) or leaf entries. An
   entry is an object in the directory, defined by one of more object classes
   and their related attributes. At startup, OpenDJ reports the number of entries
   contained in each suffix.</p></dd><dt>Entry cache</dt><dd><p>Memory space set aside to hold frequently-accessed, large entries,
   such as static groups.</p></dd><dt><a name="equality-index"></a>Equality index</dt><dd><p>Index used to match values that correspond exactly (though generally
   without case sensitivity) to the value provided in the search filter.</p></dd><dt><code class="filename">errors</code> log</dt><dd><p>Directory server log tracing server events, error conditions, and
   warnings, categorized and identified by severity.</p></dd><dt>Export</dt><dd><p>Save directory data in an LDIF file.</p></dd><dt>Extended operation</dt><dd><p>Additional LDAP operation not included in the original standards.
   OpenDJ supports several standard LDAP extended operations.</p></dd><dt><a name="extensible-match-index"></a>Extensible match index</dt><dd><p>Index for a matching rule other than approximate, equality, ordering,
   presence, substring or VLV, such as an index for generalized time.</p></dd><dt>External user</dt><dd><p>An individual that accesses company resources or services but is not
   working for the company. Typically a customer or partner.</p></dd><dt><a name="filter"></a>Filter</dt><dd><p>An LDAP search filter is an expression that the server uses to find
   entries that match a search request, such as
   <code class="literal">(mail=*@example.com)</code> to match all entries having an
   email address in the example.com domain.</p></dd><dt>Group</dt><dd><p>Entry identifying a set of members whose entries are also in the
   directory.</p></dd><dt>Idle time limit</dt><dd><p>Defines how long OpenDJ allows idle connections to remain open.</p></dd><dt>Import</dt><dd><p>Read in and index directory data from an LDIF file.</p></dd><dt>Inactive user</dt><dd><p>An entry in the directory that once represented a user but which is
   now no longer able to be authenticated.</p></dd><dt>Index</dt><dd><p>Directory server backend feature to allow quick lookup of entries
   based on their attribute values.</p><p>See Also <a class="glossseealso" href="#approximate-index">Approximate index</a>, <a class="glossseealso" href="#equality-index">Equality index</a>, <a class="glossseealso" href="#extensible-match-index">Extensible match index</a>, <a class="glossseealso" href="#ordering-index">Ordering index</a>, <a class="glossseealso" href="#presence-index">Presence index</a>, <a class="glossseealso" href="#substring-index">Substring index</a>, <a class="glossseealso" href="#vlv-index">Virtual list view (VLV) index</a>, <a class="glossseealso" href="#index-entry-limit">Index entry limit</a>.</p></dd><dt><a name="index-entry-limit"></a>Index entry limit</dt><dd><p>When the number of entries that an index key points to exceeds the
   index entry limit, OpenDJ stops maintaining the list of entries for that
   index key.</p></dd><dt>Internal user</dt><dd><p>An individual who works within the company either as an employee or as
   a contractor.</p></dd><dt>LDAP Data Interchange Format (LDIF)</dt><dd><p>Standard, portable, text-based representation of directory content.
   See <a class="link" href="http://tools.ietf.org/html/rfc2849" target="_blank">RFC 2849</a>.</p></dd><dt>LDAP URL</dt><dd><p>LDAP Uniform Resource Locator such as <code class="literal">ldap://directory.example.com:389/dc=example,dc=com??sub?(uid=bjensen)</code>.
   See <a class="link" href="http://tools.ietf.org/html/rfc2255" target="_blank">RFC 2255</a>.</p></dd><dt>LDAPS</dt><dd><p>LDAP over SSL.</p></dd><dt>Lightweight Directory Access Protocol (LDAP)</dt><dd><p>A simple and standardized network protocol used by applications to
   connect to a directory, search for objects and add, edit or remove
   objects. See <a class="link" href="http://tools.ietf.org/html/rfc4510" target="_blank">RFC 4510</a>.</p></dd><dt>Lookthrough limit</dt><dd><p>Defines the maximum number of candidate entries OpenDJ considers when
   processing a search.</p></dd><dt>Matching rule</dt><dd><p>Defines rules for performing matching operations against assertion
   values. Matching rules are frequently associated with an attribute syntax
   and are used to compare values according to that syntax. For example, the
   <code class="literal">distinguishedNameEqualityMatch</code> matching rule can be used
   to determine whether two DNs are equal and can ignore unnecessary spaces
   around commas and equal signs, differences in capitalization in attribute
   names, and so on.</p></dd><dt>Modify DN operation</dt><dd><p>LDAP modification operation to request that the server change the
   distinguished name of an entry.</p></dd><dt>Modify operation</dt><dd><p>LDAP modification operation to request that the server change one or
   more attributes of an entry.</p></dd><dt>Naming context</dt><dd><p>Base DN under which client applications can look for user data.</p></dd><dt>Object class</dt><dd><p>Identifies entries that share certain characteristics. Most commonly,
   an entry's object classes define the attributes that must and may be present
   on the entry. Object classes are stored on entries as values of the
   <code class="literal">objectClass</code> attribute. Object classes are defined in the
   directory schema, and can be abstract (defining characteristics for other
   object classes to inherit), structural (defining the basic structure of an
   entry, one structural inheritance per entry), or auxiliary (for decorating
   entries already having a structural object class with other required and
   optional attributes).</p></dd><dt>Object identifier (OID)</dt><dd><p>String that uniquely identifies an object, such as
   <code class="literal">0.9.2342.19200300.100.1.1</code> for the user ID attribute or
   <code class="literal">1.3.6.1.4.1.1466.115.121.1.15</code> for
   <code class="literal">DirectoryString</code> syntax. </p></dd><dt>Operational attribute</dt><dd><p>An attribute that has a special (operational) meaning for the
   directory server, such as <code class="literal">pwdPolicySubentry</code> or
   <code class="literal">modifyTimestamp</code>.</p></dd><dt><a name="ordering-index"></a>Ordering index</dt><dd><p>Index used to match values for a filter that specifies a range.</p></dd><dt>Password policy</dt><dd><p>A set of rules regarding what sequence of characters constitutes an 
   acceptable password. Acceptable passwords are generally those that would be
   too difficult for another user or an automated program to guess and thereby
   defeat the password mechanism. Password policies may require a minimum
   length, a mixture of different types of characters (lowercase, uppercase,
   digits, punctuation marks, and so forth), avoiding dictionary words or
   passwords based on the user's name, and so forth. Password policies may
   also require that users not reuse old passwords and that users change their
   passwords regularly.</p></dd><dt>Password reset</dt><dd><p>Password change performed by a user other than the user who owns the
   entry.</p></dd><dt>Password storage scheme</dt><dd><p>Mechanism for encoding user passwords stored on directory entries.
   OpenDJ implements a number of password storage schemes.</p></dd><dt>Password validator</dt><dd><p>Mechanism for determining whether a proposed password is acceptable
   for use. OpenDJ implements a number of password validators.</p></dd><dt><a name="presence-index"></a>Presence index</dt><dd><p>Index used to match the fact that an attribute is present on the entry,
   regardless of the value.</p></dd><dt>Principal</dt><dd><p>Entity that can be authenticated, such as a user, a device, or an
   application.</p></dd><dt><a name="privilege"></a>Privilege</dt><dd><p>Server configuration settings controlling access to administrative
   operations such as exporting and importing data, restarting the server,
   performing password reset, and changing the server configuration.</p><p>Privileges are implemented independently from access control
   instructions (ACI), which apply to LDAP operations and user data.</p><p>See Also <a class="glossseealso" href="#access-control-instruction">Access control instruction (ACI)</a>.</p></dd><dt>Referential integrity</dt><dd><p>Ensuring that group membership remains consistent following changes
   to member entries.</p></dd><dt><code class="filename">referint</code> log</dt><dd><p>Directory server log tracing referential integrity events, with
   entries similar to the errors log.</p></dd><dt>Referral</dt><dd><p>Reference to another directory location, which can be another
   directory server running elsewhere or another container on the same server,
   where the current operation can be processed.</p></dd><dt>Relative distinguished name (RDN)</dt><dd><p>Initial portion of a DN that distinguishes the entry from all other
   entries at the same level, such as <code class="literal">uid=bjensen</code> in
   <code class="literal">uid=bjensen,ou=People,dc=example,dc=com</code>.</p></dd><dt><a name="replication"></a>Replication</dt><dd><p>Data synchronization that ensures all directory servers participating
   eventually share a consistent set of directory data.</p></dd><dt><code class="filename">replication</code> log</dt><dd><p>Directory server log tracing replication events, with entries similar
   to the errors log.</p></dd><dt><a name="root-dn"></a>Root DN</dt><dd><p>A directory superuser, whose account is specific to a directory server
   under <code class="literal">cn=Root DNs,cn=config</code>.</p><p>The default Root DN is Directory Manager. You can create additional
   Root DN accounts, each with different administrative privileges.</p><p>See Also <a class="glossseealso" href="#directory-manager">Directory manager</a>, <a class="glossseealso" href="#privilege">Privilege</a>.</p></dd><dt>Root DSE</dt><dd><p>The directory entry with distinguished name "" (empty string), where
   DSE stands for DSA-Specific Entry. DSA stands for Directory Server Agent,
   a single directory server. The root DSE serves to expose information over
   LDAP about what the directory server supports in terms of LDAP controls,
   auth password schemes, SASL mechanisms, LDAP protocol versions, naming
   contexts, features, LDAP extended operations, and so forth.</p></dd><dt>Schema</dt><dd><p>LDAP schema defines the object classes, attributes types, attribute
   value syntaxes, matching rules and so on that constrain entries held by the
   directory server.</p></dd><dt>Search filter</dt><dd><p>See <a class="xref" href="#filter" title="Filter">Filter</a>.</p></dd><dt>Search operation</dt><dd><p>LDAP lookup operation where a client requests that the server return
   entries based on an LDAP filter and a base DN under which to search.</p></dd><dt>Simple authentication</dt><dd><p>Bind operation performed with a user's entry DN and user's password.
   Use simple authentication only if the network connection is secure.</p></dd><dt>Size limit</dt><dd><p>Sets the maximum number of entries returned for a search.</p></dd><dt>Static group</dt><dd><p>Group that enumerates member entries.</p></dd><dt>Subentry</dt><dd><p>An entry, such as a password policy entry, that resides with the user
   data but holds operational data, and is not visible in search results unless
   explicitly requested.</p></dd><dt><a name="substring-index"></a>Substring index</dt><dd><p>Index used to match values specified with wildcards in the filter.</p></dd><dt>Task</dt><dd><p>Mechanism to provide remote access to directory server administrative
   functions. OpenDJ supports tasks to backup and restore backends, to import
   and export LDIF files, and to stop and restart the server. </p></dd><dt>Time limit</dt><dd><p>Defines the maximum processing time OpenDJ devotes to a search
   operation.</p></dd><dt>Unbind operation</dt><dd><p>LDAP operation to release resources at the end of a session.</p></dd><dt>Unindexed search</dt><dd><p>Search operation for which no matching index is available. If no
   indexes are applicable, then the directory server potentially has to go
   through all entries to look for candidate matches. For this reason, the
   <code class="literal">unindexed-search</code> privilege, allowing users to request
   searches for which no applicable index exists, is reserved for the directory
   manager by default.</p></dd><dt>User</dt><dd><p>An entry that represents an individual that can be authenticated
   through credentials contained or referenced by its attributes. A user may
   represent an internal user or an external user, and may be an active user
   or an inactive user.</p></dd><dt>User attribute</dt><dd><p>An attribute for storing user data on a directory entry such as
   <code class="literal">mail</code> or <code class="literal">givenname</code>.</p></dd><dt>Virtual attribute</dt><dd><p>An attribute with dynamically generated values that appear in entries
   but are not persistently stored in the backend.</p></dd><dt>Virtual directory</dt><dd><p>An application that exposes a consolidated view of multiple physical
   directories over an LDAP interface. Consumers of the directory information
   connect to the virtual directory's LDAP service. Behind the scenes, requests
   for information and updates to the directory are sent to one or more physical
   directories where the actual information resides. Virtual directories enable
   organizations to create a consolidated view of information that for legal or
   technical reasons cannot be consolidated into a single physical copy.</p></dd><dt><a name="vlv-index"></a>Virtual list view (VLV) index</dt><dd><p>Browsing index designed to help the directory server respond to client
   applications that need for example to browse through a long list of results
   a page at a time in a GUI.</p></dd><dt>Virtual static group</dt><dd><p>OpenDJ group that lets applications see dynamic groups as what appear
   to be static groups.</p></dd><dt>X.500</dt><dd><p>A family of standardized protocols for accessing, browsing and
   maintaining a directory. X.500 is functionally similar to LDAP, but is
   generally considered to be more complex, and has consequently not been
   widely adopted.</p></dd></dl></div><div class="index" title="Index"><div class="titlepage"><div><div><h2 class="title"><a name="d564e7237"></a>Index</h2></div></div></div><div class="index"><div class="indexdiv"><h3>A</h3><dl><dt>Adds, <a class="indexterm" href="#ldap-client-server-communication">LDAP Client &amp; Server Communication</a>, <a class="indexterm" href="#about-writes">About Add, Modify, Rename, &amp; Delete</a>, <a class="indexterm" href="#adding-entries">Adding Directory Entries</a></dt><dt>Assertions, <a class="indexterm" href="#trust-result-codes">Trust Result Codes</a>, <a class="indexterm" href="#use-assertion-request-control">Assertion Request Control</a>, <a class="indexterm" href="#use-pre-read-control">Pre-Read Controls</a></dt><dt>Attributes, <a class="indexterm" href="#directory-data">Data In LDAP Directories</a>, <a class="indexterm" href="#storing-large-attributes">Store Large Attribute Values By Reference</a>, <a class="indexterm" href="#handle-entry-attributes">Working With Entry Attributes</a></dt><dd><dl><dt>Rewriting, <a class="indexterm" href="#dn-attr-rewriting">DN &amp; Attribute Rewriting</a></dt></dl></dd><dt>Authentications, <a class="indexterm" href="#ldap-client-server-communication">LDAP Client &amp; Server Communication</a>, <a class="indexterm" href="#authenticate-correctly">Authenticate Correctly</a></dt><dd><dl><dt>SASL, <a class="indexterm" href="#sasl-auth">SASL Authentication</a></dt><dt>Simple, <a class="indexterm" href="#simple-auth">Simple Authentication</a></dt><dt>StartTLS, SSL, <a class="indexterm" href="#simple-auth-with-starttls-or-ssl">Start TLS &amp; SSL Authentication</a></dt></dl></dd><dt>Authorizations, <a class="indexterm" href="#authenticate-correctly">Authenticate Correctly</a>, <a class="indexterm" href="#about-writes">About Add, Modify, Rename, &amp; Delete</a>, <a class="indexterm" href="#use-authorization-identity-control">Authorization Identity Controls</a>, <a class="indexterm" href="#use-get-effective-rights-control">GetEffectiveRights Request Control</a>, <a class="indexterm" href="#use-proxy-authz-control">Proxied Authorization Request Controls</a>, <a class="indexterm" href="#use-who-am-i-extended-operation">Who am I? Extended Operation</a></dt></dl></div><div class="indexdiv"><h3>B</h3><dl><dt>Browsing, <a class="indexterm" href="#use-server-side-sort-control">Server-Side Sort Controls</a>, <a class="indexterm" href="#use-simple-paged-results-control">Simple Paged Results Control</a>, <a class="indexterm" href="#use-vlv-control">Virtual List View Controls</a></dt></dl></div><div class="indexdiv"><h3>C</h3><dl><dt>Change notification, <a class="indexterm" href="#use-entry-change-notification-control">Entry Change Notification Response Controls</a>, <a class="indexterm" href="#use-persistent-search-request-control">Persistent Search Request Control</a></dt><dt>Comparisons, <a class="indexterm" href="#ldap-client-server-communication">LDAP Client &amp; Server Communication</a>, <a class="indexterm" href="#about-comparisons">About Comparing</a></dt><dt>Connections</dt><dd><dl><dt>Asynchronous, <a class="indexterm" href="#sync-vs-async">Synchronous &amp; Asynchronous Operations</a>, <a class="indexterm" href="#chap-simple-proxy">Writing a Simple LDAP Proxy</a></dt><dt>Health check, <a class="indexterm" href="#health-check-connections">Health Check Connections</a></dt><dt>Listening for, <a class="indexterm" href="#handling-client-connections">Listening For &amp; Handling Client Connections</a></dt><dt>Load balancing, <a class="indexterm" href="#load-balancing-and-failover">Load Balancing &amp; Failover</a></dt><dt>Pooling, <a class="indexterm" href="#reuse-connections">Reuse Connections</a>, <a class="indexterm" href="#connection-pooling">Connection Pooling</a></dt><dt>Synchronous, <a class="indexterm" href="#sync-vs-async">Synchronous &amp; Asynchronous Operations</a>, <a class="indexterm" href="#send-search-request">Sending a Search Request</a></dt></dl></dd><dt>Controls, <a class="indexterm" href="#chap-controls">Working With Controls</a></dt><dd><dl><dt>About, <a class="indexterm" href="#standard-ldapv3-extensions">Standard LDAPv3 &amp; Extensions</a></dt><dt>Assertion, <a class="indexterm" href="#use-assertion-request-control">Assertion Request Control</a></dt><dt>Authorization ID, <a class="indexterm" href="#use-authorization-identity-control">Authorization Identity Controls</a></dt><dt>Entry change notification, <a class="indexterm" href="#use-entry-change-notification-control">Entry Change Notification Response Controls</a></dt><dt>Generic, <a class="indexterm" href="#use-generic-control">Using a Generic Control</a></dt><dt>GetEffectiveRights, <a class="indexterm" href="#use-get-effective-rights-control">GetEffectiveRights Request Control</a></dt><dt>ManageDsaIT, <a class="indexterm" href="#use-managedsait-control">ManageDsaIT Request Control</a></dt><dt>Matched values, <a class="indexterm" href="#use-matched-values-request-control">Matched Values Request Control</a></dt><dt>Password expired, <a class="indexterm" href="#use-password-expired-control">Password Expired Response Control</a></dt><dt>Password expiring, <a class="indexterm" href="#use-password-expiring-control">Password Expiring Response Control</a></dt><dt>Password policy, <a class="indexterm" href="#use-password-policy-controls">Password Policy Controls</a></dt><dt>Permissive modify, <a class="indexterm" href="#use-permissive-modify-request-control">Permissive Modify Request Control</a></dt><dt>Persistent search, <a class="indexterm" href="#careful-with-persistent-search-and-server-side-sorting">Take Care With Persistent Search &amp; Server-Side Sorting</a>, <a class="indexterm" href="#use-persistent-search-request-control">Persistent Search Request Control</a></dt><dt>Post-read, <a class="indexterm" href="#use-post-read-control">Post-Read Controls</a></dt><dt>Pre-read, <a class="indexterm" href="#use-pre-read-control">Pre-Read Controls</a></dt><dt>Proxied authorization, <a class="indexterm" href="#use-proxy-authz-control">Proxied Authorization Request Controls</a></dt><dt>Server-side sort, <a class="indexterm" href="#use-server-side-sort-control">Server-Side Sort Controls</a></dt><dt>Simple paged results, <a class="indexterm" href="#use-simple-paged-results-control">Simple Paged Results Control</a></dt><dt>Subentries, <a class="indexterm" href="#use-subentry-request-control">Subentries Request Control</a></dt><dt>Subtree delete, <a class="indexterm" href="#use-subtree-delete-control">Subtree Delete Request Control</a></dt><dt>Supported, <a class="indexterm" href="#get-supported-controls">Determining Supported Controls</a></dt><dt>Virtual list view, <a class="indexterm" href="#use-vlv-control">Virtual List View Controls</a></dt></dl></dd></dl></div><div class="indexdiv"><h3>D</h3><dl><dt>Deletes, <a class="indexterm" href="#ldap-client-server-communication">LDAP Client &amp; Server Communication</a>, <a class="indexterm" href="#about-writes">About Add, Modify, Rename, &amp; Delete</a>, <a class="indexterm" href="#deleting-entries">Deleting Directory Entries</a></dt><dd><dl><dt>Subtree delete, <a class="indexterm" href="#use-subtree-delete-control">Subtree Delete Request Control</a></dt></dl></dd></dl></div><div class="indexdiv"><h3>E</h3><dl><dt>Errors, <a class="indexterm" href="#error-handling">Managing Errors</a></dt><dd><dl><dt>Result codes, <a class="indexterm" href="#trust-result-codes">Trust Result Codes</a>, <a class="indexterm" href="#check-result-codes">Troubleshooting: Check Result Codes</a></dt></dl></dd><dt>Examples</dt><dd><dl><dt>Data, <a class="indexterm" href="#prepare-ldap-server">Preparing an LDAP Server</a></dt><dt>Java, <a class="indexterm" href="#opendj-ldap-sdk-examples">Accessing Example Java Code</a></dt></dl></dd><dt>Extended operations, <a class="indexterm" href="#chap-extended-ops">Working With Extended Operations</a></dt><dd><dl><dt>About, <a class="indexterm" href="#standard-ldapv3-extensions">Standard LDAPv3 &amp; Extensions</a></dt><dt>Cancel, <a class="indexterm" href="#use-cancel-extended-operation">Cancel Extended Operation</a></dt><dt>Password modify, <a class="indexterm" href="#use-password-modify-extended-operation">Password Modify Extended Operation</a></dt><dt>StartTLS, <a class="indexterm" href="#simple-auth-with-starttls-or-ssl">Start TLS &amp; SSL Authentication</a></dt><dt>Supported, <a class="indexterm" href="#get-supported-extended-operations">Determining Supported Extended Operations</a></dt><dt>Who am I?, <a class="indexterm" href="#use-who-am-i-extended-operation">Who am I? Extended Operation</a></dt></dl></dd></dl></div><div class="indexdiv"><h3>F</h3><dl><dt>Filters, <a class="indexterm" href="#use-specific-filters">Use Specific LDAP Filters</a>, <a class="indexterm" href="#about-filters">Working With Search Filters</a></dt></dl></div><div class="indexdiv"><h3>G</h3><dl><dt>Groups, <a class="indexterm" href="#ismemberof-for-membership">Check Group Membership on the Account, Not the Group</a>, <a class="indexterm" href="#use-matched-values-request-control">Matched Values Request Control</a></dt></dl></div><div class="indexdiv"><h3>I</h3><dl><dt>Installing</dt><dd><dl><dt>Build your own, <a class="indexterm" href="#getting-the-ldap-sdk">Getting the LDAP SDK</a></dt><dt>From download, <a class="indexterm" href="#getting-the-ldap-sdk">Getting the LDAP SDK</a></dt><dt>With Maven, <a class="indexterm" href="#getting-the-ldap-sdk">Getting the LDAP SDK</a></dt></dl></dd><dt>Internationalization, <a class="indexterm" href="#chap-i18n">Internationalizing Applications</a></dt></dl></div><div class="indexdiv"><h3>L</h3><dl><dt>LDAP</dt><dd><dl><dt>About, <a class="indexterm" href="#chap-understanding-ldap">Understanding LDAP</a>, <a class="indexterm" href="#about-opendj-ldap-sdk">About OpenDJ LDAP SDK</a></dt><dt>Checking supported features, <a class="indexterm" href="#ask-directory-what-it-supports">Ask the Directory Server What It Supports</a>, <a class="indexterm" href="#read-root-dse">Reading Root DSEs</a>, <a class="indexterm" href="#get-supported-controls">Determining Supported Controls</a>, <a class="indexterm" href="#get-supported-extended-operations">Determining Supported Extended Operations</a></dt><dt>Connected protocol, <a class="indexterm" href="#ldap-client-server-communication">LDAP Client &amp; Server Communication</a></dt><dt>Controls, <a class="indexterm" href="#chap-controls">Working With Controls</a></dt><dt>Data, <a class="indexterm" href="#directory-data">Data In LDAP Directories</a>, <a class="indexterm" href="#prepare-ldap-server">Preparing an LDAP Server</a></dt><dt>Extended operations, <a class="indexterm" href="#chap-extended-ops">Working With Extended Operations</a></dt><dt>Password policy, <a class="indexterm" href="#use-password-expired-control">Password Expired Response Control</a>, <a class="indexterm" href="#use-password-expiring-control">Password Expiring Response Control</a>, <a class="indexterm" href="#use-password-policy-controls">Password Policy Controls</a></dt><dt>Proxy, <a class="indexterm" href="#chap-simple-proxy">Writing a Simple LDAP Proxy</a></dt><dt>Root DSE, <a class="indexterm" href="#read-root-dse">Reading Root DSEs</a></dt><dt>Schema, <a class="indexterm" href="#reuse-schemas">Reuse Schemas Where Possible</a>, <a class="indexterm" href="#get-schema-information">Getting Schema Information</a></dt><dt>Subentries, <a class="indexterm" href="#use-subentry-request-control">Subentries Request Control</a></dt><dt>URLs, <a class="indexterm" href="#handle-ldap-urls">Working With LDAP URLs</a></dt></dl></dd><dt>LDIF, <a class="indexterm" href="#about-ldif">About LDIF</a></dt><dd><dl><dt>Reading, <a class="indexterm" href="#reading-ldif">Reading LDIF</a></dt><dt>Writing, <a class="indexterm" href="#writing-ldif">Writing LDIF</a></dt></dl></dd></dl></div><div class="indexdiv"><h3>M</h3><dl><dt>Modifications, <a class="indexterm" href="#ldap-client-server-communication">LDAP Client &amp; Server Communication</a>, <a class="indexterm" href="#make-modifications-specific">Make Modifications Specific</a>, <a class="indexterm" href="#about-writes">About Add, Modify, Rename, &amp; Delete</a>, <a class="indexterm" href="#modifying-attr-values">Modifying Directory Entry Attribute Values</a></dt><dd><dl><dt>Password modify, <a class="indexterm" href="#use-password-modify-extended-operation">Password Modify Extended Operation</a></dt><dt>Permissive modify, <a class="indexterm" href="#use-permissive-modify-request-control">Permissive Modify Request Control</a></dt><dt>Static groups, <a class="indexterm" href="#updating-static-groups">Updating Static Groups</a></dt></dl></dd></dl></div><div class="indexdiv"><h3>R</h3><dl><dt>Referrals, <a class="indexterm" href="#handle-referrals">Handle Referrals</a>, <a class="indexterm" href="#handle-ldap-urls">Working With LDAP URLs</a>, <a class="indexterm" href="#use-managedsait-control">ManageDsaIT Request Control</a></dt><dt>Renames, <a class="indexterm" href="#ldap-client-server-communication">LDAP Client &amp; Server Communication</a>, <a class="indexterm" href="#about-writes">About Add, Modify, Rename, &amp; Delete</a>, <a class="indexterm" href="#renaming-entries">Renaming Directory Entries</a></dt></dl></div><div class="indexdiv"><h3>S</h3><dl><dt>Searches, <a class="indexterm" href="#ldap-client-server-communication">LDAP Client &amp; Server Communication</a>, <a class="indexterm" href="#about-searching">About Searching</a>, <a class="indexterm" href="#send-search-request">Sending a Search Request</a></dt><dd><dl><dt>Base, <a class="indexterm" href="#basedn-and-scope">Setting Search Base &amp; Scope</a></dt><dt>Cancel, <a class="indexterm" href="#use-cancel-extended-operation">Cancel Extended Operation</a></dt><dt>Entry change notification, <a class="indexterm" href="#use-entry-change-notification-control">Entry Change Notification Response Controls</a></dt><dt>Filters, <a class="indexterm" href="#about-filters">Working With Search Filters</a></dt><dt>Handling results, <a class="indexterm" href="#handle-referrals">Handle Referrals</a>, <a class="indexterm" href="#get-search-results">Getting Search Results</a>, <a class="indexterm" href="#sort-search-results">Sorting Search Results</a>, <a class="indexterm" href="#use-post-read-control">Post-Read Controls</a></dt><dt>Persistent search, <a class="indexterm" href="#use-persistent-search-request-control">Persistent Search Request Control</a></dt><dt>Scope, <a class="indexterm" href="#basedn-and-scope">Setting Search Base &amp; Scope</a></dt><dt>Server-side sort, <a class="indexterm" href="#use-server-side-sort-control">Server-Side Sort Controls</a></dt><dt>Simple paged results, <a class="indexterm" href="#use-simple-paged-results-control">Simple Paged Results Control</a></dt><dt>Sorting, <a class="indexterm" href="#careful-with-persistent-search-and-server-side-sorting">Take Care With Persistent Search &amp; Server-Side Sorting</a></dt><dt>Virtual list view, <a class="indexterm" href="#use-vlv-control">Virtual List View Controls</a></dt></dl></dd><dt>Sorting, <a class="indexterm" href="#sort-search-results">Sorting Search Results</a>, <a class="indexterm" href="#use-server-side-sort-control">Server-Side Sort Controls</a>, <a class="indexterm" href="#use-vlv-control">Virtual List View Controls</a></dt></dl></div></div></div></div><p>&nbsp;</p><div id="footer"><p>Something wrong on this page? <a href="https://bugster.forgerock.org/jira/secure/CreateIssue.jspa?pid=10040&components=10132&issuetype=1">Log a documentation bug.</a></p></div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-23412190-14']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body></html>