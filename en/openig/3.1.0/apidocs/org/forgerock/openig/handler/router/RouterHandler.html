<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_71) on Thu Dec 11 11:30:27 CET 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>RouterHandler (OpenIG 3.1.0 API)</title>
<meta name="date" content="2014-12-11">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RouterHandler (OpenIG 3.1.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RouterHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><b>OpenIG 3.1.0 API</b></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../org/forgerock/openig/handler/router/RouterHandler.Heaplet.html" title="class in org.forgerock.openig.handler.router"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/forgerock/openig/handler/router/RouterHandler.html" target="_top">Frames</a></li>
<li><a href="RouterHandler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_org.forgerock.openig.heap.GenericHeapObject">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.forgerock.openig.handler.router</div>
<h2 title="Class RouterHandler" class="title">Class RouterHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/forgerock/openig/heap/GenericHeapObject.html" title="class in org.forgerock.openig.heap">org.forgerock.openig.heap.GenericHeapObject</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/forgerock/openig/handler/GenericHandler.html" title="class in org.forgerock.openig.handler">org.forgerock.openig.handler.GenericHandler</a></li>
<li>
<ul class="inheritance">
<li>org.forgerock.openig.handler.router.RouterHandler</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../org/forgerock/openig/handler/Handler.html" title="interface in org.forgerock.openig.handler">Handler</a></dd>
</dl>
<hr>
<br>
<pre>public class <a href="../../../../../src-html/org/forgerock/openig/handler/router/RouterHandler.html#line.65">RouterHandler</a>
extends <a href="../../../../../org/forgerock/openig/handler/GenericHandler.html" title="class in org.forgerock.openig.handler">GenericHandler</a></pre>
<div class="block">Auto-configured <a href="../../../../../org/forgerock/openig/handler/DispatchHandler.html" title="class in org.forgerock.openig.handler"><code>DispatchHandler</code></a>.
 It looks for route configuration files (very similar to the usual general config file)
 in a defined directory (by default it looks in config/routes/).
 <pre>
   {
     "name": "Router",
     "type": "Router",
     "config": {
       "directory": "/tmp/routes",
       "defaultHandler": "404NotFound",
       "scanInterval": 2
     }
   }
 </pre>

 Note that scanInterval is defined in seconds. If -1 (or any negative value) is
 provided, only an initial scan is performed at startup, synchronously.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>2.2</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/forgerock/openig/handler/router/RouterHandler.Heaplet.html" title="class in org.forgerock.openig.handler.router">RouterHandler.Heaplet</a></strong></code>
<div class="block">Creates and initializes a routing handler in a heap environment.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.forgerock.openig.heap.GenericHeapObject">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.forgerock.openig.heap.<a href="../../../../../org/forgerock/openig/heap/GenericHeapObject.html" title="class in org.forgerock.openig.heap">GenericHeapObject</a></h3>
<code><a href="../../../../../org/forgerock/openig/heap/GenericHeapObject.html#logger">logger</a>, <a href="../../../../../org/forgerock/openig/heap/GenericHeapObject.html#storage">storage</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/forgerock/openig/handler/router/RouterHandler.html#RouterHandler(org.forgerock.openig.handler.router.RouteBuilder,%20org.forgerock.openig.handler.router.DirectoryScanner)">RouterHandler</a></strong>(org.forgerock.openig.handler.router.RouteBuilder&nbsp;builder,
                          org.forgerock.openig.handler.router.DirectoryScanner&nbsp;scanner)</code>
<div class="block">Builds a router that loads its configuration from the given directory.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/forgerock/openig/handler/router/RouterHandler.html#handle(org.forgerock.openig.http.Exchange)">handle</a></strong>(<a href="../../../../../org/forgerock/openig/http/Exchange.html" title="class in org.forgerock.openig.http">Exchange</a>&nbsp;exchange)</code>
<div class="block">Called to request the handler respond to the request.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/forgerock/openig/handler/router/RouterHandler.html#onChanges(org.forgerock.openig.handler.router.FileChangeSet)">onChanges</a></strong>(org.forgerock.openig.handler.router.FileChangeSet&nbsp;changes)</code>
<div class="block">Notify that changes has been detected in the monitored directory.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/forgerock/openig/handler/router/RouterHandler.html#setDefaultHandler(org.forgerock.openig.handler.Handler)">setDefaultHandler</a></strong>(<a href="../../../../../org/forgerock/openig/handler/Handler.html" title="interface in org.forgerock.openig.handler">Handler</a>&nbsp;handler)</code>
<div class="block">Sets the handler which should be invoked when no routes match the
 request.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/forgerock/openig/handler/router/RouterHandler.html#setRouteComparator(java.util.Comparator)">setRouteComparator</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;org.forgerock.openig.handler.router.Route&gt;&nbsp;comparator)</code>
<div class="block">Changes the ordering of the managed routes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/forgerock/openig/handler/router/RouterHandler.html#start()">start</a></strong>()</code>
<div class="block">Starts this handler, executes an initial directory scan.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/forgerock/openig/handler/router/RouterHandler.html#stop()">stop</a></strong>()</code>
<div class="block">Stops this handler, shutting down and clearing all the managed routes.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RouterHandler(org.forgerock.openig.handler.router.RouteBuilder, org.forgerock.openig.handler.router.DirectoryScanner)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RouterHandler</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/forgerock/openig/handler/router/RouterHandler.html#line.108">RouterHandler</a>(org.forgerock.openig.handler.router.RouteBuilder&nbsp;builder,
             org.forgerock.openig.handler.router.DirectoryScanner&nbsp;scanner)</pre>
<div class="block">Builds a router that loads its configuration from the given directory.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>builder</code> - route builder</dd><dd><code>scanner</code> - <code>DirectoryScanner</code> that will be invoked at each incoming request</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setRouteComparator(java.util.Comparator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRouteComparator</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/forgerock/openig/handler/router/RouterHandler.html#line.120">setRouteComparator</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;org.forgerock.openig.handler.router.Route&gt;&nbsp;comparator)</pre>
<div class="block">Changes the ordering of the managed routes.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>comparator</code> - route comparator</dd></dl>
</li>
</ul>
<a name="setDefaultHandler(org.forgerock.openig.handler.Handler)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDefaultHandler</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/forgerock/openig/handler/router/RouterHandler.html#line.139">setDefaultHandler</a>(<a href="../../../../../org/forgerock/openig/handler/Handler.html" title="interface in org.forgerock.openig.handler">Handler</a>&nbsp;handler)</pre>
<div class="block">Sets the handler which should be invoked when no routes match the
 request.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>handler</code> - the handler which should be invoked when no routes match the
            request</dd></dl>
</li>
</ul>
<a name="start()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/forgerock/openig/handler/router/RouterHandler.html#line.151">start</a>()</pre>
<div class="block">Starts this handler, executes an initial directory scan.</div>
</li>
</ul>
<a name="stop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/forgerock/openig/handler/router/RouterHandler.html#line.158">stop</a>()</pre>
<div class="block">Stops this handler, shutting down and clearing all the managed routes.</div>
</li>
</ul>
<a name="onChanges(org.forgerock.openig.handler.router.FileChangeSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onChanges</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/forgerock/openig/handler/router/RouterHandler.html#line.174">onChanges</a>(org.forgerock.openig.handler.router.FileChangeSet&nbsp;changes)</pre>
<div class="block">Notify that changes has been detected in the monitored directory.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>changes</code> - Content of the change set</dd></dl>
</li>
</ul>
<a name="handle(org.forgerock.openig.http.Exchange)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>handle</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/forgerock/openig/handler/router/RouterHandler.html#line.242">handle</a>(<a href="../../../../../org/forgerock/openig/http/Exchange.html" title="class in org.forgerock.openig.http">Exchange</a>&nbsp;exchange)
            throws <a href="../../../../../org/forgerock/openig/handler/HandlerException.html" title="class in org.forgerock.openig.handler">HandlerException</a>,
                   <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../org/forgerock/openig/handler/Handler.html#handle(org.forgerock.openig.http.Exchange)">Handler</a></code></strong></div>
<div class="block">Called to request the handler respond to the request.
 <p>
 A handler that doesn't hand-off an exchange to another handler downstream is
 responsible for creating the response in the exchange object.
 <p>
 <strong>Important note:</strong> If an existing response exists in the exchange object
 and the handler intends to replace it with its own, it must first check to see if the
 existing response has an entity, and if it does, must call its <code>close</code> method in
 order to signal that the processing of the response from a remote server is complete.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/forgerock/openig/handler/Handler.html#handle(org.forgerock.openig.http.Exchange)">handle</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/forgerock/openig/handler/Handler.html" title="interface in org.forgerock.openig.handler">Handler</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>exchange</code> - the exchange containing the request to handle.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/forgerock/openig/handler/HandlerException.html" title="class in org.forgerock.openig.handler">HandlerException</a></code> - if an exception occurs that prevents handling of the request.</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an I/O exception occurs.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RouterHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><b>OpenIG 3.1.0 API</b></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../org/forgerock/openig/handler/router/RouterHandler.Heaplet.html" title="class in org.forgerock.openig.handler.router"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/forgerock/openig/handler/router/RouterHandler.html" target="_top">Frames</a></li>
<li><a href="RouterHandler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_org.forgerock.openig.heap.GenericHeapObject">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014 <a href="http://www.forgerock.com">ForgeRock AS</a>. All rights reserved.</small></p>
</body>
</html>
